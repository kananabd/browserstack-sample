const a1_0x8dc69f=a1_0x1037;function a1_0x5a67(){const _0x47afc1=['bhKiG','issuerURL','DNbGO','BwUqO','isSubnetsValid','\x20CLIENT\x20ID:\x20','rlzEz','sendAzureInfoToHST','zcHrh','getById','2206984rjgSPS','turboscale-storageaccount-deployment','managedClusters','sbSkM','PlQsa','zIEUJ','wuzTr','XFeOW','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','setCachedCredsInRegistry','YbaeF','WAAyS','rmVTD','ctrWu','\x20CLIENT\x20SECRET:\x20','vwghY','subnets','@azure/arm-network','Deleting\x20the\x20cluster\x20','zKrun','CLNpE','subscriptionId','bqAlX','UjpUf','hubHaNameSpace','HVfcy','MNqzK','beginDeleteAndWait','xwYdO','UrtUb','turboscale','bsChb','hub','split','userInstanceType','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','wujln','Qerby','tySiK','VXkjI','fUiQA','clientId','715682sZCFII','bstackAccesskey','ZbWOk','MWchu','VkhdZ','iqVGy','opsMS','@azure/arm-storage','ytsKS','hsytv','18561704SXFzuy','string','ftJbF','cVzbs','UAaWF','IIdjL','Pvkid','ZmQFR','clientSecret','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','HHCJI','ifOUV','storageClient','OAlMl','beginCreateOrUpdateAndWait','getResourceGroups','wAYAg','FPnde','error','rXICq','resourceClient','getGridHostname','message','baseBlob','YiZYf','rQnXA','.\x20Error:\x20','blobTypes','loadBalancer','ALlmM','storageAccounts','ufIdA','OMnsv','rws','../config/constants','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','pNbhC','0|2|5|3|4|1','Lifecycle','nZWQp','mwptG','GZYQZ','6JqfiCq','3410162NbTkDz','default','1162164icZuuY','UANiC','gpYjp','ZySId','NkoFx','BrowserStack','xWMRE','lmhXL','EQaKZ','StLAK','YYpfg','vpcInfo','zIvAX','uoPZv','XgFDE','ZajGm','status','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','mWHol','BytkU','fMmfW','turboscale-federated-deployment','JHIYL','PJxdg','IsRYs','browserstack:managedBy','Deleted\x20the\x20cluster\x20successfully','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','cloudProvider','federatedidentity','IqXtn','createStorageAccount','createCluster','sdeiv','ptrKM','OPELv','tenantId','delete','sWBVn','ptFim','Incremental','Nqcmb','bRTBn','wknPk','IVrfI','getKubeConfigData','instanceType','LTiIq','mUmVc','Glusw','./CloudProvider','managedidentity.json','setupHubHa','wnngN','sxnOx','federatedidentityuploader.json','4|0|1|3|2|5','aEuxX','cloudProviderResourceGroup','name','LsNWV','vpcName','rZzmK','updateClusterAlreadyPresent','resources','deleteCluster','hubharesources','qZJme','AmnAQ','AlSjU','MApsm','policy','bwTLz','NCRqW','@azure/arm-containerservice','iFyat','dFHrl','LOG','oSwbc','XxaRV','iNxwI','VTbZp','AgDjn','ACJXN','metadata','nvwfY','htftY','kubeconfigs','qhqur','isiPB','zOaVr','\x20SUBSCRIPTION\x20ID:\x20','bstackUsername','qAHsH','createOrUpdate','type','WGPMW','dlpyp','MQzqC','wLQpa','CZzlN','webSocketUtils','prcLi','azureresources','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','Gsvyr','createFederatedAccountForHubHA','managementPolicies','ShClR','Managed\x20identity\x20already\x20exists,\x20skipping','getClusterInfo','RESOURCES','length','cloudProviderSubscriptionId','Creating\x20Azure\x20managed\x20identity','cloudProviderName','JIVhb','zFdmM','subnetName','clusterName','cloudProviderClientId','containerClient','maQfG','iaUAU','odVdg','pnaLP','maxNodes','xtewg','storageAccountName','resourceGroups','cloudProviderTenantId','ExJkg','readFileAsync','eIFbk','pwgNQ','templates','parse','tEMOD','cloudProviderClientSecret','rXYLf','slice','zEjTZ','push','mYXjH','meOyx','getResourceClientId','AWxOy','variables','wbyzv','createManagedIdentity','HulHB','SBoFH','location','Njbim','DKsIH','path','listByResourceGroup','BKYOk','YEhjh','tVqfv','workloadIdentity','iYTZm','JwIpU','LzjeE','dpPoa','filters','LkCVI','turboscale-managed-identity-','daysAfterCreationGreaterThan','MBBpD','INFht','hgMLB','value','FMsrg','zxscJ','exit','listAll','definition','RbJEb','QpZnS','turboscale-identity-deployment','iGsiR','tFhoZ','hkJdJ','agentPoolProfiles','DpzdC','wCvya','setupNewCluster','disableLocalAccounts','BqKey','SiYlm','../config/logger','networkClient','HUXzu','Cannot\x20find\x20VPC\x20','QWlfU','257184fGbGCh','nKwlj','Enabling\x20Local\x20account\x20for\x20the\x20cluster','toLowerCase','FPuje','dZweo','get','sendEventToBackend','pBbnA','iQGio','mvJLC','[variables(\x27vnetSubnetID\x27)]','setClients','1448830XvvQKT','naglv','createOtherResources','properties','isClusterPresent','hBVOM','description','NTDjo','EXTbx','fkynY','log','BDvdF','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','s3Bucket','EvkkA','pPVYX','Creating\x20Azure\x20federated\x20identity','isManagedIdentityPresent','QIwGv','toString','turboscale-cluster-deployment','ZzSjb','listClusterAdminCredentials','OkgLN','js-yaml','uoZXD','toUpperCase','resourceGroup','virtualNetworks','utf-8','@azure/identity','ruute','HJcNd','aOLCN','ZvSgR','clusterInfo','accessKey','Hhwjy','enabled','ugKKj','cEsMC','eFFIw','deployments','OvvIt','ijUZV','hZuTn','TvWEK','uhWxB','vnetSubnetID','init','createFederatedAccount','YUgmY','info','ingress','IVSwu','xpTOm','uMleH','Storage\x20account\x20already\x20exists,\x20skipping','Creating\x20Azure\x20storage\x20account','hostname','taGiO','securityProfile','gOblZ','DGjgw','actions','node','QXeFi','getStorageAccountName','XoKxK','ZnCnD','exports','isStorageAccountPresent','iPpvk','3|1|2|0|5|4','\x20RESOURCE\x20GROUP:\x20','join','HNpiI','OzRnP'];a1_0x5a67=function(){return _0x47afc1;};return a1_0x5a67();}function a1_0x1037(_0x309f31,_0x58cfb2){const _0x5a677d=a1_0x5a67();return a1_0x1037=function(_0x1037d8,_0x389b7b){_0x1037d8=_0x1037d8-0xf1;let _0x477f39=_0x5a677d[_0x1037d8];return _0x477f39;},a1_0x1037(_0x309f31,_0x58cfb2);}(function(_0x2d8a21,_0x176d94){const _0x3a42cc=a1_0x1037,_0x1e2497=_0x2d8a21();while(!![]){try{const _0x512096=-parseInt(_0x3a42cc(0x230))/0x1+-parseInt(_0x3a42cc(0x267))/0x2+-parseInt(_0x3a42cc(0x1a1))/0x3+-parseInt(_0x3a42cc(0x206))/0x4+parseInt(_0x3a42cc(0x1ae))/0x5*(-parseInt(_0x3a42cc(0x264))/0x6)+parseInt(_0x3a42cc(0x265))/0x7+parseInt(_0x3a42cc(0x23a))/0x8;if(_0x512096===_0x176d94)break;else _0x1e2497['push'](_0x1e2497['shift']());}catch(_0x139e86){_0x1e2497['push'](_0x1e2497['shift']());}}}(a1_0x5a67,0x8e6cf));const fs=require('fs'),path=require(a1_0x8dc69f(0x178)),yaml=require(a1_0x8dc69f(0x1c6)),{logger}=require(a1_0x8dc69f(0x19c)),{CloudProvider}=require(a1_0x8dc69f(0x10f)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x8dc69f(0x25c)),{ClientSecretCredential}=require(a1_0x8dc69f(0x1cc)),{NetworkManagementClient}=require(a1_0x8dc69f(0x217)),{StorageManagementClient}=require(a1_0x8dc69f(0x237)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x8dc69f(0x127));class AzureCloudProvider extends CloudProvider{constructor(_0xa2f67d,_0x193773,_0x28b1aa,_0x2ea1b9){const _0x2109fe=a1_0x8dc69f,_0x16e3b8={};_0x16e3b8[_0x2109fe(0x1e4)]=_0x2109fe(0x1f7);const _0x1d976a=_0x16e3b8,_0x758a46=_0x1d976a[_0x2109fe(0x1e4)][_0x2109fe(0x227)]('|');let _0x2cc86d=0x0;while(!![]){switch(_0x758a46[_0x2cc86d++]){case'0':this['storageClient']=null;continue;case'1':this[_0x2109fe(0x1d1)]=null;continue;case'2':this[_0x2109fe(0x156)]=null;continue;case'3':super(AZURE,_0xa2f67d,_0x193773,_0x28b1aa,_0x2ea1b9);continue;case'4':this[_0x2109fe(0x19d)]=null;continue;case'5':this[_0x2109fe(0x24e)]=null;continue;}break;}}async[a1_0x8dc69f(0x1df)](){const _0x4cd6e4=a1_0x8dc69f;return await super[_0x4cd6e4(0x1df)](),this;}[a1_0x8dc69f(0x1ad)](){const _0x4e15fb=a1_0x8dc69f,_0x452a46=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x4e15fb(0x155)],global_registry[_0x4e15fb(0x167)]);this[_0x4e15fb(0x156)]=new ContainerServiceClient(_0x452a46,global_registry[_0x4e15fb(0x14e)]),this['storageClient']=new StorageManagementClient(_0x452a46,global_registry[_0x4e15fb(0x14e)]),this['resourceClient']=new ResourceManagementClient(_0x452a46,global_registry['cloudProviderSubscriptionId']),this[_0x4e15fb(0x19d)]=new NetworkManagementClient(_0x452a46,global_registry[_0x4e15fb(0x14e)]);}[a1_0x8dc69f(0x1f1)](){const _0x2bb68b=a1_0x8dc69f,_0xbd5269={};_0xbd5269[_0x2bb68b(0x275)]=function(_0x558223,_0x47ec9f){return _0x558223+_0x47ec9f;},_0xbd5269[_0x2bb68b(0x108)]=_0x2bb68b(0x224),_0xbd5269[_0x2bb68b(0x17f)]=function(_0x229b18,_0x20064d){return _0x229b18-_0x20064d;};const _0x2ebbae=_0xbd5269,_0xd45e7f=global_registry[_0x2bb68b(0x1bb)][_0x2bb68b(0x227)]('-'),_0x40adbd=_0x2ebbae[_0x2bb68b(0x275)](_0x2ebbae[_0x2bb68b(0x108)],_0xd45e7f[_0x2ebbae[_0x2bb68b(0x17f)](_0xd45e7f[_0x2bb68b(0x14d)],0x1)])['slice'](0x0,0x18);return _0x40adbd[_0x2bb68b(0x1a4)]();}[a1_0x8dc69f(0x20f)](_0x52d12c){const _0x5383f6=a1_0x8dc69f,_0x509da1={};_0x509da1[_0x5383f6(0x262)]='2|5|3|0|4|1';const _0x37314e=_0x509da1,_0x2953c9=_0x37314e[_0x5383f6(0x262)]['split']('|');let _0x3f3056=0x0;while(!![]){switch(_0x2953c9[_0x3f3056++]){case'0':global_registry[_0x5383f6(0x14e)]=_0x52d12c[this[_0x5383f6(0x150)]][_0x5383f6(0x21b)];continue;case'1':this[_0x5383f6(0x1ad)]();continue;case'2':global_registry[_0x5383f6(0x155)]=_0x52d12c[this['cloudProviderName']][_0x5383f6(0x22f)];continue;case'3':global_registry['cloudProviderTenantId']=_0x52d12c[this[_0x5383f6(0x150)]][_0x5383f6(0x101)];continue;case'4':global_registry[_0x5383f6(0x117)]=_0x52d12c[this['cloudProviderName']][_0x5383f6(0x1c9)];continue;case'5':global_registry[_0x5383f6(0x167)]=_0x52d12c[this[_0x5383f6(0x150)]][_0x5383f6(0x242)];continue;}break;}}async['getUserInput'](_0x454e6b,_0x156b43){const _0x236c03=a1_0x8dc69f,_0xa2496c={'aYRUp':function(_0x571072,_0x41c9a6){return _0x571072===_0x41c9a6;},'opsMS':function(_0x275185,_0x3aed3c){return _0x275185+_0x3aed3c;},'KGMZz':function(_0x5973d8,_0x4634ac){return _0x5973d8(_0x4634ac);},'wuzTr':function(_0x36d58d,_0x47c918){return _0x36d58d(_0x47c918);},'DpzdC':function(_0x156427,_0xf170b4){return _0x156427(_0xf170b4);},'StLAK':function(_0x24a579,_0x14e34f){return _0x24a579===_0x14e34f;},'YYpfg':_0x236c03(0x1b9),'fUiQA':function(_0x12078f,_0x4efb45){return _0x12078f(_0x4efb45);},'uoZXD':function(_0x177ea8,_0x27dc43){return _0x177ea8===_0x27dc43;},'aOLCN':function(_0x786abf,_0x3a1e8e){return _0x786abf!==_0x3a1e8e;},'dFHrl':_0x236c03(0x1b3),'LTiIq':_0x236c03(0x263),'ytsKS':function(_0x5b19a0,_0x1476a7){return _0x5b19a0(_0x1476a7);},'XoKxK':function(_0xc7f329,_0x2534e2){return _0xc7f329===_0x2534e2;},'JHIYL':function(_0x52134e,_0x2e1404){return _0x52134e!==_0x2e1404;},'qhqur':_0x236c03(0x269),'dlpyp':_0x236c03(0x278),'ALlmM':_0x236c03(0x22c),'zFdmM':_0x236c03(0x25a),'vwghY':_0x236c03(0x183),'hgMLB':function(_0x3e629b,_0x42bc80){return _0x3e629b<_0x42bc80;},'WGPMW':function(_0x3a902e,_0x30806c){return _0x3a902e!==_0x30806c;},'maQfG':'FNZJh','Glusw':_0x236c03(0x137),'bwTLz':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','ShClR':function(_0x5b0e9b,_0x4000e0){return _0x5b0e9b(_0x4000e0);},'RbJOE':function(_0x3338fa,_0x395d16){return _0x3338fa<=_0x395d16;},'OPELv':function(_0x94b321,_0xd49f4){return _0x94b321>_0xd49f4;},'PWVlp':function(_0x288f06,_0x2562bb){return _0x288f06===_0x2562bb;},'bRTBn':_0x236c03(0x240),'AgDjn':function(_0x5c6235,_0x2e2262){return _0x5c6235-_0x2e2262;}},_0x1ce5be=this[_0x236c03(0x150)][_0x236c03(0x1c8)](),_0x41e7c0=await _0xa2496c['KGMZz'](_0x454e6b,_0x1ce5be+_0x236c03(0x201)),_0x2a78ff=await _0xa2496c[_0x236c03(0x20c)](_0x454e6b,_0x1ce5be+_0x236c03(0x214)),_0x19977b=await _0xa2496c[_0x236c03(0x20c)](_0x454e6b,_0x1ce5be+'\x20TENANT\x20ID:\x20'),_0xeabe5c=await _0xa2496c[_0x236c03(0x196)](_0x454e6b,_0x1ce5be+_0x236c03(0x138));global_registry[_0x236c03(0x155)]=_0x41e7c0,global_registry[_0x236c03(0x167)]=_0x2a78ff,global_registry[_0x236c03(0x15f)]=_0x19977b,global_registry['cloudProviderSubscriptionId']=_0xeabe5c,this[_0x236c03(0x1ad)]();const _0x3b78cc=await this[_0x236c03(0x249)](),_0x5ecd51=_0x3b78cc['length'];let _0x2e8ddb;if(_0xa2496c['aYRUp'](_0x5ecd51,0x0))_0xa2496c[_0x236c03(0x270)](_0xa2496c[_0x236c03(0x271)],_0xa2496c[_0x236c03(0x271)])?_0x2e8ddb=await _0xa2496c[_0x236c03(0x22e)](_0x454e6b,_0x1ce5be+_0x236c03(0x1f8)):_0x490408[_0x236c03(0x16b)](_0x3e015a);else{if(_0xa2496c[_0x236c03(0x1c7)](_0x5ecd51,0x1)){if(_0xa2496c[_0x236c03(0x1cf)](_0xa2496c[_0x236c03(0x129)],_0xa2496c[_0x236c03(0x10c)])){const _0x93e0cc=await _0xa2496c[_0x236c03(0x238)](_0x454e6b,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x3b78cc[0x0]+_0x236c03(0x145));if(_0xa2496c[_0x236c03(0x1c7)](_0x93e0cc,undefined)||_0xa2496c[_0x236c03(0x1c7)](_0x93e0cc,null)||!(_0xa2496c[_0x236c03(0x1f2)](_0x93e0cc[_0x236c03(0x1a4)](),'y')||_0xa2496c['XoKxK'](_0x93e0cc['toLowerCase'](),'n'))){if(_0xa2496c[_0x236c03(0xf3)](_0xa2496c[_0x236c03(0x135)],_0xa2496c[_0x236c03(0x135)]))return!![];else console[_0x236c03(0x24c)](_0xa2496c[_0x236c03(0x13e)]),process[_0x236c03(0x18c)](0x1);}if(_0xa2496c[_0x236c03(0x1f2)](_0x93e0cc[_0x236c03(0x1a4)](),'n')){if(_0xa2496c[_0x236c03(0xf3)](_0xa2496c[_0x236c03(0x257)],_0xa2496c[_0x236c03(0x152)]))process[_0x236c03(0x18c)](0x0);else{if(_0xa2496c['aYRUp'](_0x280f40['name'],_0x587b9a))return!![];}}_0x2e8ddb=_0x3b78cc[0x0];}else{if(_0xa2496c['aYRUp'](_0x90a6b2[_0x236c03(0x118)],_0x236c03(0x184)+this['clusterName']))return!![];}}else{if(_0xa2496c[_0x236c03(0xf3)](_0xa2496c[_0x236c03(0x215)],_0xa2496c[_0x236c03(0x215)]))_0x41845f[_0x236c03(0x1b8)]('['+_0xa2496c[_0x236c03(0x236)](_0x42f0d9,0x1)+']\x20'+_0x478e46[_0x2bbd9d]);else{for(let _0x1bc79f=0x0;_0xa2496c[_0x236c03(0x188)](_0x1bc79f,_0x3b78cc[_0x236c03(0x14d)]);_0x1bc79f+=0x1){_0xa2496c[_0x236c03(0x13d)](_0xa2496c[_0x236c03(0x157)],_0xa2496c[_0x236c03(0x10e)])?console['log']('['+_0xa2496c[_0x236c03(0x236)](_0x1bc79f,0x1)+']\x20'+_0x3b78cc[_0x1bc79f]):_0x218f35=_0x20034c['id'];}const _0x47066f=await _0xa2496c[_0x236c03(0x20c)](_0x454e6b,_0xa2496c[_0x236c03(0x125)]),_0x2ff8b1=_0xa2496c['wuzTr'](Number,_0x47066f);if(_0xa2496c[_0x236c03(0x149)](isNaN,_0x2ff8b1)||_0xa2496c['RbJOE'](_0x2ff8b1,0x0)||_0xa2496c[_0x236c03(0x100)](_0x2ff8b1,_0x5ecd51)){if(_0xa2496c['PWVlp'](_0xa2496c['bRTBn'],_0xa2496c[_0x236c03(0x107)]))console[_0x236c03(0x24c)](_0xa2496c[_0x236c03(0x13e)]),process['exit'](0x1);else return!![];}_0x2e8ddb=_0x3b78cc[_0xa2496c[_0x236c03(0x12f)](_0x2ff8b1,0x1)];}}}global_registry[_0x236c03(0x117)]=_0x2e8ddb;const _0x5c53f3={};return _0x5c53f3[_0x236c03(0x22f)]=_0x41e7c0,_0x5c53f3[_0x236c03(0x242)]=_0x2a78ff,_0x5c53f3['tenantId']=_0x19977b,_0x5c53f3[_0x236c03(0x21b)]=_0xeabe5c,_0x5c53f3[_0x236c03(0x1c9)]=_0x2e8ddb,_0x156b43[_0x236c03(0xf9)][AZURE]=_0x5c53f3,_0x156b43;}async[a1_0x8dc69f(0x249)](){const _0x3699e4=a1_0x8dc69f,_0x3dd73a={};_0x3dd73a['NCRqW']=function(_0x53e25e,_0x4cba63){return _0x53e25e!==_0x4cba63;},_0x3dd73a['ctrWu']=_0x3699e4(0x13f),_0x3dd73a['iaUAU']=_0x3699e4(0x1e6),_0x3dd73a['htftY']=function(_0x29ed7e,_0x46b00b){return _0x29ed7e===_0x46b00b;},_0x3dd73a['OzRnP']=_0x3699e4(0x1e1),_0x3dd73a['uhWxB']='bhrzO';const _0x5d63be=_0x3dd73a,_0x5dac95=[];try{if(_0x5d63be[_0x3699e4(0x126)](_0x5d63be[_0x3699e4(0x213)],_0x5d63be[_0x3699e4(0x158)])){const _0x3e8253=await this[_0x3699e4(0x24e)][_0x3699e4(0x15e)]['list']();for await(const _0x27ea39 of _0x3e8253){if(_0x5d63be[_0x3699e4(0x133)](_0x5d63be[_0x3699e4(0x1fb)],_0x5d63be[_0x3699e4(0x1dd)]))return!![];else _0x5dac95[_0x3699e4(0x16b)](_0x27ea39[_0x3699e4(0x118)]);}}else return;}catch(_0x3bd386){}return _0x5dac95;}async[a1_0x8dc69f(0x14b)](){const _0x54892f=a1_0x8dc69f;return this['clusterInfo']=await this['containerClient'][_0x54892f(0x208)][_0x54892f(0x1a7)](global_registry[_0x54892f(0x117)],this[_0x54892f(0x154)]),this[_0x54892f(0x1d1)];}async[a1_0x8dc69f(0x10a)](){const _0x384701=a1_0x8dc69f,_0x3b9ef0=await this[_0x384701(0x156)][_0x384701(0x208)][_0x384701(0x1c4)](global_registry[_0x384701(0x117)],this[_0x384701(0x154)]),_0x51a8ca=_0x3b9ef0[_0x384701(0x134)][0x0][_0x384701(0x189)][_0x384701(0x1c1)]();return _0x51a8ca;}[a1_0x8dc69f(0x24f)](_0x92a56a){const _0x606baa=a1_0x8dc69f;return _0x92a56a[_0x606baa(0x277)][_0x606baa(0x256)][_0x606baa(0x1e3)][0x0]['hostname'];}async[a1_0x8dc69f(0x1b2)](){const _0x17ecc2=a1_0x8dc69f,_0x58a3ce={};_0x58a3ce[_0x17ecc2(0x18a)]=function(_0x4aea37,_0x597472){return _0x4aea37!==_0x597472;},_0x58a3ce[_0x17ecc2(0x10d)]='tZArj',_0x58a3ce[_0x17ecc2(0x26a)]=_0x17ecc2(0x244),_0x58a3ce[_0x17ecc2(0xf5)]=function(_0x3f5f92,_0x5e6ab9){return _0x3f5f92===_0x5e6ab9;},_0x58a3ce[_0x17ecc2(0x1e5)]=_0x17ecc2(0x13a),_0x58a3ce[_0x17ecc2(0x26b)]=_0x17ecc2(0x12b),_0x58a3ce[_0x17ecc2(0x1da)]='RqBZB',_0x58a3ce[_0x17ecc2(0x25e)]='PpmSG';const _0x3069ef=_0x58a3ce,_0x618a2d=new Array();for await(const _0x17dd22 of this[_0x17ecc2(0x156)][_0x17ecc2(0x208)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x3069ef[_0x17ecc2(0x18a)](_0x3069ef['mUmVc'],_0x3069ef[_0x17ecc2(0x26a)]))_0x618a2d[_0x17ecc2(0x16b)](_0x17dd22);else{const _0x3f2008=new _0x371cf7(_0x260030[_0x17ecc2(0x15f)],_0x1163d5[_0x17ecc2(0x155)],_0x4588bd[_0x17ecc2(0x167)]);this[_0x17ecc2(0x156)]=new _0x446476(_0x3f2008,_0xa927c2[_0x17ecc2(0x14e)]),this[_0x17ecc2(0x246)]=new _0xa5fb52(_0x3f2008,_0x5adbfb[_0x17ecc2(0x14e)]),this[_0x17ecc2(0x24e)]=new _0x1d8acc(_0x3f2008,_0x16bffd[_0x17ecc2(0x14e)]),this[_0x17ecc2(0x19d)]=new _0x26d857(_0x3f2008,_0x1479e1['cloudProviderSubscriptionId']);}}for await(const _0x408040 of _0x618a2d){if(_0x3069ef[_0x17ecc2(0xf5)](_0x3069ef['xpTOm'],_0x3069ef[_0x17ecc2(0x26b)]))return!![];else{if(_0x3069ef[_0x17ecc2(0xf5)](_0x408040[_0x17ecc2(0x118)],this[_0x17ecc2(0x154)]))return _0x3069ef[_0x17ecc2(0x18a)](_0x3069ef[_0x17ecc2(0x1da)],_0x3069ef[_0x17ecc2(0x25e)])?(await this[_0x17ecc2(0x14b)](),!![]):(_0x2d8f45[_0x17ecc2(0x24c)]('Cannot\x20find\x20subnets\x20'+_0x3258ab+_0x17ecc2(0x254)+_0x4f4c8d),[![],[]]);}}return![];}async[a1_0x8dc69f(0x198)](_0x1076e3=null,_0x1ed384=null){const _0x22ad33=a1_0x8dc69f,_0x4d40ca={};_0x4d40ca[_0x22ad33(0x1db)]=_0x22ad33(0x115),_0x4d40ca[_0x22ad33(0x17e)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x85abd8=_0x4d40ca,_0x3156dd=_0x85abd8['hZuTn'][_0x22ad33(0x227)]('|');let _0x1eb42d=0x0;while(!![]){switch(_0x3156dd[_0x1eb42d++]){case'0':const _0x317cd5={};_0x317cd5[_0x22ad33(0x13c)]=WS_EVENTS['LOG'],_0x317cd5[_0x22ad33(0x250)]=_0x85abd8[_0x22ad33(0x17e)],this['webSocketUtils'][_0x22ad33(0x1a8)](this[_0x22ad33(0x25b)],_0x317cd5);continue;case'1':logger[_0x22ad33(0x1e2)](_0x85abd8[_0x22ad33(0x17e)]);continue;case'2':await this[_0x22ad33(0x1b0)]();continue;case'3':await this[_0x22ad33(0xfd)](_0x1076e3,_0x1ed384);continue;case'4':this['sendAzureInfoToHST']();continue;case'5':return[_0x1076e3,_0x1ed384];}break;}}async['createCluster'](_0xb23da=null,_0x418c2c=null){const _0x15487d=a1_0x8dc69f,_0x2aebc4={};_0x2aebc4[_0x15487d(0x24b)]=_0x15487d(0x164),_0x2aebc4['hkJdJ']=_0x15487d(0x144),_0x2aebc4[_0x15487d(0x113)]='akscluster.json',_0x2aebc4['bsChb']='utf-8',_0x2aebc4[_0x15487d(0x245)]=function(_0x1ca231,_0x2a8667){return _0x1ca231!==_0x2a8667;},_0x2aebc4[_0x15487d(0x18f)]=function(_0x16bf50,_0xe630fd){return _0x16bf50===_0xe630fd;},_0x2aebc4[_0x15487d(0x159)]=_0x15487d(0x163),_0x2aebc4['YiZYf']=_0x15487d(0x1af),_0x2aebc4[_0x15487d(0x21c)]=_0x15487d(0x23b),_0x2aebc4[_0x15487d(0x234)]=_0x15487d(0x229),_0x2aebc4[_0x15487d(0x232)]=_0x15487d(0x1ba),_0x2aebc4[_0x15487d(0x168)]=_0x15487d(0x1ac),_0x2aebc4[_0x15487d(0x1c5)]=_0x15487d(0x1c2),_0x2aebc4[_0x15487d(0x17a)]=_0x15487d(0x105);const _0x353bd6=_0x2aebc4;let _0x3a076f=await fs[_0x15487d(0x161)](path['join'](__dirname,'..',_0x353bd6[_0x15487d(0x24b)],_0x353bd6[_0x15487d(0x194)],_0x353bd6[_0x15487d(0x113)]),_0x353bd6[_0x15487d(0x225)]);_0x3a076f=JSON[_0x15487d(0x165)](_0x3a076f);const _0x54d2fe={};_0x54d2fe[_0x15487d(0x189)]=this[_0x15487d(0x154)];const _0x84fcb0={};_0x84fcb0[_0x15487d(0x189)]=global_registry['clusterRegion'];const _0x4a485d={};_0x4a485d[_0x15487d(0x189)]=global_registry[_0x15487d(0x10b)];const _0x2308ae={};_0x2308ae['value']=global_registry[_0x15487d(0x15b)];const _0x4791e5={};_0x4791e5[_0x15487d(0x154)]=_0x54d2fe,_0x4791e5[_0x15487d(0x175)]=_0x84fcb0,_0x4791e5[_0x15487d(0x228)]=_0x4a485d,_0x4791e5['userMaxNodes']=_0x2308ae;let _0x58d79f=_0x4791e5;if(_0x353bd6['ifOUV'](_0xb23da,null)&&_0x353bd6[_0x15487d(0x245)](_0x418c2c,null)){if(_0x353bd6[_0x15487d(0x18f)](_0x353bd6[_0x15487d(0x159)],_0x353bd6[_0x15487d(0x252)]))_0x2d8811[_0x15487d(0x16b)](_0x49f798[_0x15487d(0x118)]);else{const _0x57ed94={};_0x57ed94[_0x15487d(0x13c)]=_0x353bd6[_0x15487d(0x21c)],_0x57ed94[_0x15487d(0x131)]={},_0x57ed94[_0x15487d(0x131)][_0x15487d(0x1b4)]=_0x353bd6[_0x15487d(0x234)];const _0x14ff7b={};_0x14ff7b[_0x15487d(0x13c)]=_0x353bd6[_0x15487d(0x21c)],_0x14ff7b[_0x15487d(0x131)]={},_0x14ff7b[_0x15487d(0x131)][_0x15487d(0x1b4)]=_0x353bd6[_0x15487d(0x234)],_0x3a076f['parameters']={..._0x3a076f['parameters'],'vpcName':_0x57ed94,'subnetName':_0x14ff7b};const _0x1483d6={};_0x1483d6[_0x15487d(0x1de)]=_0x353bd6['ZbWOk'],_0x3a076f[_0x15487d(0x170)]=_0x1483d6,_0x3a076f[_0x15487d(0x11d)][0x0][_0x15487d(0x1b1)][_0x15487d(0x195)][0x0]={..._0x3a076f['resources'][0x0][_0x15487d(0x1b1)][_0x15487d(0x195)][0x0],'vnetSubnetID':_0x353bd6['rXYLf']};const _0x138e08={};_0x138e08[_0x15487d(0x189)]=_0xb23da;const _0x2c6fc8={};_0x2c6fc8['value']=_0x418c2c[0x0],_0x58d79f={..._0x58d79f,'vpcName':_0x138e08,'subnetName':_0x2c6fc8};}}await this[_0x15487d(0x24e)][_0x15487d(0x1d8)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x353bd6['OkgLN'],{'properties':{'template':_0x3a076f,'mode':_0x353bd6[_0x15487d(0x17a)],'parameters':_0x58d79f}});}async[a1_0x8dc69f(0x1b0)](){const _0x187270=a1_0x8dc69f,_0x58bf7d={};_0x58bf7d['ZmQFR']=_0x187270(0x243),_0x58bf7d[_0x187270(0x186)]=_0x187270(0x278),_0x58bf7d[_0x187270(0x1ed)]=_0x187270(0x25f),_0x58bf7d[_0x187270(0x1dc)]=function(_0xa8d8fc,_0x5e81de){return _0xa8d8fc===_0x5e81de;},_0x58bf7d[_0x187270(0x235)]=_0x187270(0x279),_0x58bf7d[_0x187270(0x1a6)]=_0x187270(0x1e8),_0x58bf7d['nvwfY']=function(_0x36a351,_0x554d8e){return _0x36a351!==_0x554d8e;},_0x58bf7d[_0x187270(0x130)]='Vvhqv',_0x58bf7d[_0x187270(0xfe)]=_0x187270(0x1e7),_0x58bf7d[_0x187270(0x1fe)]=function(_0x231563,_0x5d1b75){return _0x231563===_0x5d1b75;},_0x58bf7d[_0x187270(0xf4)]=_0x187270(0x1a2),_0x58bf7d['UjpUf']=_0x187270(0x14f),_0x58bf7d[_0x187270(0x112)]=function(_0x33aca5,_0x5edbbe){return _0x33aca5===_0x5edbbe;},_0x58bf7d[_0x187270(0x1a5)]=_0x187270(0x21a),_0x58bf7d[_0x187270(0x106)]=_0x187270(0x190),_0x58bf7d[_0x187270(0x26f)]=_0x187270(0x14a),_0x58bf7d[_0x187270(0x1d5)]=_0x187270(0x1be),_0x58bf7d[_0x187270(0x12c)]='Created\x20Azure\x20federated\x20identity';const _0x4b5cb7=_0x58bf7d,_0x514d79=await this[_0x187270(0x1f5)]();if(!_0x514d79){if(_0x4b5cb7[_0x187270(0x1dc)](_0x4b5cb7[_0x187270(0x235)],_0x4b5cb7[_0x187270(0x235)])){const _0x79f1d1={};_0x79f1d1['type']=WS_EVENTS[_0x187270(0x12a)],_0x79f1d1[_0x187270(0x250)]=_0x4b5cb7[_0x187270(0x1a6)],this['webSocketUtils'][_0x187270(0x1a8)](this[_0x187270(0x25b)],_0x79f1d1),logger['info'](_0x4b5cb7[_0x187270(0x1a6)]),await this[_0x187270(0xfc)]();}else return[!![],_0x530998];}else{if(_0x4b5cb7[_0x187270(0x132)](_0x4b5cb7[_0x187270(0x130)],_0x4b5cb7[_0x187270(0x130)])){_0x3420ad[_0x187270(0x1e2)](_0x4b5cb7[_0x187270(0x241)]);const _0x543a53={};_0x543a53[_0x187270(0x13c)]=_0x1c4a97['RESOURCES'],_0x543a53[_0x187270(0x250)]=_0x4b5cb7['ZmQFR'],this['webSocketUtils'][_0x187270(0x1a8)](this[_0x187270(0x25b)],_0x543a53);const _0x3539a0={};_0x3539a0[_0x187270(0x1d4)]=!![];const _0x4c1ecb={'workloadIdentity':_0x3539a0,..._0x191ce3['securityProfile']};_0x58fff2[_0x187270(0x1eb)]=_0x4c1ecb;}else logger[_0x187270(0x1e2)](_0x4b5cb7[_0x187270(0xfe)]);}const _0x38a423=await this['isManagedIdentityPresent']();if(!_0x38a423){if(_0x4b5cb7[_0x187270(0x1fe)](_0x4b5cb7[_0x187270(0xf4)],_0x4b5cb7[_0x187270(0xf4)])){const _0x46a9a1={};_0x46a9a1[_0x187270(0x13c)]=WS_EVENTS[_0x187270(0x12a)],_0x46a9a1[_0x187270(0x250)]=_0x4b5cb7['UjpUf'],this[_0x187270(0x142)][_0x187270(0x1a8)](this[_0x187270(0x25b)],_0x46a9a1),logger[_0x187270(0x1e2)](_0x4b5cb7[_0x187270(0x21d)]),await this[_0x187270(0x172)]();}else _0x3b8f89[_0x187270(0x24c)](_0x4b5cb7[_0x187270(0x186)]),_0x3d36e5[_0x187270(0x18c)](0x1);}else{if(_0x4b5cb7[_0x187270(0x112)](_0x4b5cb7[_0x187270(0x1a5)],_0x4b5cb7[_0x187270(0x106)])){const _0x2b3a0b=_0x4b5cb7[_0x187270(0x1ed)][_0x187270(0x227)]('|');let _0x48193a=0x0;while(!![]){switch(_0x2b3a0b[_0x48193a++]){case'0':_0x4d8dff['cloudProviderClientId']=_0xd5da49[this['cloudProviderName']]['clientId'];continue;case'1':this[_0x187270(0x1ad)]();continue;case'2':_0x19b738[_0x187270(0x167)]=_0x2e6a30[this[_0x187270(0x150)]][_0x187270(0x242)];continue;case'3':_0x15b4f7[_0x187270(0x14e)]=_0x475bf1[this[_0x187270(0x150)]][_0x187270(0x21b)];continue;case'4':_0x1a3016[_0x187270(0x117)]=_0x3a4419[this[_0x187270(0x150)]]['resourceGroup'];continue;case'5':_0x22357a[_0x187270(0x15f)]=_0x5b661d[this[_0x187270(0x150)]][_0x187270(0x101)];continue;}break;}}else logger['info'](_0x4b5cb7[_0x187270(0x26f)]);}logger['info'](_0x4b5cb7['ugKKj']),await this[_0x187270(0x1e0)](),logger['info'](_0x4b5cb7['XxaRV']);}async['createStorageAccount'](){const _0xcbf856=a1_0x8dc69f,_0x20be04={};_0x20be04[_0xcbf856(0x12d)]=_0xcbf856(0x164),_0x20be04['gDDIE']=_0xcbf856(0x144),_0x20be04[_0xcbf856(0x219)]='storageaccount.json',_0x20be04[_0xcbf856(0x1ec)]=_0xcbf856(0x1cb),_0x20be04[_0xcbf856(0x1c0)]=_0xcbf856(0x207),_0x20be04[_0xcbf856(0x160)]=_0xcbf856(0x105),_0x20be04['DKsIH']='Blob\x20delete\x20lifecycle',_0x20be04['bhKiG']=_0xcbf856(0x260),_0x20be04[_0xcbf856(0x1ff)]='blockBlob',_0x20be04[_0xcbf856(0x261)]=_0xcbf856(0x266);const _0x2f1459=_0x20be04;let _0x5cb88c=await fs[_0xcbf856(0x161)](path[_0xcbf856(0x1f9)](__dirname,'..',_0x2f1459[_0xcbf856(0x12d)],_0x2f1459['gDDIE'],_0x2f1459[_0xcbf856(0x219)]),_0x2f1459[_0xcbf856(0x1ec)]);_0x5cb88c=JSON['parse'](_0x5cb88c);const _0x1eb715=this[_0xcbf856(0x1f1)](),_0x13b88e={};_0x13b88e['value']=_0x1eb715;const _0x30b411={};_0x30b411[_0xcbf856(0x15d)]=_0x13b88e,await this[_0xcbf856(0x24e)][_0xcbf856(0x1d8)][_0xcbf856(0x248)](global_registry['cloudProviderResourceGroup'],_0x2f1459[_0xcbf856(0x1c0)],{'properties':{'template':_0x5cb88c,'mode':_0x2f1459[_0xcbf856(0x160)],'parameters':_0x30b411}});const _0x2e25f2={};_0x2e25f2[_0xcbf856(0x185)]=0x3c;const _0x25d88b={};_0x25d88b[_0xcbf856(0x102)]=_0x2e25f2;const _0x5785fb={};_0x5785fb[_0xcbf856(0x251)]=_0x25d88b;const _0x3c5e08={};_0x3c5e08['enabled']=!![],_0x3c5e08['name']=_0x2f1459[_0xcbf856(0x177)],_0x3c5e08[_0xcbf856(0x13c)]=_0x2f1459[_0xcbf856(0x1fc)],_0x3c5e08[_0xcbf856(0x18e)]={},_0x3c5e08[_0xcbf856(0x18e)][_0xcbf856(0x1ee)]=_0x5785fb,_0x3c5e08[_0xcbf856(0x18e)][_0xcbf856(0x182)]={},_0x3c5e08[_0xcbf856(0x18e)][_0xcbf856(0x182)][_0xcbf856(0x255)]=[_0x2f1459[_0xcbf856(0x1ff)]];const _0x11a8b0={};_0x11a8b0['rules']=[_0x3c5e08];const _0x1f7f50={};_0x1f7f50[_0xcbf856(0x124)]=_0x11a8b0;const _0x5b3f1d=_0x1f7f50;await this[_0xcbf856(0x246)][_0xcbf856(0x148)][_0xcbf856(0x13b)](global_registry[_0xcbf856(0x117)],_0x1eb715,_0x2f1459[_0xcbf856(0x261)],_0x5b3f1d);}async[a1_0x8dc69f(0x172)](){const _0x237ab3=a1_0x8dc69f,_0xe6bc4e={};_0xe6bc4e[_0x237ab3(0x193)]=_0x237ab3(0x164),_0xe6bc4e[_0x237ab3(0x141)]='azureresources',_0xe6bc4e[_0x237ab3(0x192)]=_0x237ab3(0x110),_0xe6bc4e[_0x237ab3(0x204)]=_0x237ab3(0x1cb),_0xe6bc4e[_0x237ab3(0x1b6)]=_0x237ab3(0x191),_0xe6bc4e[_0x237ab3(0x15c)]=_0x237ab3(0x105);const _0x35977d=_0xe6bc4e;let _0x506226=await fs['readFileAsync'](path[_0x237ab3(0x1f9)](__dirname,'..',_0x35977d[_0x237ab3(0x193)],_0x35977d[_0x237ab3(0x141)],_0x35977d[_0x237ab3(0x192)]),_0x35977d[_0x237ab3(0x204)]);_0x506226=JSON[_0x237ab3(0x165)](_0x506226),await this[_0x237ab3(0x24e)][_0x237ab3(0x1d8)]['beginCreateOrUpdateAndWait'](global_registry[_0x237ab3(0x117)],_0x35977d[_0x237ab3(0x1b6)],{'properties':{'template':_0x506226,'mode':_0x35977d[_0x237ab3(0x15c)],'parameters':{'clusterName':{'value':this[_0x237ab3(0x154)]}}}});}async[a1_0x8dc69f(0x1e0)](){const _0x4f7c37=a1_0x8dc69f,_0x5c8c65={};_0x5c8c65['HJcNd']=_0x4f7c37(0x14a),_0x5c8c65['QyOYV']=function(_0x4dd1e5,_0x26d304){return _0x4dd1e5!==_0x26d304;},_0x5c8c65[_0x4f7c37(0x15a)]='ObywM',_0x5c8c65[_0x4f7c37(0x136)]=_0x4f7c37(0x21f),_0x5c8c65['IqXtn']=_0x4f7c37(0x226),_0x5c8c65['LzjeE']=_0x4f7c37(0x1ef),_0x5c8c65[_0x4f7c37(0x166)]=function(_0x28b50f,_0x286bd0){return _0x28b50f!==_0x286bd0;},_0x5c8c65[_0x4f7c37(0x20a)]=_0x4f7c37(0x16d),_0x5c8c65[_0x4f7c37(0x162)]=_0x4f7c37(0x1f6),_0x5c8c65[_0x4f7c37(0x22a)]='templates',_0x5c8c65[_0x4f7c37(0x103)]=_0x4f7c37(0x144),_0x5c8c65[_0x4f7c37(0x273)]=_0x4f7c37(0x1cb),_0x5c8c65[_0x4f7c37(0x1aa)]='turboscale-federated-deployment',_0x5c8c65['wCvya']=_0x4f7c37(0x105);const _0x9a2171=_0x5c8c65;!this[_0x4f7c37(0x1d1)]&&(_0x9a2171['QyOYV'](_0x9a2171[_0x4f7c37(0x15a)],_0x9a2171[_0x4f7c37(0x136)])?await this[_0x4f7c37(0x14b)]():_0x6271ac[_0x4f7c37(0x1e2)](_0x9a2171[_0x4f7c37(0x1ce)]));const _0x43cc8c=this[_0x4f7c37(0x1d1)]?.['oidcIssuerProfile']?.[_0x4f7c37(0x1fd)],_0x355a22=[_0x9a2171[_0x4f7c37(0xfb)],_0x9a2171[_0x4f7c37(0x180)]];for await(const _0x1d0b0d of _0x355a22){if(_0x9a2171[_0x4f7c37(0x166)](_0x9a2171[_0x4f7c37(0x20a)],_0x9a2171[_0x4f7c37(0x162)])){let _0x362c37=await fs[_0x4f7c37(0x161)](path['join'](__dirname,'..',_0x9a2171[_0x4f7c37(0x22a)],_0x9a2171[_0x4f7c37(0x103)],_0x4f7c37(0xfa)+_0x1d0b0d+'.json'),_0x9a2171['zIvAX']);_0x362c37=JSON[_0x4f7c37(0x165)](_0x362c37);const _0x1f1427={};_0x1f1427['value']=_0x43cc8c,await this['resourceClient'][_0x4f7c37(0x1d8)][_0x4f7c37(0x248)](global_registry[_0x4f7c37(0x117)],_0x9a2171['iQGio'],{'properties':{'template':_0x362c37,'mode':_0x9a2171[_0x4f7c37(0x197)],'parameters':{'oidcIssuer':_0x1f1427,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x4f7c37(0x154)]}}}});}else _0x27cfa3[_0x4f7c37(0x272)][_0x4f7c37(0x16b)](_0x3103f4);}}async[a1_0x8dc69f(0x111)](_0x114885,_0x219b95,_0x3c2240,_0x42be87,_0x5bb18c){const _0x473aad=a1_0x8dc69f,_0x150d83={};_0x150d83[_0x473aad(0x247)]=_0x473aad(0x20e),_0x150d83['aEuxX']='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x4ac558=_0x150d83,_0x5cc7e7={};_0x5cc7e7[_0x473aad(0x13c)]=WS_EVENTS[_0x473aad(0x12a)],_0x5cc7e7[_0x473aad(0x250)]=_0x4ac558['OAlMl'],this[_0x473aad(0x142)][_0x473aad(0x1a8)](this[_0x473aad(0x25b)],_0x5cc7e7),logger['info'](_0x4ac558[_0x473aad(0x247)]),await this['createFederatedAccountForHubHA']();const _0x436286={};_0x436286[_0x473aad(0x13c)]=WS_EVENTS[_0x473aad(0x12a)],_0x436286['message']=_0x4ac558[_0x473aad(0x116)],this[_0x473aad(0x142)][_0x473aad(0x1a8)](this[_0x473aad(0x25b)],_0x436286);}async[a1_0x8dc69f(0x147)](){const _0x428595=a1_0x8dc69f,_0x86e972={};_0x86e972[_0x428595(0x23e)]=function(_0x28b328,_0xdda4b2){return _0x28b328!==_0xdda4b2;},_0x86e972[_0x428595(0x23d)]=_0x428595(0x19e),_0x86e972[_0x428595(0x259)]=_0x428595(0x128),_0x86e972[_0x428595(0x1b7)]=_0x428595(0x164),_0x86e972[_0x428595(0x17c)]=_0x428595(0x11f),_0x86e972[_0x428595(0x1d0)]=_0x428595(0x114),_0x86e972[_0x428595(0x16c)]=_0x428595(0x1cb),_0x86e972['ptFim']=_0x428595(0xf2),_0x86e972[_0x428595(0x1d9)]=_0x428595(0x105);const _0x1e303f=_0x86e972;!this[_0x428595(0x1d1)]&&(_0x1e303f[_0x428595(0x23e)](_0x1e303f[_0x428595(0x23d)],_0x1e303f[_0x428595(0x259)])?await this[_0x428595(0x14b)]():_0x25d1ab[_0x428595(0x16b)](_0x4390e9));const _0x2f5b0a=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x428595(0x1fd)];let _0x912248=await fs[_0x428595(0x161)](path[_0x428595(0x1f9)](__dirname,'..',_0x1e303f[_0x428595(0x1b7)],_0x1e303f[_0x428595(0x17c)],_0x1e303f['ZvSgR']),_0x1e303f[_0x428595(0x16c)]);_0x912248=JSON[_0x428595(0x165)](_0x912248);const _0x3c9f03={};_0x3c9f03[_0x428595(0x189)]=_0x2f5b0a,await this[_0x428595(0x24e)][_0x428595(0x1d8)]['beginCreateOrUpdateAndWait'](global_registry[_0x428595(0x117)],_0x1e303f[_0x428595(0x104)],{'properties':{'template':_0x912248,'mode':_0x1e303f['OvvIt'],'parameters':{'oidcIssuer':_0x3c9f03,'namespace':{'value':global_registry[_0x428595(0x21e)]},'clusterName':{'value':this[_0x428595(0x154)]}}}});}async[a1_0x8dc69f(0x1f5)](){const _0x11aa34=a1_0x8dc69f,_0x544dff={};_0x544dff['zIEUJ']=_0x11aa34(0x25d),_0x544dff['VXkjI']=_0x11aa34(0x23b),_0x544dff[_0x11aa34(0x173)]=_0x11aa34(0x229),_0x544dff[_0x11aa34(0x253)]=_0x11aa34(0x1ba),_0x544dff[_0x11aa34(0x239)]='[variables(\x27vnetSubnetID\x27)]',_0x544dff[_0x11aa34(0x123)]=function(_0x10070f,_0x53f675){return _0x10070f===_0x53f675;},_0x544dff[_0x11aa34(0x119)]=_0x11aa34(0x174),_0x544dff[_0x11aa34(0x26d)]='EWZJZ',_0x544dff['YbaeF']=_0x11aa34(0x1d7),_0x544dff[_0x11aa34(0xff)]=_0x11aa34(0x1b5);const _0x1d576c=_0x544dff,_0x2602d1=this[_0x11aa34(0x1f1)](),_0x47edc7=new Array();for await(const _0x1564f1 of this['storageClient'][_0x11aa34(0x258)][_0x11aa34(0x179)](global_registry[_0x11aa34(0x117)])){if(_0x1d576c['MApsm'](_0x1d576c['LsNWV'],_0x1d576c[_0x11aa34(0x119)]))_0x47edc7['push'](_0x1564f1);else{_0x5e87a3[_0x11aa34(0x1e2)](_0x1d576c['zIEUJ']);const _0x5d5a5c={};_0x5d5a5c[_0x11aa34(0x13c)]=_0xf6b7a[_0x11aa34(0x14c)],_0x5d5a5c[_0x11aa34(0x250)]=_0x1d576c[_0x11aa34(0x20b)],this[_0x11aa34(0x142)][_0x11aa34(0x1a8)](this[_0x11aa34(0x25b)],_0x5d5a5c),_0xd1b99b['oidcIssuerProfile'][_0x11aa34(0x1d4)]=!![];}}for await(const _0x2585d of _0x47edc7){if(_0x1d576c[_0x11aa34(0x123)](_0x1d576c[_0x11aa34(0x26d)],_0x1d576c[_0x11aa34(0x210)])){const _0x1680db={};_0x1680db[_0x11aa34(0x13c)]=_0x1d576c['VXkjI'],_0x1680db[_0x11aa34(0x131)]={},_0x1680db[_0x11aa34(0x131)]['description']=_0x1d576c[_0x11aa34(0x173)];const _0x3ac886={};_0x3ac886[_0x11aa34(0x13c)]=_0x1d576c[_0x11aa34(0x22d)],_0x3ac886['metadata']={},_0x3ac886['metadata'][_0x11aa34(0x1b4)]=_0x1d576c[_0x11aa34(0x173)];const _0x6b2d8b={..._0x2ee553['parameters']};_0x6b2d8b[_0x11aa34(0x11a)]=_0x1680db,_0x6b2d8b['subnetName']=_0x3ac886,_0xe3ecc9['parameters']=_0x6b2d8b;const _0x4a652f={};_0x4a652f[_0x11aa34(0x1de)]=_0x1d576c['rQnXA'],_0x1b109b[_0x11aa34(0x170)]=_0x4a652f;const _0x919278={..._0x381062[_0x11aa34(0x11d)][0x0][_0x11aa34(0x1b1)][_0x11aa34(0x195)][0x0]};_0x919278[_0x11aa34(0x1de)]=_0x1d576c[_0x11aa34(0x239)],_0x1f466a[_0x11aa34(0x11d)][0x0][_0x11aa34(0x1b1)][_0x11aa34(0x195)][0x0]=_0x919278;const _0x3af289={};_0x3af289['value']=_0xb86ebe;const _0x5ee41b={};_0x5ee41b['value']=_0x27882e[0x0];const _0x480f9a={..._0x21c727};_0x480f9a[_0x11aa34(0x11a)]=_0x3af289,_0x480f9a[_0x11aa34(0x153)]=_0x5ee41b,_0xa653fd=_0x480f9a;}else{if(_0x1d576c[_0x11aa34(0x123)](_0x2585d[_0x11aa34(0x118)],_0x2602d1))return _0x1d576c['MApsm'](_0x1d576c[_0x11aa34(0xff)],_0x1d576c[_0x11aa34(0xff)])?!![]:_0x316519[_0x11aa34(0x277)][_0x11aa34(0x256)][_0x11aa34(0x1e3)][0x0][_0x11aa34(0x1e9)];}}return![];}async[a1_0x8dc69f(0x1bf)](){const _0x5cb56b=a1_0x8dc69f,_0x7a5390={};_0x7a5390['fMmfW']=_0x5cb56b(0x1e7),_0x7a5390['xwYdO']=function(_0x2658c0,_0x118fad){return _0x2658c0===_0x118fad;},_0x7a5390[_0x5cb56b(0x212)]=_0x5cb56b(0x278),_0x7a5390[_0x5cb56b(0x276)]=_0x5cb56b(0x233),_0x7a5390[_0x5cb56b(0x223)]=function(_0x32c9d1,_0x523595){return _0x32c9d1!==_0x523595;},_0x7a5390['JIVhb']=_0x5cb56b(0x26e),_0x7a5390[_0x5cb56b(0x122)]=_0x5cb56b(0x1d3),_0x7a5390[_0x5cb56b(0x1d6)]=function(_0x26f4e1,_0x19f2e1){return _0x26f4e1!==_0x19f2e1;},_0x7a5390['QWlfU']=_0x5cb56b(0x268);const _0x456065=_0x7a5390,_0x4e76f0=new Array();for await(const _0x400b19 of this[_0x5cb56b(0x24e)]['resources'][_0x5cb56b(0x179)](global_registry[_0x5cb56b(0x117)])){_0x456065['xwYdO'](_0x456065[_0x5cb56b(0x276)],_0x456065[_0x5cb56b(0x276)])?_0x4e76f0[_0x5cb56b(0x16b)](_0x400b19):_0x1d0970['info'](_0x456065[_0x5cb56b(0xf1)]);}for await(const _0x58b6f5 of _0x4e76f0){if(_0x456065[_0x5cb56b(0x223)](_0x456065[_0x5cb56b(0x151)],_0x456065[_0x5cb56b(0x122)])){if(_0x456065[_0x5cb56b(0x222)](_0x58b6f5[_0x5cb56b(0x118)],_0x5cb56b(0x184)+this[_0x5cb56b(0x154)])){if(_0x456065[_0x5cb56b(0x1d6)](_0x456065['QWlfU'],_0x456065[_0x5cb56b(0x1a0)]))_0x456065['xwYdO'](_0x37e9ab[_0x5cb56b(0x118)],_0x4fa42e)&&(_0x2b6031=_0x16ea00['id']);else return!![];}}else _0x5e9a84[_0x5cb56b(0x24c)](_0x456065['rmVTD']),_0x46d612[_0x5cb56b(0x18c)](0x1);}return![];}async[a1_0x8dc69f(0x16e)](_0x24195c){const _0x387f73=a1_0x8dc69f,_0x1a68e4={};_0x1a68e4[_0x387f73(0x209)]=function(_0x2f1882,_0x3b85bd){return _0x2f1882===_0x3b85bd;},_0x1a68e4['dyvPK']=function(_0x46eeca,_0x177d58){return _0x46eeca+_0x177d58;},_0x1a68e4[_0x387f73(0x274)]=_0x387f73(0x224),_0x1a68e4['aXtIb']=function(_0x2f01a9,_0x32e622){return _0x2f01a9-_0x32e622;},_0x1a68e4['rXICq']=function(_0x57d4ef,_0x3fec8d){return _0x57d4ef===_0x3fec8d;},_0x1a68e4[_0x387f73(0x120)]=_0x387f73(0x19a),_0x1a68e4[_0x387f73(0x18b)]=function(_0x47428f,_0x301c85){return _0x47428f===_0x301c85;},_0x1a68e4[_0x387f73(0x23f)]='ttYAs',_0x1a68e4[_0x387f73(0x1c3)]=_0x387f73(0x16a),_0x1a68e4[_0x387f73(0x181)]=function(_0x149be6,_0x54efb3){return _0x149be6===_0x54efb3;},_0x1a68e4[_0x387f73(0x1ea)]=function(_0x4bd7bc,_0x29bce9){return _0x4bd7bc!==_0x29bce9;},_0x1a68e4[_0x387f73(0x140)]='OFstX',_0x1a68e4[_0x387f73(0x16f)]=_0x387f73(0x220),_0x1a68e4[_0x387f73(0x17b)]='2023-01-31';const _0x11543a=_0x1a68e4,_0x5cd01a=new Array();for await(const _0x34b477 of this[_0x387f73(0x24e)]['resources'][_0x387f73(0x179)](global_registry[_0x387f73(0x117)])){if(_0x11543a[_0x387f73(0x24d)](_0x11543a[_0x387f73(0x120)],_0x11543a[_0x387f73(0x120)]))_0x5cd01a['push'](_0x34b477);else{if(_0x11543a[_0x387f73(0x209)](_0x28d677[_0x387f73(0x118)],_0x3359b4))return!![];}}let _0x35d3e4='';for await(const _0x37b1d2 of _0x5cd01a){if(_0x11543a[_0x387f73(0x18b)](_0x11543a[_0x387f73(0x23f)],_0x11543a[_0x387f73(0x1c3)])){const _0x377bc1=_0x177c51['s3Bucket']['split']('-'),_0x5129a0=_0x11543a['dyvPK'](_0x11543a[_0x387f73(0x274)],_0x377bc1[_0x11543a['aXtIb'](_0x377bc1[_0x387f73(0x14d)],0x1)])[_0x387f73(0x169)](0x0,0x18);return _0x5129a0['toLowerCase']();}else _0x11543a[_0x387f73(0x181)](_0x37b1d2['name'],_0x24195c)&&(_0x11543a[_0x387f73(0x1ea)](_0x11543a[_0x387f73(0x140)],_0x11543a['AWxOy'])?_0x35d3e4=_0x37b1d2['id']:_0x44158a['push'](_0x36b821));}const _0x9a9552=await this[_0x387f73(0x24e)][_0x387f73(0x11d)][_0x387f73(0x205)](_0x35d3e4,_0x11543a[_0x387f73(0x17b)]);return _0x9a9552['properties']['clientId'];}async['isBrowserstackCluster'](){const _0x47b6b7=a1_0x8dc69f,_0x120d78={};_0x120d78[_0x47b6b7(0x146)]=_0x47b6b7(0x1a3),_0x120d78[_0x47b6b7(0x11b)]=function(_0x8c143e,_0xf4e2ed){return _0x8c143e!==_0xf4e2ed;},_0x120d78[_0x47b6b7(0x121)]='OPsGk',_0x120d78['WAAyS']=_0x47b6b7(0x143),_0x120d78[_0x47b6b7(0x171)]=function(_0x5abfbd,_0x2f3af2){return _0x5abfbd===_0x2f3af2;},_0x120d78[_0x47b6b7(0x1bd)]=_0x47b6b7(0xf6),_0x120d78[_0x47b6b7(0x1f0)]=_0x47b6b7(0x26c),_0x120d78['INFht']=function(_0x3f36a2,_0x58267c){return _0x3f36a2!==_0x58267c;},_0x120d78[_0x47b6b7(0x1f3)]=_0x47b6b7(0x1cd),_0x120d78[_0x47b6b7(0x19b)]=_0x47b6b7(0x176);const _0x1a488a=_0x120d78;if(!this['clusterInfo']){if(_0x1a488a['rZzmK'](_0x1a488a['AmnAQ'],_0x1a488a[_0x47b6b7(0x211)]))await this['getClusterInfo']();else{_0x1d11d4[_0x47b6b7(0x1e2)](_0x1a488a[_0x47b6b7(0x146)]);const _0xab29c5={};_0xab29c5[_0x47b6b7(0x13c)]=_0x428cfa[_0x47b6b7(0x14c)],_0xab29c5[_0x47b6b7(0x250)]=_0x1a488a[_0x47b6b7(0x146)],this['webSocketUtils'][_0x47b6b7(0x1a8)](this[_0x47b6b7(0x25b)],_0xab29c5),_0x222fcb[_0x47b6b7(0x199)]=![];}}const _0x31c10a=this[_0x47b6b7(0x1d1)]?.['tags']||{};if(_0x31c10a&&_0x1a488a[_0x47b6b7(0x171)](_0x31c10a[_0x1a488a[_0x47b6b7(0x1bd)]],_0x1a488a[_0x47b6b7(0x1f0)])){if(_0x1a488a[_0x47b6b7(0x187)](_0x1a488a[_0x47b6b7(0x1f3)],_0x1a488a[_0x47b6b7(0x19b)]))return!![];else _0x2d174f[_0x47b6b7(0x18c)](0x0);}return![];}async[a1_0x8dc69f(0x11e)](_0x1b4d4a,_0x196c25){const _0x52ea35=a1_0x8dc69f,_0x834fea={'ftJbF':function(_0x2207d6,_0x14fe51){return _0x2207d6(_0x14fe51);},'BytkU':_0x52ea35(0xf7)};await _0x834fea[_0x52ea35(0x23c)](deleteAgent,_0x1b4d4a),await _0x834fea['ftJbF'](deleteRoutingDeps,_0x1b4d4a);const _0x1373a5=this['containerClient'];logger[_0x52ea35(0x1e2)](_0x52ea35(0x218)+this[_0x52ea35(0x154)]),await _0x1373a5[_0x52ea35(0x208)][_0x52ea35(0x221)](global_registry[_0x52ea35(0x117)],this['clusterName']),logger[_0x52ea35(0x1e2)](_0x834fea[_0x52ea35(0x27a)]);}async[a1_0x8dc69f(0x11c)](){const _0x183949=a1_0x8dc69f,_0x350c23={};_0x350c23['HNpiI']=function(_0x2e67c4,_0xc94220){return _0x2e67c4!==_0xc94220;},_0x350c23[_0x183949(0x1bc)]=_0x183949(0x109),_0x350c23[_0x183949(0x22b)]=function(_0x4c342e,_0x3e4b31){return _0x4c342e&&_0x3e4b31;},_0x350c23[_0x183949(0x1a9)]=_0x183949(0x20d),_0x350c23[_0x183949(0x24a)]=_0x183949(0x25d),_0x350c23[_0x183949(0x202)]=_0x183949(0x243),_0x350c23[_0x183949(0x1ab)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0xefba91=_0x350c23;if(!this[_0x183949(0x1d1)]){if(_0xefba91[_0x183949(0x1fa)](_0xefba91[_0x183949(0x1bc)],_0xefba91['EvkkA']))return _0xf7e06d[_0x183949(0x24c)](_0x183949(0x19f)+_0x153dbd+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x40ec09),![];else await this[_0x183949(0x14b)]();}const _0x2207f4=this[_0x183949(0x1d1)],_0x451e07=this[_0x183949(0x1d1)]?.['oidcIssuerProfile']?.[_0x183949(0x1d4)]||![],_0x10835d=this[_0x183949(0x1d1)]?.[_0x183949(0x1eb)]?.[_0x183949(0x17d)]?.[_0x183949(0x1d4)]||![],_0x130453=!this[_0x183949(0x1d1)]?.[_0x183949(0x199)]||![];if(_0xefba91['Qerby'](_0x451e07,_0x10835d)&&_0x130453){if(_0xefba91['HNpiI'](_0xefba91['pBbnA'],_0xefba91['pBbnA']))_0x491bee[_0x183949(0x16b)](_0x94d959);else return;}if(!_0x451e07){logger['info'](_0xefba91[_0x183949(0x24a)]);const _0xfe00b0={};_0xfe00b0[_0x183949(0x13c)]=WS_EVENTS[_0x183949(0x14c)],_0xfe00b0['message']=_0xefba91['wAYAg'],this[_0x183949(0x142)]['sendEventToBackend'](this[_0x183949(0x25b)],_0xfe00b0),_0x2207f4['oidcIssuerProfile']['enabled']=!![];}if(!_0x10835d){logger[_0x183949(0x1e2)](_0xefba91[_0x183949(0x202)]);const _0x2350f0={};_0x2350f0[_0x183949(0x13c)]=WS_EVENTS[_0x183949(0x14c)],_0x2350f0['message']=_0xefba91[_0x183949(0x202)],this['webSocketUtils'][_0x183949(0x1a8)](this[_0x183949(0x25b)],_0x2350f0);const _0x89002={};_0x89002[_0x183949(0x1d4)]=!![],_0x2207f4['securityProfile']={'workloadIdentity':_0x89002,..._0x2207f4['securityProfile']};}if(!_0x130453){logger[_0x183949(0x1e2)](_0xefba91[_0x183949(0x1ab)]);const _0x4be5b0={};_0x4be5b0[_0x183949(0x13c)]=WS_EVENTS['RESOURCES'],_0x4be5b0['message']=_0xefba91['mvJLC'],this['webSocketUtils']['sendEventToBackend'](this[_0x183949(0x25b)],_0x4be5b0),_0x2207f4[_0x183949(0x199)]=![];}await this[_0x183949(0x156)]['managedClusters']['beginCreateOrUpdateAndWait'](global_registry[_0x183949(0x117)],this[_0x183949(0x154)],_0x2207f4),await this[_0x183949(0x14b)]();}async[a1_0x8dc69f(0x203)](){const _0x1ae843=a1_0x8dc69f,_0x1344b5=await this[_0x1ae843(0x19d)][_0x1ae843(0x1ca)][_0x1ae843(0x18d)](global_registry[_0x1ae843(0x117)]),_0x5ccc58={};_0x5ccc58['username']=global_registry[_0x1ae843(0x139)],_0x5ccc58[_0x1ae843(0x1d2)]=global_registry[_0x1ae843(0x231)],_0x5ccc58[_0x1ae843(0xf9)]=AZURE,_0x5ccc58['vpcInfo']=[];const _0x36a6e7=_0x5ccc58;for await(const _0x515444 of _0x1344b5){_0x36a6e7[_0x1ae843(0x272)][_0x1ae843(0x16b)](_0x515444);}const _0x5a8f3a={};_0x5a8f3a[_0x1ae843(0x13c)]=WS_EVENTS[_0x1ae843(0x14c)],_0x5a8f3a[_0x1ae843(0x250)]=_0x36a6e7,this[_0x1ae843(0x142)]['sendEventToBackend'](this[_0x1ae843(0x25b)],_0x5a8f3a);}async['isVPCPresent'](_0x17cf3f){const _0x1f683a=a1_0x8dc69f,_0x523c49={};_0x523c49['VTbZp']=function(_0x296c84,_0x2ec43b){return _0x296c84===_0x2ec43b;};const _0x2f1db8=_0x523c49;try{const _0x35a2cf=await this[_0x1f683a(0x19d)][_0x1f683a(0x1ca)][_0x1f683a(0x18d)](global_registry[_0x1f683a(0x117)]);for await(const _0x3c6747 of _0x35a2cf){if(_0x2f1db8[_0x1f683a(0x12e)](_0x3c6747['name'],_0x17cf3f))return!![];}}catch(_0x37eb48){return logger[_0x1f683a(0x24c)]('Cannot\x20find\x20VPC\x20'+_0x17cf3f+_0x1f683a(0xf8)+_0x37eb48),![];}return![];}async[a1_0x8dc69f(0x200)](_0x2d7662,_0x39ccde){const _0x145e57=a1_0x8dc69f,_0x3d373a={};_0x3d373a['JFUGT']=function(_0x4b9ba2,_0x54b9a2){return _0x4b9ba2===_0x54b9a2;};const _0x2e28d6=_0x3d373a;try{const _0x107646=await this['networkClient'][_0x145e57(0x216)]['get'](global_registry[_0x145e57(0x117)],_0x39ccde,_0x2d7662[0x0]);if(_0x2e28d6['JFUGT'](_0x2d7662[0x0],_0x107646[_0x145e57(0x118)]))return[!![],_0x2d7662];}catch(_0xb904dc){return logger[_0x145e57(0x24c)]('Cannot\x20find\x20subnets\x20'+_0x2d7662+'.\x20Error:\x20'+_0xb904dc),[![],[]];}return[![],[]];}}const a1_0x47f8b9={};a1_0x47f8b9['AzureCloudProvider']=AzureCloudProvider,module[a1_0x8dc69f(0x1f4)]=a1_0x47f8b9;