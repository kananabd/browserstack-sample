function a77_0x5238(){const _0x27e8e2=['getBestPlatformForPercySnapshot','Error\x20patching\x20','winstonLogger','measureWrapper','browserstackPercyMap','IOCTT','stop','HVSAA','browserstackPercyBestPlatform','browserName','debug','driver','browserStackPercyOptions','safari','aHPjU','element','519526RuOlSt','9OWTAOw','7013510nYJTFq','zvWjE','app','270662mvLreu','start','platforms','increment','browser','../performance/constants','nestedKeyValue','deviceName','then','auto','70rrMraX','reduce','rmsOr','755091XlGjRr','4fdTVlL','STOP','fVRBl','firefox','edge','toLowerCase','1467920EiFVvh','gmwUy','manual','patchDriverPercy','./PercyCaptureMap','error','browserstackSessionName','knLsb','getName','percy','isUndefined','getDriver','chrome','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','screenshot','prototype','stopPercy','AUTO_CAPTURE','Stopping\x20percy','forEach','122184vciQCe','apply','DhgCG','Starting\x20percy','./Percy','ylVQo','./PercySDK','1567585rXGsly','percyCaptureMode','ycntC','patch'];a77_0x5238=function(){return _0x27e8e2;};return a77_0x5238();}const a77_0x1e7231=a77_0x378e;function a77_0x378e(_0x50368e,_0x51b3b5){const _0x523875=a77_0x5238();return a77_0x378e=function(_0x378ef4,_0xfc2cdc){_0x378ef4=_0x378ef4-0x16d;let _0xb3fadb=_0x523875[_0x378ef4];return _0xb3fadb;},a77_0x378e(_0x50368e,_0x51b3b5);}(function(_0x3c00db,_0x548860){const _0x195575=a77_0x378e,_0x5aa5ec=_0x3c00db();while(!![]){try{const _0x38e88f=parseInt(_0x195575(0x1b4))/0x1+-parseInt(_0x195575(0x1af))/0x2+-parseInt(_0x195575(0x179))/0x3+parseInt(_0x195575(0x17a))/0x4*(-parseInt(_0x195575(0x19b))/0x5)+-parseInt(_0x195575(0x194))/0x6*(-parseInt(_0x195575(0x176))/0x7)+-parseInt(_0x195575(0x180))/0x8+parseInt(_0x195575(0x1b0))/0x9*(parseInt(_0x195575(0x1b1))/0xa);if(_0x38e88f===_0x548860)break;else _0x5aa5ec['push'](_0x5aa5ec['shift']());}catch(_0xbcb871){_0x5aa5ec['push'](_0x5aa5ec['shift']());}}}(a77_0x5238,0x28d12));const Percy=require(a77_0x1e7231(0x198)),PercySDK=require(a77_0x1e7231(0x19a)),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a77_0x1e7231(0x184)),logger=require('../logger')[a77_0x1e7231(0x1a1)],helper=require('../helper'),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a77_0x1e7231(0x171));exports['startPercy']=PerformanceTester[a77_0x1e7231(0x1a2)](PerformanceEvents['START'],async _0x5677da=>{const _0x3637b3=a77_0x1e7231,_0x260a8c={};_0x260a8c[_0x3637b3(0x19d)]=_0x3637b3(0x197);const _0x3cb6cc=_0x260a8c;logger[_0x3637b3(0x1a9)](_0x3cb6cc[_0x3637b3(0x19d)]);const _0x5ecba9=new Percy(_0x5677da),_0x2d69ae=await _0x5ecba9[_0x3637b3(0x16d)]();if(_0x2d69ae)return _0x5ecba9;return null;}),exports[a77_0x1e7231(0x190)]=PerformanceTester[a77_0x1e7231(0x1a2)](PerformanceEvents[a77_0x1e7231(0x17b)],async _0x155049=>{const _0x5bf86d=a77_0x1e7231,_0x56144b={};_0x56144b[_0x5bf86d(0x196)]=_0x5bf86d(0x192);const _0x14dfc7=_0x56144b;return logger['debug'](_0x14dfc7['DhgCG']),_0x155049[_0x5bf86d(0x1a5)]();}),exports[a77_0x1e7231(0x19f)]=_0x19c58d=>{const _0x12c373=a77_0x1e7231,_0x32ac7d={};_0x32ac7d[_0x12c373(0x199)]=function(_0x2e4788,_0x4e6e5a){return _0x2e4788<_0x4e6e5a;};const _0x4baf8f=_0x32ac7d,_0x5c1cdb={};_0x5c1cdb[_0x12c373(0x18c)]=0x0,_0x5c1cdb[_0x12c373(0x17d)]=0x1,_0x5c1cdb[_0x12c373(0x17e)]=0x2,_0x5c1cdb[_0x12c373(0x1ac)]=0x3;const _0x5c278a=_0x5c1cdb;return _0x19c58d[_0x12c373(0x177)]((_0x1f394e,_0x1124db,_0x2743b4)=>{const _0x203504=_0x12c373,_0x378a9a=_0x19c58d[_0x1f394e];if(_0x1124db[_0x203504(0x173)])return _0x1f394e;if(_0x378a9a[_0x203504(0x173)])return _0x2743b4;const _0x40a6a8=_0x1124db[_0x203504(0x170)]?_0x1124db['browser']:_0x1124db[_0x203504(0x1a8)];if(_0x40a6a8&&_0x4baf8f[_0x203504(0x199)](_0x5c278a[_0x40a6a8[_0x203504(0x17f)]()],_0x5c278a[_0x40a6a8[_0x203504(0x17f)]()]))return _0x2743b4;return _0x1f394e;},0x0);},exports['percyAutoCapture']=PerformanceTester[a77_0x1e7231(0x1a2)](PerformanceEvents[a77_0x1e7231(0x191)],async(_0x46138b,_0xede7c5,_0x4f5313)=>{const _0x26545a=a77_0x1e7231,_0xd4875c={};_0xd4875c[_0x26545a(0x181)]=_0x26545a(0x18d);const _0x54dbcf=_0xd4875c,_0x28295e=_0x46138b['browserstackPercyMap'];if(helper[_0x26545a(0x18a)](_0x46138b[_0x26545a(0x186)])){logger[_0x26545a(0x1a9)](_0x54dbcf['gmwUy']);return;}const _0x4d8224=_0x28295e[_0x26545a(0x188)](_0x46138b[_0x26545a(0x186)],_0xede7c5);_0x4f5313[_0x26545a(0x1b3)]?await PercySDK['screenshotApp'](_0x46138b,_0x4d8224):await PercySDK[_0x26545a(0x18e)](_0x46138b,_0x4d8224),_0x28295e[_0x26545a(0x16f)](_0x46138b[_0x26545a(0x186)],_0xede7c5);}),exports[a77_0x1e7231(0x183)]=(_0xa9dca4,_0x51007a,_0x10c398)=>{const _0x10359b=a77_0x1e7231,_0x1f1503={};_0x1f1503['HVSAA']=_0x10359b(0x1ab),_0x1f1503['IOCTT']=_0x10359b(0x189),_0x1f1503[_0x10359b(0x178)]=function(_0x55de2f,_0x4136d5){return _0x55de2f!==_0x4136d5;},_0x1f1503['aHPjU']=_0x10359b(0x182);const _0x48fe80=_0x1f1503;if(!helper[_0x10359b(0x172)](_0x10c398,[_0x48fe80[_0x10359b(0x1a6)],_0x48fe80[_0x10359b(0x1a4)]]))return;if(_0x10c398[_0x10359b(0x1ab)][_0x10359b(0x189)]&&_0x10c398[_0x10359b(0x1ab)][_0x10359b(0x19c)]&&_0x48fe80[_0x10359b(0x178)](_0x10c398[_0x10359b(0x1ab)][_0x10359b(0x19c)],_0x48fe80[_0x10359b(0x1ad)])&&!_0xa9dca4[_0x10359b(0x1a3)]){global[_0x10359b(0x186)]&&(_0xa9dca4[_0x10359b(0x186)]=global[_0x10359b(0x186)]),_0xa9dca4[_0x10359b(0x1a3)]=new PercyCaptureMap();const _0x5e5f31=PercyCaptureModes[_0x10c398[_0x10359b(0x1ab)]['percyCaptureMode']];_0x5e5f31[_0x10359b(0x1aa)]&&_0x5e5f31[_0x10359b(0x1aa)][_0x10359b(0x193)](_0x3d9622=>this['overrideXforPercy'](_0xa9dca4,_0x3d9622,_0x10c398)),_0x5e5f31[_0x10359b(0x1ae)]&&_0x5e5f31['element']['forEach'](_0x36a194=>{const _0x3ba237=_0x10359b;if(_0x51007a[_0x3ba237(0x18f)][_0x3ba237(0x19e)+_0x36a194])return;_0x51007a[_0x3ba237(0x18f)]['patch'+_0x36a194]=!![];const _0x2339b2=_0x51007a[_0x3ba237(0x18f)][_0x36a194];_0x51007a[_0x3ba237(0x18f)][_0x36a194]=async function(){const _0x20a4c9=_0x3ba237;let _0x59fa36=_0x2339b2[_0x20a4c9(0x195)](this,arguments);_0x59fa36&&_0x59fa36[_0x20a4c9(0x174)]&&(_0x59fa36=await _0x59fa36);try{const _0x212c38=this[_0x20a4c9(0x18b)]();await exports['percyAutoCapture'](_0x212c38,_0x36a194,_0x10c398);}catch(_0x2425d7){logger[_0x20a4c9(0x185)](_0x20a4c9(0x1a0)+_0x36a194+'\x20for\x20percy\x20'+_0x2425d7);}return _0x59fa36;};});}},exports['overrideXforPercy']=function(_0x447c5c,_0x502ae1,_0x316abd){const _0x1c4f9a=a77_0x1e7231,_0x3192ad={};_0x3192ad[_0x1c4f9a(0x187)]=function(_0x17bb5b,_0x1c86bf){return _0x17bb5b+_0x1c86bf;},_0x3192ad['fVRBl']=_0x1c4f9a(0x19e),_0x3192ad['ttigP']='init';const _0x3b7fd1=_0x3192ad,_0xc0d83c=_0x3b7fd1[_0x1c4f9a(0x187)](_0x3b7fd1[_0x1c4f9a(0x17c)],_0x502ae1),_0x5d987c=_0x3b7fd1[_0x1c4f9a(0x187)](_0x3b7fd1['ttigP'],_0x502ae1),_0x44ccfe=this;if(_0x447c5c[_0xc0d83c]||!_0x447c5c[_0x502ae1])return;_0x447c5c[_0xc0d83c]=!![],_0x447c5c[_0x5d987c]=_0x447c5c[_0x502ae1],_0x447c5c[_0x502ae1]=async()=>{const _0x453bf6=_0x1c4f9a;try{await _0x44ccfe['percyAutoCapture'](_0x447c5c,_0x502ae1,_0x316abd);}catch(_0x39d511){logger['error'](_0x453bf6(0x1a0)+_0x502ae1+'\x20for\x20percy\x20'+_0x39d511);}return await _0x447c5c[_0x5d987c][_0x453bf6(0x195)](_0x447c5c,arguments);};},exports['getPercyOptions']=_0x19f50c=>{const _0x3bd36f=a77_0x1e7231,_0x28f6e0={};_0x28f6e0[_0x3bd36f(0x1b2)]=_0x3bd36f(0x175);const _0x1075d1=_0x28f6e0,_0x3311e7={};_0x3311e7[_0x3bd36f(0x189)]=_0x19f50c[_0x3bd36f(0x189)],_0x3311e7[_0x3bd36f(0x19c)]=_0x19f50c[_0x3bd36f(0x19c)]||_0x1075d1[_0x3bd36f(0x1b2)];const _0x4c579c=_0x3311e7;_0x19f50c[_0x3bd36f(0x189)]&&(_0x4c579c[_0x3bd36f(0x1a7)]=exports[_0x3bd36f(0x19f)](_0x19f50c[_0x3bd36f(0x16e)]));;return _0x4c579c;};