const a24_0x3225bb=a24_0x1f92;(function(_0x2323aa,_0x556abc){const _0x567ce6=a24_0x1f92,_0x4f9a7f=_0x2323aa();while(!![]){try{const _0x4b5078=-parseInt(_0x567ce6(0x1b7))/0x1*(-parseInt(_0x567ce6(0x1c2))/0x2)+-parseInt(_0x567ce6(0x1d3))/0x3+parseInt(_0x567ce6(0x1cb))/0x4+-parseInt(_0x567ce6(0x1bc))/0x5+-parseInt(_0x567ce6(0x1c8))/0x6*(parseInt(_0x567ce6(0x1db))/0x7)+parseInt(_0x567ce6(0x1e6))/0x8+-parseInt(_0x567ce6(0x1ce))/0x9*(-parseInt(_0x567ce6(0x1bb))/0xa);if(_0x4b5078===_0x556abc)break;else _0x4f9a7f['push'](_0x4f9a7f['shift']());}catch(_0x1da560){_0x4f9a7f['push'](_0x4f9a7f['shift']());}}}(a24_0x50d5,0xb8556));const fs=require('fs'),path=require(a24_0x3225bb(0x1df)),yaml=require(a24_0x3225bb(0x1c6)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require('bluebird'),AWS=require(a24_0x3225bb(0x1c5))[a24_0x3225bb(0x1de)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a24_0x3225bb(0x1d1)),{logger}=require('../config/logger');Promise[a24_0x3225bb(0x1cf)](fs);function a24_0x1f92(_0x554852,_0x5ca455){const _0x50d514=a24_0x50d5();return a24_0x1f92=function(_0x1f92bc,_0x357a56){_0x1f92bc=_0x1f92bc-0x1b3;let _0x109484=_0x50d514[_0x1f92bc];return _0x109484;},a24_0x1f92(_0x554852,_0x5ca455);}const addAutoscalerTags=async(_0x1e458b,_0x2da9c7,_0x4f8df6)=>{const _0x257ded=a24_0x3225bb;for(const _0x14bfd9 in _0x1e458b[_0x257ded(0x1d8)]){_0x1e458b[_0x257ded(0x1d8)][_0x14bfd9][_0x257ded(0x1bd)]&&_0x1e458b['Resources'][_0x14bfd9][_0x257ded(0x1bd)][_0x257ded(0x1d0)]&&_0x1e458b[_0x257ded(0x1d8)][_0x14bfd9][_0x257ded(0x1bd)][_0x257ded(0x1d0)]['push'](..._0x4f8df6);}};function a24_0x50d5(){const _0x571ffb=['Properties','waitFor','CloudFormation','join','OnFailure','2nGqQir','TemplateBody','tGDkj','./AWSUtils','js-yaml','readFileAsync','7632426QZHevR','apiVersion','fBEvv','1255532sMSXzP','utf-8','YoXoj','927qVnGBX','promisifyAll','Tags','../config/constants','iRFcu','466689RTgleY','push','autoscaler-role-creation.yaml','aIaaZ','promise','Resources','createStack','ClusterName','7IiIUhT','FGiPk','toString','awsObj','path','valueOf','veyXe','Parameters','StackName','stackCreateComplete','CAPABILITY_NAMED_IAM','11027664vwTqro','browserstack:cluster','Key','browserstack:creationDate','Value','debug','templates','2010-05-15','811703zTtCeP','schema','kkDwi','StackId','79010oBBVGz','5675915zRKFSe'];a24_0x50d5=function(){return _0x571ffb;};return a24_0x50d5();}exports['createAutoscalerStack']=async _0x4e335d=>{const _0x1cc08a=a24_0x3225bb,_0x26d43d={'NVdRs':_0x1cc08a(0x1e7),'kkDwi':_0x1cc08a(0x1e9),'iRFcu':_0x1cc08a(0x1b6),'YoXoj':_0x1cc08a(0x1b5),'aIaaZ':_0x1cc08a(0x1d5),'tGDkj':_0x1cc08a(0x1cc),'veyXe':function(_0x457b69,_0x349cc0,_0x5e3132,_0x4acf51){return _0x457b69(_0x349cc0,_0x5e3132,_0x4acf51);},'FGiPk':'DELETE','fBEvv':_0x1cc08a(0x1da),'PAEyv':_0x1cc08a(0x1e5),'VhFmD':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','dFgJW':_0x1cc08a(0x1e4)},_0xc9c3b8=COMMON_HST_TAGS,_0x2f5af9={};_0x2f5af9[_0x1cc08a(0x1e8)]=_0x26d43d['NVdRs'],_0x2f5af9[_0x1cc08a(0x1b3)]=_0x4e335d,_0xc9c3b8['push'](_0x2f5af9),_0xc9c3b8[_0x1cc08a(0x1d4)]({'Key':_0x26d43d[_0x1cc08a(0x1b9)],'Value':new Date()[_0x1cc08a(0x1e0)]()[_0x1cc08a(0x1dd)]()});const _0x5650b4={};_0x5650b4[_0x1cc08a(0x1c9)]=_0x26d43d[_0x1cc08a(0x1d2)];const _0x87d0b2=new AWS[(_0x1cc08a(0x1bf))](_0x5650b4),_0x1025e0=await fs[_0x1cc08a(0x1c7)](path[_0x1cc08a(0x1c0)](__dirname,'..',_0x26d43d[_0x1cc08a(0x1cd)],_0x26d43d[_0x1cc08a(0x1d6)]),_0x26d43d[_0x1cc08a(0x1c4)]),_0x42672b={};_0x42672b[_0x1cc08a(0x1b8)]=CLOUDFORMATION_SCHEMA;const _0x359e79=yaml['load'](_0x1025e0,_0x42672b);_0x26d43d[_0x1cc08a(0x1e1)](addAutoscalerTags,_0x359e79,_0x4e335d,_0xc9c3b8);const _0x2ce6cd=JSON['stringify'](_0x359e79),_0x570c46={};_0x570c46[_0x1cc08a(0x1e3)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x4e335d,_0x570c46[_0x1cc08a(0x1c1)]=_0x26d43d[_0x1cc08a(0x1dc)],_0x570c46[_0x1cc08a(0x1c3)]=_0x2ce6cd,_0x570c46[_0x1cc08a(0x1e2)]=[{'ParameterKey':_0x26d43d[_0x1cc08a(0x1ca)],'ParameterValue':_0x4e335d}],_0x570c46['Capabilities']=[_0x26d43d['PAEyv']],_0x570c46[_0x1cc08a(0x1d0)]=_0xc9c3b8;const _0x2df512=_0x570c46,_0x12ad35=await _0x87d0b2[_0x1cc08a(0x1d9)](_0x2df512)['promise']();logger[_0x1cc08a(0x1b4)](_0x26d43d['VhFmD']);const _0x2b5f95={};return _0x2b5f95[_0x1cc08a(0x1e3)]=_0x12ad35[_0x1cc08a(0x1ba)],_0x87d0b2[_0x1cc08a(0x1be)](_0x26d43d['dFgJW'],_0x2b5f95)[_0x1cc08a(0x1d7)]();};