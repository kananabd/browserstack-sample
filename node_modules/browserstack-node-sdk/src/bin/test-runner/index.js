const a46_0x3d1e51=a46_0x148d;function a46_0x148d(_0x334a92,_0x5a58a6){const _0x4d7917=a46_0x4d79();return a46_0x148d=function(_0x148df8,_0xe6283){_0x148df8=_0x148df8-0xd6;let _0x4fc1e1=_0x4d7917[_0x148df8];return _0x4fc1e1;},a46_0x148d(_0x334a92,_0x5a58a6);}(function(_0x4325ef,_0x1007cc){const _0x40aa5a=a46_0x148d,_0x391161=_0x4325ef();while(!![]){try{const _0xe19d8=-parseInt(_0x40aa5a(0xed))/0x1*(parseInt(_0x40aa5a(0xf4))/0x2)+parseInt(_0x40aa5a(0x112))/0x3*(-parseInt(_0x40aa5a(0x109))/0x4)+parseInt(_0x40aa5a(0xfa))/0x5+parseInt(_0x40aa5a(0xd6))/0x6+parseInt(_0x40aa5a(0xeb))/0x7+parseInt(_0x40aa5a(0x111))/0x8*(parseInt(_0x40aa5a(0x125))/0x9)+parseInt(_0x40aa5a(0x11b))/0xa;if(_0xe19d8===_0x1007cc)break;else _0x391161['push'](_0x391161['shift']());}catch(_0xf50034){_0x391161['push'](_0x391161['shift']());}}}(a46_0x4d79,0x84aac));const Worker=require(a46_0x3d1e51(0x11d))['Worker'],Emittery=require('emittery'),pLimit=require(a46_0x3d1e51(0x122)),logger=require(a46_0x3d1e51(0x121))[a46_0x3d1e51(0x10f)],PerformanceTester=require(a46_0x3d1e51(0x10a)),PerformanceEvents=require('../../helpers/performance/constants')[a46_0x3d1e51(0xe3)],{debug}=require(a46_0x3d1e51(0x10e)),TestHubHandler=require('../../helpers/testhub/testhubHandler'),{FRAMEWORKS}=require(a46_0x3d1e51(0x12d));function a46_0x4d79(){const _0x5af90c=['1595440GHOWEl','SLXWr','jest-worker','config','error','MOCHA','../../helpers/logger','p-limit','SIHmc','platform','288gkKKMH','_child','getStdout','SDK_SETUP','parallelVanillaRun','Running\x20','xSgRC','push','../../helpers/test-observability/constants','stderr','RcgNE','worker','946704PyhABe','DQmQD','file','bdZbe','cucumberWorker','vanillaWorker','test-file-failure','iZuji','ilkBY','FwNsG','\x20for','emit','parallelCucumberRun','EVENTS','lCmXI','oTXLI','hDAkD','BMKXr','getWorkers','then','resolve','4295578rkUZwz','Workers\x20failed\x20to\x20exit\x20gracefully','217YTelcq','length','stdout','test-file-start','test-file-success','parallelTestRun','Exception\x20in\x20stop\x20build\x20request\x20to\x20Testhub\x20:\x20','9918SVElGI','./testWorker.js','mWKrA','JQpwS','pFcAU','UPcuF','1807535knlMSw','IOldi','pipe','log','map','json','JqLxj','qfIJa','platform-run-failure','configuration','platform-run-success','irlUp','launchBuild','results','end','834776QzIidj','../../helpers/performance/performance-tester','waitForExit','all','qDyFg','../../helpers/test-observability/utils','winstonLogger','getStderr','133928UfzIoF','3pRINPH','LTmbq','send','MfdMR','stop','exit','dTNFk','qcZrM','AKznU'];a46_0x4d79=function(){return _0x5af90c;};return a46_0x4d79();}exports[a46_0x3d1e51(0xf2)]=(_0x4924e0,_0x5a58ba,_0x54f4a0)=>new Promise(async _0x57aecf=>{const _0x1730a9=a46_0x3d1e51,_0x280523={'FwNsG':'failureCount','ilkBY':function(_0x45ee28,_0x29a78a){return _0x45ee28+_0x29a78a;},'JQpwS':_0x1730a9(0x107),'xSgRC':_0x1730a9(0xec),'iZuji':function(_0x4445a4,_0x5ba34c){return _0x4445a4(_0x5ba34c);},'QLHhT':_0x1730a9(0xf0),'UPcuF':'./testWorker.js','lCmXI':_0x1730a9(0x130),'mdYCV':_0x1730a9(0xff),'pFcAU':_0x1730a9(0xfc),'irlUp':function(_0x490aa3,_0x551d2f){return _0x490aa3*_0x551d2f;},'LTmbq':_0x1730a9(0xf1),'qcZrM':'test-file-failure','AKznU':function(_0x3d8753,_0x537ccd){return _0x3d8753(_0x537ccd);}},_0x25cd58=_0x54f4a0[_0x1730a9(0x11e)],_0x47c46e={},_0x5ab279=await TestHubHandler[_0x1730a9(0x106)](FRAMEWORKS[_0x1730a9(0x120)],_0x54f4a0),_0xb5ad6c=new Worker(require['resolve'](_0x280523[_0x1730a9(0xf9)]),{'exposedMethods':[_0x280523[_0x1730a9(0xe4)]],'forkOptions':{'serialization':_0x280523['mdYCV'],'stdio':_0x280523[_0x1730a9(0xf8)]},'idleMemoryLimit':undefined,'maxRetries':0x1,'numWorkers':_0x280523['irlUp'](_0x5a58ba,0x1),'enableWorkerThreads':!![]}),_0x5c8d64=new Emittery();_0x5c8d64['on'](_0x280523[_0x1730a9(0x113)],_0x25a2f4=>{const _0x45adcf=_0x1730a9;_0x47c46e[_0x25a2f4[0x0]]?(_0x47c46e[_0x25a2f4[0x0]][_0x280523['FwNsG']]=_0x280523[_0x45adcf(0xde)](_0x47c46e[_0x25a2f4[0x0]][_0x280523[_0x45adcf(0xdf)]],_0x25a2f4[0x1][_0x280523[_0x45adcf(0xdf)]]),_0x47c46e[_0x25a2f4[0x0]][_0x280523[_0x45adcf(0xf7)]]=[..._0x47c46e[_0x25a2f4[0x0]][_0x280523[_0x45adcf(0xf7)]],..._0x25a2f4[0x1][_0x280523[_0x45adcf(0xf7)]]]):_0x47c46e[_0x25a2f4[0x0]]={'failureCount':_0x25a2f4[0x1][_0x280523[_0x45adcf(0xdf)]],'results':[..._0x25a2f4[0x1][_0x280523['JQpwS']]]};}),_0x5c8d64['on'](_0x280523[_0x1730a9(0x119)],_0x19355a=>console[_0x1730a9(0xfd)](_0x19355a[0x1]));_0xb5ad6c[_0x1730a9(0x127)]()&&_0xb5ad6c[_0x1730a9(0x127)]()[_0x1730a9(0xfc)](process[_0x1730a9(0xef)]);_0xb5ad6c['getStderr']()&&_0xb5ad6c[_0x1730a9(0x110)]()[_0x1730a9(0xfc)](process[_0x1730a9(0x12e)]);const _0x198582=async()=>{const _0x509583=_0x1730a9,{forceExited:_0x5a1431}=await _0xb5ad6c[_0x509583(0x108)]();_0x5a1431&&console[_0x509583(0x11f)](_0x280523[_0x509583(0x12b)]);try{await TestHubHandler[_0x509583(0x116)]();}catch(_0x511e62){_0x280523['iZuji'](debug,_0x509583(0xf3)+_0x511e62);}_0x280523[_0x509583(0xdd)](_0x57aecf,_0x47c46e);},_0x496d68=_0x280523[_0x1730a9(0x11a)](pLimit,_0x280523[_0x1730a9(0x105)](_0x5a58ba,0x1)),_0x5f543b=_0x22573a=>_0x496d68(async()=>{const _0x1c9f1=_0x1730a9;return await _0x5c8d64[_0x1c9f1(0xe1)](_0x280523['QLHhT'],_0x22573a),_0xb5ad6c[_0x1c9f1(0x130)](_0x22573a,_0x25cd58);});PerformanceTester['end'](PerformanceEvents[_0x1730a9(0x128)]),Promise[_0x1730a9(0x10c)](_0x4924e0['map'](_0x238d7d=>_0x5f543b(_0x238d7d)[_0x1730a9(0xe9)](_0x4c93e5=>_0x5c8d64[_0x1730a9(0xe1)]('test-file-success',[_0x238d7d[_0x1730a9(0x103)][_0x1730a9(0x124)],_0x4c93e5]),_0x1d1f7e=>_0x5c8d64['emit']('test-file-failure',[_0x238d7d,_0x1d1f7e]))))[_0x1730a9(0xe9)](_0x198582,_0x198582);}),exports[a46_0x3d1e51(0xe2)]=(_0x558089,_0x15c6b6,_0xfc1c27,_0x4422be,_0x17cd3b)=>{const _0x147036=a46_0x3d1e51,_0x216929={'qVGoV':_0x147036(0xec),'dTNFk':function(_0x3525d7,_0x645929){return _0x3525d7(_0x645929);},'gfpjF':'platform-run-start','JCMLA':_0x147036(0xf5),'bdZbe':'cucumberWorker','lkkAx':'json','SLXWr':_0x147036(0xfc),'JqLxj':_0x147036(0x104),'hDAkD':_0x147036(0x102)};return new Promise(_0x26bef0=>{const _0x33a406=_0x147036,_0x349bde=[],_0x1f1631=new Worker(require[_0x33a406(0xea)](_0x216929['JCMLA']),{'exposedMethods':[_0x216929[_0x33a406(0xd9)]],'forkOptions':{'serialization':_0x216929['lkkAx'],'stdio':_0x216929[_0x33a406(0x11c)]},'numWorkers':_0x558089['length']||0x1,'enableWorkerThreads':!![],'idleMemoryLimit':undefined,'maxRetries':0x1}),_0x30c9b4=new Emittery();_0x30c9b4['on'](_0x216929[_0x33a406(0x100)],_0x1ec85d=>{const _0x408c62=_0x33a406;_0x349bde[_0x408c62(0x12c)]([_0x1ec85d[0x0],_0x1ec85d[0x1]]);}),_0x30c9b4['on'](_0x216929[_0x33a406(0xe6)],_0x2520b7=>console[_0x33a406(0xfd)](_0x2520b7[0x1]));_0x1f1631[_0x33a406(0x127)]()&&_0x1f1631[_0x33a406(0x127)]()[_0x33a406(0xfc)](process['stdout']);_0x1f1631[_0x33a406(0x110)]()&&_0x1f1631[_0x33a406(0x110)]()[_0x33a406(0xfc)](process[_0x33a406(0x12e)]);const _0x4597c5=async()=>{const _0x1b38d5=_0x33a406,{forceExited:_0x39b235}=await _0x1f1631[_0x1b38d5(0x108)]();_0x39b235&&console[_0x1b38d5(0x11f)](_0x216929['qVGoV']),_0x216929[_0x1b38d5(0x118)](_0x26bef0,_0x349bde);},_0x3337fe=_0x216929[_0x33a406(0x118)](pLimit,_0x558089[_0x33a406(0xee)]||0x1),_0x161e0d=(_0x3988ea,_0x803a51)=>_0x3337fe(async()=>{const _0x2a0bdb=_0x33a406;return await _0x30c9b4[_0x2a0bdb(0xe1)](_0x216929['gfpjF'],_0x3988ea),_0x15c6b6['platformCaps']=_0xfc1c27['platforms'][_0x803a51],_0x1f1631[_0x2a0bdb(0xda)](_0x3988ea,_0x15c6b6,_0xfc1c27,_0x4422be,_0x17cd3b);});Promise[_0x33a406(0x10c)](_0x558089[_0x33a406(0xfe)]((_0xa18300,_0x656e80)=>_0x161e0d(_0xa18300,_0x656e80)[_0x33a406(0xe9)](_0xd7fb2c=>_0x30c9b4['emit'](_0x33a406(0x104),[_0xa18300,_0xd7fb2c]),_0x428eb6=>_0x30c9b4['emit'](_0x33a406(0x102),[_0xa18300,_0x428eb6]))))[_0x33a406(0xe9)](_0x4597c5,_0x4597c5);});},exports[a46_0x3d1e51(0x129)]=(_0x492500,_0x5d0f70)=>new Promise(_0x3de2ec=>{const _0x4b2c6e=a46_0x3d1e51,_0x18ec34={'FPgQg':function(_0x2fc130,_0x133d12){return _0x2fc130===_0x133d12;},'RcgNE':function(_0x286416,_0x23d190){return _0x286416!==_0x23d190;},'mWKrA':_0x4b2c6e(0x117),'uYpuf':_0x4b2c6e(0xec),'OIloe':function(_0x80cbd7,_0x391707){return _0x80cbd7(_0x391707);},'IOldi':_0x4b2c6e(0xf5),'oTXLI':_0x4b2c6e(0xdb),'LqJIa':_0x4b2c6e(0xff),'SIHmc':_0x4b2c6e(0xfc),'qfIJa':'test-file-success','qDyFg':_0x4b2c6e(0xdc),'BMKXr':function(_0x332f9e,_0x2e6c88){return _0x332f9e(_0x2e6c88);}},_0x11580d={},_0x510d6e=new Worker(require[_0x4b2c6e(0xea)](_0x18ec34[_0x4b2c6e(0xfb)]),{'exposedMethods':[_0x18ec34[_0x4b2c6e(0xe5)]],'forkOptions':{'serialization':_0x18ec34['LqJIa'],'stdio':_0x18ec34[_0x4b2c6e(0x123)]},'numWorkers':_0x5d0f70,'enableWorkerThreads':![],'maxRetries':0x1,'idleMemoryLimit':undefined}),_0x1c2a91=new Emittery();_0x1c2a91['on'](_0x18ec34[_0x4b2c6e(0x101)],_0x2436cd=>{const _0x12eca6=_0x4b2c6e;_0x2436cd[0x0]&&logger['info'](_0x12eca6(0x12a)+_0x2436cd[0x1]+_0x12eca6(0xe0),_0x2436cd[0x0]);}),_0x1c2a91['on'](_0x18ec34[_0x4b2c6e(0x10d)],_0x606387=>{process['exitCode']=0x1;});_0x510d6e[_0x4b2c6e(0x127)]()&&_0x510d6e['getStdout']()[_0x4b2c6e(0xfc)](process['stdout']);_0x510d6e[_0x4b2c6e(0x110)]()&&_0x510d6e[_0x4b2c6e(0x110)]()['pipe'](process['stderr']);const _0x25bdcc=async()=>{const _0x16e4d8=_0x4b2c6e;let _0x42fb7b=0x0;const _0x432d81=_0x510d6e['_workerPool'][_0x16e4d8(0xe8)](),_0x44f06a=()=>{},_0x35b50d=_0x432d81[_0x16e4d8(0xfe)](async _0x12d3b0=>{const _0x453f06=_0x16e4d8,_0x51f5ff={'MfdMR':function(_0x1aba84,_0x2a62d9){return _0x18ec34['FPgQg'](_0x1aba84,_0x2a62d9);},'DQmQD':function(_0x3f8c6c,_0x9813a){const _0x4436ed=a46_0x148d;return _0x18ec34[_0x4436ed(0x12f)](_0x3f8c6c,_0x9813a);}};_0x12d3b0[_0x453f06(0x114)]([0x2,![]],_0x44f06a,_0x44f06a,_0x44f06a),_0x12d3b0[_0x453f06(0x126)]['on'](_0x18ec34[_0x453f06(0xf6)],_0x13aac0=>{const _0x4d34fe=_0x453f06;_0x51f5ff[_0x4d34fe(0x115)](_0x42fb7b,0x0)&&_0x51f5ff[_0x4d34fe(0xd7)](_0x13aac0,0x0)&&(_0x42fb7b=_0x13aac0);}),await _0x12d3b0[_0x453f06(0x10b)]();});await Promise['all'](_0x35b50d),process['exitCode']=_0x42fb7b;const {forceExited:_0x31fce3}=await _0x510d6e['end']();_0x31fce3&&console['error'](_0x18ec34['uYpuf']),_0x18ec34['OIloe'](_0x3de2ec,_0x11580d);},_0x5b60cd=_0x18ec34[_0x4b2c6e(0xe7)](pLimit,_0x5d0f70),_0x5e6762=_0x2da414=>_0x5b60cd(async()=>{const _0x22c93f=_0x4b2c6e;return _0x510d6e[_0x22c93f(0xdb)](_0x2da414);});Promise[_0x4b2c6e(0x10c)](_0x492500[_0x4b2c6e(0xfe)](_0x211192=>_0x5e6762(_0x211192)[_0x4b2c6e(0xe9)](_0x496b25=>_0x1c2a91[_0x4b2c6e(0xe1)](_0x4b2c6e(0xf1),[_0x211192[_0x4b2c6e(0x103)]['platform'],_0x211192['configuration'][_0x4b2c6e(0xd8)]]),_0x1bfb3e=>_0x1c2a91[_0x4b2c6e(0xe1)]('test-file-failure',[_0x211192,_0x1bfb3e]))))[_0x4b2c6e(0xe9)](_0x25bdcc,_0x25bdcc);});