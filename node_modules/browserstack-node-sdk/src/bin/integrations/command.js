#!/usr/bin/env node
'use strict';const a12_0x514c0a=a12_0x5e5f;(function(_0x4de28d,_0x322a48){const _0x1e2336=a12_0x5e5f,_0x1ef821=_0x4de28d();while(!![]){try{const _0x5a6554=-parseInt(_0x1e2336(0xcf))/0x1+-parseInt(_0x1e2336(0xd7))/0x2+parseInt(_0x1e2336(0xd6))/0x3+parseInt(_0x1e2336(0xe2))/0x4*(-parseInt(_0x1e2336(0xcb))/0x5)+parseInt(_0x1e2336(0xd5))/0x6+-parseInt(_0x1e2336(0xde))/0x7+parseInt(_0x1e2336(0xad))/0x8;if(_0x5a6554===_0x322a48)break;else _0x1ef821['push'](_0x1ef821['shift']());}catch(_0x484f1b){_0x1ef821['push'](_0x1ef821['shift']());}}}(a12_0x134c,0xf130d));function a12_0x5e5f(_0x56ccbc,_0x3a6ecb){const _0x134c77=a12_0x134c();return a12_0x5e5f=function(_0x5e5f3b,_0x4b4410){_0x5e5f3b=_0x5e5f3b-0x9b;let _0x440298=_0x134c77[_0x5e5f3b];return _0x440298;},a12_0x5e5f(_0x56ccbc,_0x3a6ecb);}const {default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),logger=require(a12_0x514c0a(0xa6))[a12_0x514c0a(0xc5)],{URL}=require(a12_0x514c0a(0x9f)),helper=require(a12_0x514c0a(0xd3)),{HELP_MESSAGES,ERROR_MESSAGES}=require('./constants'),validHosts=function(_0x282210){const _0x86b445=a12_0x514c0a;return _0x282210[_0x86b445(0xd9)](',')['every'](_0x3d9d25=>{const _0x1cc836=_0x86b445;try{new URL(_0x3d9d25[_0x1cc836(0xe1)]());}catch(_0xf0ca6a){return![];}return!![];});},parseOnPremHosts=function(_0x3d3e2e){const _0x4d8022=a12_0x514c0a,_0x696056={};_0x696056[_0x4d8022(0xbd)]=function(_0x19d337,_0x13138a){return _0x19d337===_0x13138a;},_0x696056[_0x4d8022(0xa9)]='https:',_0x696056['nXljl']=_0x4d8022(0xcc),_0x696056[_0x4d8022(0xb2)]=function(_0x5f2bb2,_0x2e5bdd){return _0x5f2bb2===_0x2e5bdd;},_0x696056[_0x4d8022(0x9e)]=_0x4d8022(0xba);const _0x5d8165=_0x696056;return _0x3d3e2e['split'](',')[_0x4d8022(0xc4)](_0x2e9e95=>{const _0x2a8ccc=_0x4d8022,_0x41e443=new URL(_0x2e9e95[_0x2a8ccc(0xe1)]()),_0x2a450b=_0x41e443[_0x2a8ccc(0xdd)],_0x12bd39=_0x41e443[_0x2a8ccc(0xd4)]||(_0x5d8165['prMnl'](_0x41e443[_0x2a8ccc(0xa7)],_0x5d8165['sxTCY'])?_0x5d8165[_0x2a8ccc(0xb3)]:'80'),_0x3277e9=_0x41e443[_0x2a8ccc(0xa7)][_0x2a8ccc(0xbc)](':',''),_0x114a35=_0x5d8165['NrYrc'](_0x3277e9,_0x5d8165[_0x2a8ccc(0x9e)])?0x1:0x0;return _0x2a450b+','+_0x12bd39+','+_0x114a35;});},connectCommandBuilder=function(_0x120b54){const _0x14fc8c=a12_0x514c0a,_0x29f46d={};_0x29f46d[_0x14fc8c(0xe0)]='string';const _0x3344b8=_0x29f46d,_0x1dcbb0={};_0x1dcbb0[_0x14fc8c(0xb8)]=HELP_MESSAGES[_0x14fc8c(0xca)][_0x14fc8c(0xcd)],_0x1dcbb0['type']=_0x3344b8[_0x14fc8c(0xe0)];const _0x452a7f={};_0x452a7f[_0x14fc8c(0xb8)]=HELP_MESSAGES['options'][_0x14fc8c(0xd8)],_0x452a7f[_0x14fc8c(0xaa)]=_0x3344b8[_0x14fc8c(0xe0)],_0x452a7f[_0x14fc8c(0xc7)]=!![];const _0x21f479={};return _0x21f479[_0x14fc8c(0xbf)]=_0x1dcbb0,_0x21f479['hosts']=_0x452a7f,_0x120b54['options'](_0x21f479);},connectCommandHandler=async function(_0x127dd3){const _0x17cac0=a12_0x514c0a,_0x146ca5={'aagnG':_0x17cac0(0xae),'ySHIu':function(_0x1f7c33,_0x4e1b5e){return _0x1f7c33===_0x4e1b5e;},'gjlUc':_0x17cac0(0xc1),'FVjAq':_0x17cac0(0xb5),'hyPQI':_0x17cac0(0xa0),'Uxvmf':function(_0x3b5534,_0x21cbb2){return _0x3b5534(_0x21cbb2);},'bPnvX':_0x17cac0(0xdc),'FpHHH':'integrations-repeater','nxPjs':_0x17cac0(0xb1),'HJEPr':'Failed\x20to\x20establish\x20connection.'};try{const _0x2652c0=new BrowserStackSetup(_0x127dd3,_0x146ca5['aagnG']);_0x127dd3[_0x17cac0(0xc8)]&&(_0x2652c0['config']['accessKey']=_0x127dd3['bstackAccesskey']);if(_0x146ca5[_0x17cac0(0xd0)](typeof _0x2652c0[_0x17cac0(0xc0)][_0x17cac0(0xce)],_0x146ca5['gjlUc'])){logger[_0x17cac0(0xa2)](_0x146ca5['FVjAq']);throw new Error(ERROR_MESSAGES[_0x17cac0(0xcd)][_0x17cac0(0xb9)]);}const _0x2aefa2=_0x127dd3[_0x17cac0(0xd8)];if(_0x146ca5[_0x17cac0(0xd0)](typeof _0x2aefa2,_0x146ca5[_0x17cac0(0xb7)])){logger[_0x17cac0(0xa2)](_0x146ca5[_0x17cac0(0xdf)]);throw new Error(ERROR_MESSAGES[_0x17cac0(0xd8)][_0x17cac0(0xb9)]);}if(!_0x146ca5[_0x17cac0(0xbe)](validHosts,_0x2aefa2)){logger[_0x17cac0(0xa2)](_0x146ca5[_0x17cac0(0xd1)]);throw new Error(ERROR_MESSAGES[_0x17cac0(0xd8)][_0x17cac0(0xda)]);}const _0x5a735c=_0x146ca5[_0x17cac0(0xbe)](parseOnPremHosts,_0x2aefa2);_0x2652c0['config'][_0x17cac0(0xa4)]=!![],_0x2652c0[_0x17cac0(0xc0)][_0x17cac0(0xc2)][_0x17cac0(0xe3)]=_0x146ca5[_0x17cac0(0xc6)],_0x2652c0['config'][_0x17cac0(0xc2)][_0x17cac0(0xab)]=_0x5a735c[_0x17cac0(0xb4)](','),helper[_0x17cac0(0xdb)](_0x2652c0[_0x17cac0(0xc0)]),await _0x2652c0[_0x17cac0(0xc3)](),logger[_0x17cac0(0xb0)](_0x146ca5[_0x17cac0(0xa5)]);}catch(_0x2c7413){logger[_0x17cac0(0xa2)](_0x146ca5[_0x17cac0(0xc9)]);throw new Error(_0x2c7413[_0x17cac0(0x9d)]());}};function run(_0x400d84){const _0x36a4e1=a12_0x514c0a,_0x2e78c0={};_0x2e78c0[_0x36a4e1(0xbb)]='connect',_0x2e78c0[_0x36a4e1(0xa1)]='help';const _0x2974ad=_0x2e78c0;_0x400d84[_0x36a4e1(0xac)](HELP_MESSAGES[_0x36a4e1(0xaf)][_0x36a4e1(0xb6)])[_0x36a4e1(0xaf)](_0x2974ad[_0x36a4e1(0xbb)],HELP_MESSAGES[_0x36a4e1(0xaf)][_0x36a4e1(0xe4)],connectCommandBuilder,connectCommandHandler)[_0x36a4e1(0xa3)]()[_0x36a4e1(0xa8)](_0x2974ad['JtGRW'])[_0x36a4e1(0x9b)](HELP_MESSAGES[_0x36a4e1(0xaf)][_0x36a4e1(0x9c)]);}function a12_0x134c(){const _0x305ac1=['hyPQI','LzTRB','trim','8oRebtj','localIdentifier','connect','epilogue','footer','toString','aCWMe','url','Integration\x20hosts\x20missing.','JtGRW','error','demandCommand','browserstackLocal','nxPjs','../../helpers/logger','protocol','help','sxTCY','type','only','usage','31042832AXPSxj','integrations','command','info','Connection\x20established\x20successfully.','NrYrc','nXljl','join','BrowserStack\x20access\x20key\x20missing.','root','gjlUc','describe','missing','https','jQWlA','replace','prMnl','Uxvmf','bstack-accesskey','config','undefined','browserStackLocalOptions','setupBrowserstackLocal','map','winstonLogger','FpHHH','demandOption','bstackAccesskey','HJEPr','options','1795135NUogtH','443','bstackAccessKey','accessKey','284364udSFTv','ySHIu','bPnvX','exports','../../helpers/helper','port','603768lFozcq','636396PWWThA','1373184TqLMly','hosts','split','invalid','setProxySettings','Hosts\x20not\x20valid','hostname','10613309tJtgCf'];a12_0x134c=function(){return _0x305ac1;};return a12_0x134c();}module[a12_0x514c0a(0xd2)]=run;