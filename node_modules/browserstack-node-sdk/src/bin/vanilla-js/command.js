#!/usr/bin/env node
'use strict';const a53_0x4c039f=a53_0x5496;(function(_0x385ced,_0x2fd8a6){const _0xb52048=a53_0x5496,_0x19d558=_0x385ced();while(!![]){try{const _0x4b1241=parseInt(_0xb52048(0x192))/0x1*(-parseInt(_0xb52048(0x195))/0x2)+-parseInt(_0xb52048(0x162))/0x3+-parseInt(_0xb52048(0x196))/0x4+parseInt(_0xb52048(0x199))/0x5*(parseInt(_0xb52048(0x182))/0x6)+-parseInt(_0xb52048(0x167))/0x7+-parseInt(_0xb52048(0x165))/0x8*(parseInt(_0xb52048(0x169))/0x9)+parseInt(_0xb52048(0x16e))/0xa;if(_0x4b1241===_0x2fd8a6)break;else _0x19d558['push'](_0x19d558['shift']());}catch(_0x2689a3){_0x19d558['push'](_0x19d558['shift']());}}}(a53_0x3d83,0x2d644));function a53_0x3d83(){const _0x2195a7=['SDK_SETUP','148905ZMCiKW','config','56808QWWYYz','push','launchBuild','157816mLKjcj','../../helpers/utilities','800996eeCgmC','platforms','45iabdEl','nHXZS','raVTT','getPlatformName','isUndefined','7275880akflNi','GCvsN','path','exports','../../helpers/performance/constants','finally','../test-runner','assign','../../helpers/helper','finalExecution','csBfj','configuration','proxySettings','File\x20path\x20is\x20required','file','FzSKx','SDK_CLEANUP','length','../../helpers/BrowserStackSetup','modifyBrowserStackCaps','6qpvLDn','File\x20','kKXgT','useW3C','EVENTS','join','getHubUrl','\x20doesn\x27t\x20exist','vanilla','Config\x20yml\x20is\x20required','modifyBrowserStackW3CCaps','existsSync','forEach','cwd','end','BwIIU','4877XqJqTX','wJnfk','then','2GyZtZy','1338276ZKmsTD','index'];a53_0x3d83=function(){return _0x2195a7;};return a53_0x3d83();}function a53_0x5496(_0x153675,_0x1226d1){const _0x3d8338=a53_0x3d83();return a53_0x5496=function(_0x5496a4,_0x2ee649){_0x5496a4=_0x5496a4-0x162;let _0x2bd553=_0x3d8338[_0x5496a4];return _0x2bd553;},a53_0x5496(_0x153675,_0x1226d1);}const fs=require('fs'),path=require(a53_0x4c039f(0x170)),{default:BrowserStackSetup}=require(a53_0x4c039f(0x180)),helper=require(a53_0x4c039f(0x176)),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a53_0x4c039f(0x172))[a53_0x4c039f(0x186)],utilities=require(a53_0x4c039f(0x166)),{parallelVanillaRun}=require(a53_0x4c039f(0x174)),TestHubHandler=require('../../helpers/testhub/testhubHandler');async function run(_0xfd838a,_0x223c24){const _0x269848=a53_0x4c039f,_0x1b46e7={'nHXZS':_0x269848(0x18a),'raVTT':function(_0x1642d4,_0x20a89f){return _0x1642d4(_0x20a89f);},'FzSKx':_0x269848(0x17b),'BwIIU':function(_0x3b448f,_0x265a06){return _0x3b448f(_0x265a06);},'csBfj':_0x269848(0x18b),'GCvsN':function(_0x58e691,_0x3887d0){return _0x58e691>_0x3887d0;},'WgCJL':function(_0x333aca,_0x502179){return _0x333aca>_0x502179;},'kKXgT':function(_0x4b5405,_0x320f2e){return _0x4b5405*_0x320f2e;},'wJnfk':function(_0x4d5161,_0x442e38,_0x500157){return _0x4d5161(_0x442e38,_0x500157);}},_0x33b7d0=new BrowserStackSetup(_0xfd838a,_0x1b46e7[_0x269848(0x16a)]);await _0x33b7d0['initialize'](),await helper['handleApp'](_0x33b7d0['config']);const _0x5b1ca5=[];if(helper[_0x269848(0x16d)](_0xfd838a['_'][0x1]))throw _0x1b46e7[_0x269848(0x16b)](Error,_0x1b46e7[_0x269848(0x17d)]);const _0x1c9a90=path[_0x269848(0x187)](process[_0x269848(0x18f)](),_0xfd838a['_'][0x1]);if(!fs[_0x269848(0x18d)](_0x1c9a90))throw _0x1b46e7[_0x269848(0x191)](Error,_0x269848(0x183)+_0xfd838a['_'][0x1]+_0x269848(0x189));if(!_0x33b7d0[_0x269848(0x19a)])throw _0x1b46e7[_0x269848(0x191)](Error,_0x1b46e7[_0x269848(0x178)]);const _0x34bf93=helper[_0x269848(0x185)](_0x33b7d0[_0x269848(0x19a)]);_0x33b7d0['config'][_0x269848(0x168)]&&_0x1b46e7[_0x269848(0x16f)](_0x33b7d0[_0x269848(0x19a)][_0x269848(0x168)]['length'],0x0)&&_0x33b7d0[_0x269848(0x19a)]['platforms'][_0x269848(0x18e)]((_0x1a51c9,_0x5efac0)=>{const _0x3d85d4=_0x269848;_0x34bf93?_0x5b1ca5['push'](helper['modifyBrowserStackW3CCaps'](_0x33b7d0[_0x3d85d4(0x19a)],_0x1b46e7[_0x3d85d4(0x16a)],_0x5efac0)):_0x5b1ca5[_0x3d85d4(0x163)](helper['modifyBrowserStackCaps'](_0x33b7d0['config'],_0x1b46e7['nHXZS'],_0x5efac0));});let _0x1f9d4b,_0x2068dd;const _0x42567e=[];if(_0x1b46e7['WgCJL'](_0x5b1ca5[_0x269848(0x17f)],0x0))_0x5b1ca5[_0x269848(0x18e)]((_0xfc5fb1,_0x5757a0)=>{const _0x3cce51=_0x269848,_0x3d2825={};_0x3d2825[_0x3cce51(0x197)]=_0x5757a0,_0x1f9d4b={'server':helper[_0x3cce51(0x188)](_0x33b7d0[_0x3cce51(0x19a)]),'proxySettings':_0x33b7d0[_0x3cce51(0x19a)][_0x3cce51(0x17a)],'platform':helper[_0x3cce51(0x16c)](_0xfc5fb1),'platformCaps':Object[_0x3cce51(0x175)](_0x3d2825,_0x33b7d0['config']['platforms'][_0x5757a0])};const _0x592a30={'capability':_0xfc5fb1,..._0x1f9d4b};_0x592a30['file']=_0x1c9a90,_0x592a30['args']=_0x223c24;const _0x40a98d={};_0x40a98d[_0x3cce51(0x179)]=_0x592a30,_0x2068dd=_0x40a98d,_0x42567e[_0x3cce51(0x163)](_0x2068dd);});else{let _0xab46d;_0x34bf93?_0xab46d=helper[_0x269848(0x18c)](_0x33b7d0[_0x269848(0x19a)],_0x1b46e7['nHXZS'],0x0):_0xab46d=helper[_0x269848(0x181)](_0x33b7d0[_0x269848(0x19a)],_0x1b46e7[_0x269848(0x16a)],0x0);_0x1f9d4b={'server':helper[_0x269848(0x188)](_0x33b7d0['config']),'proxySettings':_0x33b7d0[_0x269848(0x19a)]['proxySettings']};const _0x280962={'capability':_0xab46d,..._0x1f9d4b};_0x280962[_0x269848(0x17c)]=_0x1c9a90,_0x280962['args']=_0x223c24;const _0x305f66={};_0x305f66[_0x269848(0x179)]=_0x280962,_0x2068dd=_0x305f66,_0x42567e['push'](_0x2068dd);}const _0x231c90=await TestHubHandler[_0x269848(0x164)](_0x1b46e7[_0x269848(0x16a)],_0x33b7d0),_0xacfe19=_0x1b46e7[_0x269848(0x184)](_0x33b7d0['config'][_0x269848(0x168)][_0x269848(0x17f)]||0x1,_0x33b7d0['config']['parallelsPerPlatform']||0x1);PerformanceTester[_0x269848(0x190)](PerformanceEvents[_0x269848(0x198)]),_0x1b46e7[_0x269848(0x193)](parallelVanillaRun,_0x42567e,_0xacfe19)[_0x269848(0x194)](_0x363f57=>{})[_0x269848(0x173)](async()=>{const _0x8ee8c7=_0x269848;PerformanceTester['start'](PerformanceEvents[_0x8ee8c7(0x17e)]),await utilities[_0x8ee8c7(0x177)](_0x33b7d0);});}module[a53_0x4c039f(0x171)]=run;