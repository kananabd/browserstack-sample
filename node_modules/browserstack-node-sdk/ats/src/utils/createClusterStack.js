function a25_0x45d0(_0xabf4ba,_0x5dd213){const _0x2ec19d=a25_0x2ec1();return a25_0x45d0=function(_0x45d086,_0x2acc19){_0x45d086=_0x45d086-0xe8;let _0x3db2b1=_0x2ec19d[_0x45d086];return _0x3db2b1;},a25_0x45d0(_0xabf4ba,_0x5dd213);}const a25_0x370bbc=a25_0x45d0;(function(_0x168f50,_0x5c1704){const _0x3de323=a25_0x45d0,_0x49d3d8=_0x168f50();while(!![]){try{const _0x58c552=parseInt(_0x3de323(0x106))/0x1+parseInt(_0x3de323(0xff))/0x2*(parseInt(_0x3de323(0xf6))/0x3)+parseInt(_0x3de323(0x195))/0x4+-parseInt(_0x3de323(0x138))/0x5*(-parseInt(_0x3de323(0x173))/0x6)+parseInt(_0x3de323(0xfc))/0x7*(-parseInt(_0x3de323(0x140))/0x8)+-parseInt(_0x3de323(0x175))/0x9*(-parseInt(_0x3de323(0x177))/0xa)+-parseInt(_0x3de323(0x180))/0xb;if(_0x58c552===_0x5c1704)break;else _0x49d3d8['push'](_0x49d3d8['shift']());}catch(_0x548a92){_0x49d3d8['push'](_0x49d3d8['shift']());}}}(a25_0x2ec1,0x4f5c0));const fs=require('fs'),path=require(a25_0x370bbc(0x142)),Promise=require(a25_0x370bbc(0x124)),yaml=require(a25_0x370bbc(0xf9)),{CLOUDFORMATION_SCHEMA}=require(a25_0x370bbc(0x183)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a25_0x370bbc(0x144)),{logger}=require(a25_0x370bbc(0x155)),{isBucketPresent}=require(a25_0x370bbc(0x14d));function a25_0x2ec1(){const _0x209bd3=['SubnetIds','toString','OraHg','tOAmP','ZXNln','VPaJM','419008CIcClV','fsBWY','path','WspCQ','../config/constants','VPC','aws-eks-cluster-dep.yaml','pOTHH','FiJPl','xxhGD','VCNyZ','hJBIR','readFileAsync','./AWSUtils','NodeAutoScalingGroupMaxSize','Ref','eScfH','ESBuX','shXKE','NodeAutoScalingGroupDesiredSizeWindows','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','../config/logger','vpc-import.yaml','NAzuY','Subnet03Block','ParameterValue','schema','ukpwK','VOsCg','NodeGroup','load','rNijT','EKSCluster','VgjcJ','xXEgY','iVpNN','coZml','EaKsq','browserstack:creationDate','TPiAI','XwaWt','kyqLo','Outputs','Value','FGXMi','kfRvT','Parameters','oXsKx','HGpCM','ResourcesVpcConfig','Eukeu','2336478CocfGF','WqIdm','455391nbhFPg','yUiLR','70FhOqNH','forEach','oDXBm','ViJuh','NodeAutoScalingGroupMinSize','TpKDr','fXPOL','ParameterGroups','Key','15612641tbmeMS','FcYEa','gwSyL','js-yaml-cloudformation-schema','wxQQf','HyxTi','wYRrz','Subnet','ndcHs','oFAVg','XUUSl','ParameterKey','vHhVJ','FTnJL','eZVkk','RQjLL','Properties','zKOBG','push','PCDqz','czPrn','1189812BIgoYF','NodeGroupWindows','uFofw','BRYAB','SeqyB','join','Subnets','xPtgk','Fn::Join','esPhX','instanceType','SKMgG','PfixH','udHcq','qNuqr','LsBLj','stringify','enGFW','WsocF','padStart','peaqv','SBBIs','UhFfR','valueOf','NodeGroupName','CFTemplates','Ciybo','OnFailure','39dciDAF','AbhIG','chrgk','js-yaml','hYOza','Capabilities','21tBVCUj','vpc-create.yaml','TzDZJ','83180phAplE','s3Bucket','CAPABILITY_NAMED_IAM','browserstack:cluster','nHDdi','bfRNo','PkoNE','319786DnlWbt','oHCEb','lYgbC','jKQtm','NRzpi','NodeGroupNameWindows','NodeAutoScalingGroupMinSizeWindows','FhUgm','StackName','KMwip','PRfmS','value','apiVersion','hpKFE','Irvze','liuTW','split','3|4|0|1|5|2','kcjeO','deWdy','waitFor','utf-8','stackCreateComplete','QXlJr','NzSTs','Metadata','TdPnt','keys','Resources','HxxzR','bluebird','jZziE','Tags','promise','AWS::CloudFormation::Interface','vpQTj','AXXPP','XNXiU','ODZTE','nlhqe','uoykx','mVHPn','AtKtG','JARsM','s3-create.yaml','YDfUd','CloudFormation','subnet-create.yaml','JlaAo','BBANe','5KFDkyQ','createStack'];a25_0x2ec1=function(){return _0x209bd3;};return a25_0x2ec1();}Promise['promisifyAll'](fs);const mergeTemplates=(_0x551704,_0x392d68)=>{const _0x3f44cf=a25_0x370bbc,_0x399baa={'WqIdm':function(_0x40a63b,_0x2df554){return _0x40a63b(_0x2df554);},'BBANe':function(_0x121e3f,_0x277892){return _0x121e3f===_0x277892;},'lDoyg':'HbWUH','hJSqs':function(_0x1e33af,_0x5c5b5d){return _0x1e33af!==_0x5c5b5d;},'xPtgk':'XtxGm'};Object[_0x3f44cf(0x121)](_0x392d68)['forEach'](_0x2cc38e=>{const _0x194763=_0x3f44cf,_0x41ef0b={'NAzuY':function(_0x10f574,_0x169b9b){const _0x21c1d0=a25_0x45d0;return _0x399baa[_0x21c1d0(0x174)](_0x10f574,_0x169b9b);},'uFofw':function(_0x313aff,_0x34a56e){const _0x396506=a25_0x45d0;return _0x399baa[_0x396506(0x137)](_0x313aff,_0x34a56e);},'yUiLR':_0x399baa['lDoyg']};if(_0x399baa['hJSqs'](_0x399baa[_0x194763(0x19c)],_0x399baa[_0x194763(0x19c)])){let _0x496fae=0x1;_0x386421[_0x194763(0x178)](_0x49f4a6=>{const _0x200ec8=_0x194763;_0x50969d[_0x200ec8(0x16e)][_0x200ec8(0x192)]({'ParameterKey':_0x200ec8(0x187)+_0x41ef0b[_0x200ec8(0x157)](_0x318fc6,_0x496fae)[_0x200ec8(0xed)](0x2,'0'),'ParameterValue':_0x49f4a6['value']}),_0x496fae+=0x1;});}else{var _0x10936c=_0x392d68[_0x2cc38e];Object[_0x194763(0x121)](_0x10936c)[_0x194763(0x178)](_0x7b1a37=>{const _0x35a139=_0x194763;if(_0x41ef0b[_0x35a139(0x197)](_0x41ef0b[_0x35a139(0x176)],_0x41ef0b[_0x35a139(0x176)]))_0x551704[_0x2cc38e][_0x7b1a37]=_0x10936c[_0x7b1a37];else{var _0x11af4f=_0x24b5a8[_0x2f7456];_0xe95e93[_0x35a139(0x121)](_0x11af4f)['forEach'](_0xc0daf5=>{_0x51e3e0[_0x262c7f][_0xc0daf5]=_0x11af4f[_0xc0daf5];});}});}});},addVPCData=async(_0x4b09f0,_0x2f6e59)=>{const _0x2dc1ba=a25_0x370bbc,_0x55076d={'vHhVJ':function(_0x40947b,_0x4cb61e,_0x340d6f){return _0x40947b(_0x4cb61e,_0x340d6f);},'KMwip':function(_0x389ba5,_0x4f80d2){return _0x389ba5===_0x4f80d2;},'EaKsq':_0x2dc1ba(0x182),'Irvze':_0x2dc1ba(0x199),'XUUSl':'CFTemplates','oXsKx':_0x2dc1ba(0x156),'OraHg':_0x2dc1ba(0x11b),'jZziE':function(_0x2d40e5,_0x5e4c92,_0x500a61){return _0x2d40e5(_0x5e4c92,_0x500a61);},'VOsCg':_0x2dc1ba(0x128),'liuTW':'VPC','SBBIs':function(_0x10423e,_0x3237bf){return _0x10423e===_0x3237bf;},'JARsM':_0x2dc1ba(0x13d),'kyqLo':_0x2dc1ba(0xfd),'nHDdi':'VpcBlock'};if(_0x2f6e59){if(_0x55076d[_0x2dc1ba(0x10f)](_0x55076d[_0x2dc1ba(0x165)],_0x55076d[_0x2dc1ba(0x114)]))_0x4b84a4[_0x21bfa6][_0x276380]=_0x289ed8[_0x19bb28];else{const _0x46a39a=await fs['readFileAsync'](path[_0x2dc1ba(0x19a)](__dirname,'..',_0x55076d[_0x2dc1ba(0x18a)],_0x55076d[_0x2dc1ba(0x16f)]),_0x55076d[_0x2dc1ba(0x13c)]),_0x247fe9={};_0x247fe9[_0x2dc1ba(0x15a)]=CLOUDFORMATION_SCHEMA;const _0x552cfb=yaml[_0x2dc1ba(0x15e)](_0x46a39a,_0x247fe9);_0x55076d[_0x2dc1ba(0x125)](mergeTemplates,_0x4b09f0,_0x552cfb),_0x4b09f0[_0x2dc1ba(0x11f)][_0x55076d[_0x2dc1ba(0x15c)]][_0x2dc1ba(0x17e)][0x0][_0x2dc1ba(0x16e)][_0x2dc1ba(0x192)](_0x55076d[_0x2dc1ba(0x115)]);}}else{if(_0x55076d[_0x2dc1ba(0xef)](_0x55076d['JARsM'],_0x55076d[_0x2dc1ba(0x131)])){const _0x3a63dd=await fs[_0x2dc1ba(0x14c)](path[_0x2dc1ba(0x19a)](__dirname,'..',_0x55076d['XUUSl'],_0x55076d[_0x2dc1ba(0x169)]),_0x55076d[_0x2dc1ba(0x13c)]),_0x121b00={};_0x121b00[_0x2dc1ba(0x15a)]=CLOUDFORMATION_SCHEMA;const _0x2e21b9=yaml[_0x2dc1ba(0x15e)](_0x3a63dd,_0x121b00);_0x55076d[_0x2dc1ba(0x18c)](mergeTemplates,_0x4b09f0,_0x2e21b9),_0x4b09f0['Metadata'][_0x55076d[_0x2dc1ba(0x15c)]]['ParameterGroups'][0x0][_0x2dc1ba(0x16e)][_0x2dc1ba(0x192)](_0x55076d[_0x2dc1ba(0x103)]);}else _0x55076d['vHhVJ'](_0x1b6de1,_0x4a02b5,_0x4c293d);}},addS3Data=async _0x19c0ca=>{const _0x1395bf=a25_0x370bbc,_0x410a4b={'UhFfR':_0x1395bf(0xf3),'PCDqz':_0x1395bf(0x132),'TPiAI':'utf-8','bfRNo':function(_0x4c6433,_0x19c6e1){return _0x4c6433(_0x19c6e1);},'URusk':function(_0x376b8b,_0x251525){return _0x376b8b===_0x251525;},'VgjcJ':function(_0x5d76c5,_0x1260e9){return _0x5d76c5!==_0x1260e9;},'enGFW':_0x1395bf(0x110),'jKQtm':function(_0x53d5c0,_0x4b157b,_0x5e4dc3){return _0x53d5c0(_0x4b157b,_0x5e4dc3);}},_0x35c5e4=await fs[_0x1395bf(0x14c)](path[_0x1395bf(0x19a)](__dirname,'..',_0x410a4b[_0x1395bf(0xf0)],_0x410a4b[_0x1395bf(0x193)]),_0x410a4b[_0x1395bf(0x167)]),_0x1fcea6={};_0x1fcea6['schema']=CLOUDFORMATION_SCHEMA;const _0xb7371a=yaml[_0x1395bf(0x15e)](_0x35c5e4,_0x1fcea6),_0x1573bd=await _0x410a4b[_0x1395bf(0x104)](isBucketPresent,global_registry[_0x1395bf(0x100)]);_0x410a4b['URusk'](_0x1573bd,![])&&(_0x410a4b[_0x1395bf(0x161)](_0x410a4b[_0x1395bf(0xeb)],_0x410a4b['enGFW'])?_0x266ee1[_0x52c835[_0x1395bf(0x17f)]]=_0x119f33[_0x1395bf(0x16b)]:_0x410a4b[_0x1395bf(0x109)](mergeTemplates,_0x19c0ca,_0xb7371a));},addSubnetData=async(_0x80f8d1,_0x43b056)=>{const _0x2503c6=a25_0x370bbc,_0x2dbb7b={'ESBuX':function(_0x274ba4,_0x596e92){return _0x274ba4(_0x596e92);},'hpKFE':function(_0x3ba851,_0x455da3){return _0x3ba851!==_0x455da3;},'xXEgY':_0x2503c6(0x170),'oHCEb':'0|1|3|2|5|4','fsBWY':function(_0x14d77f,_0x4ce352){return _0x14d77f(_0x4ce352);},'zKOBG':'AWS::CloudFormation::Interface','lYgbC':function(_0x3da96b,_0x411ddc){return _0x3da96b(_0x411ddc);},'BRYAB':function(_0x451620,_0x23f2ae){return _0x451620(_0x23f2ae);},'hYOza':_0x2503c6(0x19d),'AbhIG':function(_0x5bd268,_0x155301){return _0x5bd268(_0x155301);},'AhrNz':'NodeGroup','czPrn':_0x2503c6(0x196),'XNXiU':function(_0x162e2f,_0x305df4){return _0x162e2f===_0x305df4;},'uoykx':_0x2503c6(0x16c),'jCfql':_0x2503c6(0x17c),'esPhX':'CFTemplates','FiJPl':'subnet-import.yaml','chrgk':_0x2503c6(0x11b),'coZml':function(_0x4d87d7,_0x185d6d,_0x31d763){return _0x4d87d7(_0x185d6d,_0x31d763);},'wYRrz':_0x2503c6(0x10a),'eScfH':_0x2503c6(0x13f),'hJBIR':_0x2503c6(0x135),'PfixH':'Subnet01','eZVkk':'Subnet02','deWdy':'Subnet03','ODZTE':'Subnet01Block','DWjaG':'Subnet02Block','EKteC':_0x2503c6(0x158)};if(_0x43b056){if(_0x2dbb7b[_0x2503c6(0x12b)](_0x2dbb7b[_0x2503c6(0x12e)],_0x2dbb7b['jCfql']))_0x5d0448['keys'](_0xf3668)['forEach'](_0x38da73=>{const _0x26dd55=_0x2503c6;var _0x1a098b=_0x422d80[_0x38da73];_0x3a5996[_0x26dd55(0x121)](_0x1a098b)[_0x26dd55(0x178)](_0x43707f=>{_0x47f836[_0x38da73][_0x43707f]=_0x1a098b[_0x43707f];});});else{const _0x1d14ba=await fs[_0x2503c6(0x14c)](path[_0x2503c6(0x19a)](__dirname,'..',_0x2dbb7b[_0x2503c6(0x19e)],_0x2dbb7b[_0x2503c6(0x148)]),_0x2dbb7b[_0x2503c6(0xf8)]),_0x2d7407={};_0x2d7407[_0x2503c6(0x15a)]=CLOUDFORMATION_SCHEMA;const _0xc84cb8=yaml[_0x2503c6(0x15e)](_0x1d14ba,_0x2d7407);_0x2dbb7b[_0x2503c6(0x164)](mergeTemplates,_0x80f8d1,_0xc84cb8);let _0x17d74a=0x1;_0x43b056[_0x2503c6(0x178)](_0x4bedfb=>{const _0x17ac4c=_0x2503c6;if(_0x2dbb7b[_0x17ac4c(0x113)](_0x2dbb7b[_0x17ac4c(0x162)],_0x2dbb7b[_0x17ac4c(0x162)]))_0x3442a2['Parameters']['push']({'ParameterKey':_0x17ac4c(0x187)+_0x2dbb7b[_0x17ac4c(0x151)](_0x4cfb81,_0x563f47)[_0x17ac4c(0xed)](0x2,'0'),'ParameterValue':_0x4700cc[_0x17ac4c(0x111)]}),_0x774d28+=0x1;else{const _0xdc571d=_0x2dbb7b[_0x17ac4c(0x107)]['split']('|');let _0x2778cf=0x0;while(!![]){switch(_0xdc571d[_0x2778cf++]){case'0':_0x80f8d1[_0x17ac4c(0x122)][_0x17ac4c(0x160)][_0x17ac4c(0x190)][_0x17ac4c(0x171)]['SubnetIds']['push']({'Ref':'Subnet'+_0x2dbb7b[_0x17ac4c(0x141)](String,_0x17d74a)['padStart'](0x2,'0')});continue;case'1':_0x80f8d1[_0x17ac4c(0x11f)][_0x2dbb7b[_0x17ac4c(0x191)]][_0x17ac4c(0x17e)][0x0]['Parameters'][_0x17ac4c(0x192)]('Subnet'+_0x2dbb7b[_0x17ac4c(0x108)](String,_0x17d74a)['padStart'](0x2,'0'));continue;case'2':_0x80f8d1[_0x17ac4c(0x122)][_0x17ac4c(0x196)]['Properties']['Subnets'][_0x17ac4c(0x192)]({'Ref':_0x17ac4c(0x187)+_0x2dbb7b[_0x17ac4c(0x198)](String,_0x17d74a)[_0x17ac4c(0xed)](0x2,'0')});continue;case'3':_0x80f8d1[_0x17ac4c(0x122)]['NodeGroup'][_0x17ac4c(0x190)][_0x17ac4c(0x19b)]['push']({'Ref':'Subnet'+_0x2dbb7b[_0x17ac4c(0x198)](String,_0x17d74a)['padStart'](0x2,'0')});continue;case'4':_0x17d74a+=0x1;continue;case'5':_0x80f8d1[_0x17ac4c(0x16a)]['SubnetIds'][_0x17ac4c(0x16b)][_0x2dbb7b[_0x17ac4c(0xfa)]][0x1][_0x17ac4c(0x192)]({'Ref':_0x17ac4c(0x187)+_0x2dbb7b[_0x17ac4c(0xf7)](String,_0x17d74a)[_0x17ac4c(0xed)](0x2,'0')});continue;}break;}}});}}else{if(_0x2dbb7b[_0x2503c6(0x12b)](_0x2dbb7b[_0x2503c6(0x186)],_0x2dbb7b[_0x2503c6(0x150)])){for(const _0x3d6dcd in _0xd45a41['Resources']){_0x18ad9e[_0x2503c6(0x122)][_0x3d6dcd][_0x2503c6(0x190)]&&_0x5a0000[_0x2503c6(0x122)][_0x3d6dcd]['Properties']['Tags']&&_0x38b9b8[_0x2503c6(0x122)][_0x3d6dcd][_0x2503c6(0x190)][_0x2503c6(0x126)][_0x2503c6(0x192)](..._0x2c6d90);}const _0x2c9bfa={};_0x29bbb3[_0x2503c6(0x178)](_0x445622=>{const _0x4e2739=_0x2503c6;_0x2c9bfa[_0x445622[_0x4e2739(0x17f)]]=_0x445622[_0x4e2739(0x16b)];}),_0x369bc3[_0x2503c6(0x122)][_0x2dbb7b['AhrNz']]['Properties'][_0x2503c6(0x126)]=_0x2c9bfa,_0x434937[_0x2503c6(0x122)][_0x2dbb7b[_0x2503c6(0x194)]]['Properties']['Tags']=_0x2c9bfa;}else{const _0x3ab1f2=await fs[_0x2503c6(0x14c)](path[_0x2503c6(0x19a)](__dirname,'..',_0x2dbb7b['esPhX'],_0x2dbb7b[_0x2503c6(0x14b)]),_0x2dbb7b[_0x2503c6(0xf8)]),_0x14a93e={};_0x14a93e[_0x2503c6(0x15a)]=CLOUDFORMATION_SCHEMA;const _0x182c68=yaml['load'](_0x3ab1f2,_0x14a93e);_0x2dbb7b[_0x2503c6(0x164)](mergeTemplates,_0x80f8d1,_0x182c68),_0x80f8d1[_0x2503c6(0x122)][_0x2503c6(0x160)]['DependsOn'][_0x2503c6(0x192)](_0x2dbb7b[_0x2503c6(0x1a1)],_0x2dbb7b[_0x2503c6(0x18e)],_0x2dbb7b['deWdy']);const _0x5214a8={};_0x5214a8['Ref']=_0x2dbb7b[_0x2503c6(0x1a1)];const _0x468031={};_0x468031[_0x2503c6(0x14f)]=_0x2dbb7b['eZVkk'];const _0x15b55e={};_0x15b55e['Ref']=_0x2dbb7b[_0x2503c6(0x119)],_0x80f8d1[_0x2503c6(0x122)][_0x2503c6(0x160)][_0x2503c6(0x190)]['ResourcesVpcConfig'][_0x2503c6(0x13a)]=[_0x5214a8,_0x468031,_0x15b55e],_0x80f8d1['Metadata'][_0x2dbb7b['zKOBG']][_0x2503c6(0x17e)][0x0][_0x2503c6(0x16e)][_0x2503c6(0x192)](_0x2dbb7b[_0x2503c6(0x12c)],_0x2dbb7b['DWjaG'],_0x2dbb7b['EKteC']);const _0x53399a={};_0x53399a['Ref']=_0x2dbb7b[_0x2503c6(0x1a1)];const _0x4d8e39={};_0x4d8e39[_0x2503c6(0x14f)]=_0x2dbb7b[_0x2503c6(0x18e)];const _0x2f325f={};_0x2f325f[_0x2503c6(0x14f)]=_0x2dbb7b[_0x2503c6(0x119)],_0x80f8d1[_0x2503c6(0x122)]['NodeGroup'][_0x2503c6(0x190)][_0x2503c6(0x19b)]=[_0x53399a,_0x4d8e39,_0x2f325f];const _0x23b3e3={};_0x23b3e3[_0x2503c6(0x14f)]=_0x2dbb7b[_0x2503c6(0x1a1)];const _0x12080e={};_0x12080e[_0x2503c6(0x14f)]=_0x2dbb7b[_0x2503c6(0x18e)];const _0x4d18bd={};_0x4d18bd['Ref']=_0x2dbb7b[_0x2503c6(0x119)],_0x80f8d1[_0x2503c6(0x122)][_0x2503c6(0x196)][_0x2503c6(0x190)][_0x2503c6(0x19b)]=[_0x23b3e3,_0x12080e,_0x4d18bd],_0x80f8d1[_0x2503c6(0x16a)]['SubnetIds'][_0x2503c6(0x16b)][_0x2dbb7b[_0x2503c6(0xfa)]][0x1]=[{'Ref':_0x2dbb7b['PfixH']},{'Ref':_0x2dbb7b[_0x2503c6(0x18e)]},{'Ref':_0x2dbb7b['deWdy']}];}}},addTags=async(_0x4c8d3a,_0x1ec0db,_0x2aa5bd)=>{const _0x219fc9=a25_0x370bbc,_0x5a6007={'NsMyx':_0x219fc9(0x145),'Ciybo':_0x219fc9(0x117),'kcSTm':function(_0x40794a,_0x3b39bd){return _0x40794a(_0x3b39bd);},'kcjeO':function(_0x5442e3,_0x135613){return _0x5442e3(_0x135613);},'qNuqr':_0x219fc9(0x128),'SKMgG':'Fn::Join','FTnJL':function(_0x50e15c,_0x346fdb){return _0x50e15c(_0x346fdb);},'suoBQ':function(_0x15eb7a,_0xe9e429){return _0x15eb7a!==_0xe9e429;},'VUZIW':_0x219fc9(0x143),'shXKE':function(_0x147c5f,_0x26b849){return _0x147c5f===_0x26b849;},'xxhGD':_0x219fc9(0x17a),'NzSTs':_0x219fc9(0x18f),'ndcHs':function(_0x350a67,_0x46f9e4){return _0x350a67!==_0x46f9e4;},'YDfUd':_0x219fc9(0x129),'TzDZJ':_0x219fc9(0x163),'uCcOh':_0x219fc9(0x15d),'RHdwe':_0x219fc9(0x196)};for(const _0x452b02 in _0x4c8d3a[_0x219fc9(0x122)]){if(_0x5a6007[_0x219fc9(0x152)](_0x5a6007[_0x219fc9(0x149)],_0x5a6007[_0x219fc9(0x11e)])){const _0x2c0226={};_0x2c0226[_0x219fc9(0x18b)]=_0x5a6007['NsMyx'],_0x2c0226[_0x219fc9(0x159)]=_0x1d1f1d,_0x43a985['Parameters'][_0x219fc9(0x192)](_0x2c0226);}else _0x4c8d3a[_0x219fc9(0x122)][_0x452b02][_0x219fc9(0x190)]&&_0x4c8d3a['Resources'][_0x452b02][_0x219fc9(0x190)][_0x219fc9(0x126)]&&(_0x5a6007[_0x219fc9(0x188)](_0x5a6007[_0x219fc9(0x133)],_0x5a6007[_0x219fc9(0xfe)])?_0x4c8d3a['Resources'][_0x452b02][_0x219fc9(0x190)][_0x219fc9(0x126)][_0x219fc9(0x192)](..._0x2aa5bd):_0x1ff032[_0x219fc9(0x122)][_0x40bb8e][_0x219fc9(0x190)]&&_0x53f2c2[_0x219fc9(0x122)][_0x57b16b][_0x219fc9(0x190)]['Tags']&&_0x1c0ba8[_0x219fc9(0x122)][_0x50161c][_0x219fc9(0x190)][_0x219fc9(0x126)]['push'](..._0x3c4517));}const _0x1166c7={};_0x2aa5bd[_0x219fc9(0x178)](_0x5a0995=>{const _0x54651b=_0x219fc9,_0x371974={'TdPnt':_0x5a6007[_0x54651b(0xf4)],'myPYS':function(_0x3ce625,_0x2ced8b){return _0x5a6007['kcSTm'](_0x3ce625,_0x2ced8b);},'peaqv':function(_0x496232,_0xd298be){const _0x23774b=_0x54651b;return _0x5a6007[_0x23774b(0x118)](_0x496232,_0xd298be);},'HcHyY':_0x5a6007[_0x54651b(0xe8)],'LsBLj':function(_0x298e36,_0x573347){const _0x55b464=_0x54651b;return _0x5a6007[_0x55b464(0x118)](_0x298e36,_0x573347);},'ZXNln':_0x5a6007[_0x54651b(0x1a0)],'AXXPP':function(_0x47574e,_0x323644){const _0x56b1b1=_0x54651b;return _0x5a6007[_0x56b1b1(0x18d)](_0x47574e,_0x323644);}};if(_0x5a6007['suoBQ'](_0x5a6007['VUZIW'],_0x5a6007['VUZIW'])){const _0x49ff7b=_0x371974[_0x54651b(0x120)][_0x54651b(0x116)]('|');let _0x3d50e7=0x0;while(!![]){switch(_0x49ff7b[_0x3d50e7++]){case'0':_0x506435[_0x54651b(0x122)][_0x54651b(0x15d)]['Properties'][_0x54651b(0x19b)][_0x54651b(0x192)]({'Ref':'Subnet'+_0x371974['myPYS'](_0xe331ba,_0x3698cf)[_0x54651b(0xed)](0x2,'0')});continue;case'1':_0x152791[_0x54651b(0x122)][_0x54651b(0x196)][_0x54651b(0x190)][_0x54651b(0x19b)][_0x54651b(0x192)]({'Ref':_0x54651b(0x187)+_0x371974[_0x54651b(0xee)](_0x34d613,_0x179bd9)['padStart'](0x2,'0')});continue;case'2':_0x57e38d+=0x1;continue;case'3':_0x114e15[_0x54651b(0x122)][_0x54651b(0x160)]['Properties'][_0x54651b(0x171)][_0x54651b(0x13a)][_0x54651b(0x192)]({'Ref':_0x54651b(0x187)+_0x371974['myPYS'](_0x519efa,_0x575b1c)['padStart'](0x2,'0')});continue;case'4':_0x31f91c['Metadata'][_0x371974['HcHyY']]['ParameterGroups'][0x0][_0x54651b(0x16e)][_0x54651b(0x192)](_0x54651b(0x187)+_0x371974[_0x54651b(0xe9)](_0x3d9b18,_0x32850e)[_0x54651b(0xed)](0x2,'0'));continue;case'5':_0x47f6e7[_0x54651b(0x16a)][_0x54651b(0x13a)][_0x54651b(0x16b)][_0x371974[_0x54651b(0x13e)]][0x1][_0x54651b(0x192)]({'Ref':'Subnet'+_0x371974[_0x54651b(0x12a)](_0x5a75ee,_0x2d09ad)[_0x54651b(0xed)](0x2,'0')});continue;}break;}}else _0x1166c7[_0x5a0995[_0x54651b(0x17f)]]=_0x5a0995['Value'];}),_0x4c8d3a[_0x219fc9(0x122)][_0x5a6007['uCcOh']][_0x219fc9(0x190)][_0x219fc9(0x126)]=_0x1166c7,_0x4c8d3a['Resources'][_0x5a6007['RHdwe']][_0x219fc9(0x190)][_0x219fc9(0x126)]=_0x1166c7;};exports['createClusterStack']=async(_0x5ea7a2,_0xe597ba,_0x8e17ab,_0x2cf52e=null,_0x2677ca=null)=>{const _0x23de88=a25_0x370bbc,_0x31ff9f={'WsocF':function(_0x421b7d,_0x217f00){return _0x421b7d(_0x217f00);},'oDXBm':_0x23de88(0x102),'AtKtG':_0x23de88(0x166),'dMwca':'2010-05-15','fXPOL':_0x23de88(0xf3),'WztsD':_0x23de88(0x146),'tHCHR':'utf-8','rnZBo':function(_0x40c136,_0x1e8591,_0x30b182){return _0x40c136(_0x1e8591,_0x30b182);},'lbACZ':function(_0x5c4fc0,_0x4cae54,_0x2c6d8e){return _0x5c4fc0(_0x4cae54,_0x2c6d8e);},'MfjdS':function(_0x3dd420,_0x58584a,_0x45df91,_0x226e75){return _0x3dd420(_0x58584a,_0x45df91,_0x226e75);},'wxQQf':'DELETE','HyxTi':'ClusterName','rCemq':_0x23de88(0xf2),'Eukeu':_0x23de88(0x17b),'JlaAo':_0x23de88(0x10c),'udHcq':_0x23de88(0x153),'QXlJr':_0x23de88(0x14e),'HxxzR':'NodeImageId','HJZvO':'NodeInstanceType','nlhqe':'S3BucketName','pOTHH':_0x23de88(0x10b),'kfRvT':_0x23de88(0x101),'FhUgm':function(_0x351f33,_0x4d8049){return _0x351f33!=_0x4d8049;},'ukpwK':function(_0xce53a0,_0x5de1fe){return _0xce53a0!==_0x5de1fe;},'oFAVg':'DRrvm','FcYEa':_0x23de88(0x14a),'mVHPn':_0x23de88(0x145),'PkoNE':function(_0x2cddcd,_0x556395){return _0x2cddcd!==_0x556395;},'XwaWt':_0x23de88(0x154),'rNijT':_0x23de88(0x11c)},_0x3fbef3=COMMON_HST_TAGS,_0x298da4={};_0x298da4[_0x23de88(0x17f)]=_0x31ff9f[_0x23de88(0x179)],_0x298da4[_0x23de88(0x16b)]=_0x5ea7a2,_0x3fbef3[_0x23de88(0x192)](_0x298da4),_0x3fbef3[_0x23de88(0x192)]({'Key':_0x31ff9f[_0x23de88(0x130)],'Value':new Date()[_0x23de88(0xf1)]()[_0x23de88(0x13b)]()});const _0x3ed7d1={};_0x3ed7d1[_0x23de88(0x112)]=_0x31ff9f['dMwca'];const _0x32cb05=new AWS[(_0x23de88(0x134))](_0x3ed7d1),_0x455c4f=await fs[_0x23de88(0x14c)](path[_0x23de88(0x19a)](__dirname,'..',_0x31ff9f[_0x23de88(0x17d)],_0x31ff9f['WztsD']),_0x31ff9f['tHCHR']),_0x3a515a={};_0x3a515a['schema']=CLOUDFORMATION_SCHEMA;const _0x82e1a6=yaml[_0x23de88(0x15e)](_0x455c4f,_0x3a515a);await _0x31ff9f['rnZBo'](addVPCData,_0x82e1a6,_0x2cf52e),await _0x31ff9f[_0x23de88(0xec)](addS3Data,_0x82e1a6),await _0x31ff9f['lbACZ'](addSubnetData,_0x82e1a6,_0x2677ca),await _0x31ff9f['MfjdS'](addTags,_0x82e1a6,_0x5ea7a2,_0x3fbef3);const _0x37cffd=JSON[_0x23de88(0xea)](_0x82e1a6),_0x110384={};_0x110384[_0x23de88(0x10e)]=CLUSTER_DEP_STACK_NAME+'-'+_0x5ea7a2,_0x110384[_0x23de88(0xf5)]=_0x31ff9f[_0x23de88(0x184)],_0x110384['TemplateBody']=_0x37cffd,_0x110384[_0x23de88(0x16e)]=[{'ParameterKey':_0x31ff9f[_0x23de88(0x185)],'ParameterValue':_0x5ea7a2},{'ParameterKey':_0x31ff9f['rCemq'],'ParameterValue':_0x5ea7a2+'-NodeGroup'},{'ParameterKey':_0x31ff9f[_0x23de88(0x172)],'ParameterValue':''+_0xe597ba},{'ParameterKey':_0x31ff9f[_0x23de88(0x136)],'ParameterValue':'0'},{'ParameterKey':_0x31ff9f[_0x23de88(0x1a2)],'ParameterValue':'1'},{'ParameterKey':_0x31ff9f[_0x23de88(0x11d)],'ParameterValue':''+_0x8e17ab},{'ParameterKey':_0x31ff9f[_0x23de88(0x123)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x31ff9f['HJZvO'],'ParameterValue':global_registry[_0x23de88(0x19f)]},{'ParameterKey':_0x31ff9f[_0x23de88(0x12d)],'ParameterValue':global_registry[_0x23de88(0x100)]},{'ParameterKey':_0x31ff9f[_0x23de88(0x147)],'ParameterValue':_0x5ea7a2+'-Windows-NodeGroup'}],_0x110384[_0x23de88(0xfb)]=[_0x31ff9f[_0x23de88(0x16d)]],_0x110384['Tags']=_0x3fbef3;const _0x2409c2=_0x110384;if(_0x31ff9f[_0x23de88(0x10d)](_0x2cf52e,null)&&_0x31ff9f['ukpwK'](_0x2cf52e,undefined)){if(_0x31ff9f[_0x23de88(0x15b)](_0x31ff9f[_0x23de88(0x189)],_0x31ff9f[_0x23de88(0x181)])){const _0x5419c1={};_0x5419c1[_0x23de88(0x18b)]=_0x31ff9f[_0x23de88(0x12f)],_0x5419c1[_0x23de88(0x159)]=_0x2cf52e,_0x2409c2[_0x23de88(0x16e)]['push'](_0x5419c1);}else _0x5f394c[_0x23de88(0x122)][_0x15b7b2]['Properties'][_0x23de88(0x126)][_0x23de88(0x192)](..._0x3d40d4);}if(_0x31ff9f['FhUgm'](_0x2677ca,null)&&_0x31ff9f[_0x23de88(0x105)](_0x2677ca,undefined)){let _0x105aa8=0x1;_0x2677ca[_0x23de88(0x178)](_0x59aeb2=>{const _0xc4dd52=_0x23de88;_0x2409c2[_0xc4dd52(0x16e)][_0xc4dd52(0x192)]({'ParameterKey':_0xc4dd52(0x187)+_0x31ff9f[_0xc4dd52(0xec)](String,_0x105aa8)[_0xc4dd52(0xed)](0x2,'0'),'ParameterValue':_0x59aeb2[_0xc4dd52(0x111)]}),_0x105aa8+=0x1;});}const _0x3677df=await _0x32cb05[_0x23de88(0x139)](_0x2409c2)[_0x23de88(0x127)]();logger['debug'](_0x31ff9f[_0x23de88(0x168)]);const _0x5358de={};return _0x5358de[_0x23de88(0x10e)]=_0x3677df['StackId'],_0x32cb05[_0x23de88(0x11a)](_0x31ff9f[_0x23de88(0x15f)],_0x5358de)['promise']();};