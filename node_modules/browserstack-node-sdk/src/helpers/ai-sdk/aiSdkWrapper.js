const a59_0x8d74a9=a59_0x9622;(function(_0x4a4289,_0x2a267a){const _0xf3d66=a59_0x9622,_0x763db0=_0x4a4289();while(!![]){try{const _0x20e776=-parseInt(_0xf3d66(0x183))/0x1+-parseInt(_0xf3d66(0x1a1))/0x2*(-parseInt(_0xf3d66(0x171))/0x3)+parseInt(_0xf3d66(0x197))/0x4*(-parseInt(_0xf3d66(0x13b))/0x5)+parseInt(_0xf3d66(0x18d))/0x6+parseInt(_0xf3d66(0x139))/0x7+parseInt(_0xf3d66(0x181))/0x8+-parseInt(_0xf3d66(0x13e))/0x9;if(_0x20e776===_0x2a267a)break;else _0x763db0['push'](_0x763db0['shift']());}catch(_0x1d3b49){_0x763db0['push'](_0x763db0['shift']());}}}(a59_0x2012,0xb057b));function a59_0x2012(){const _0x42f483=['setToken','winstonLogger','firefoxOptions_','log','fwISJ','467396zuuBNW','OjiHj','selector','BrowserstackHealingPollResultFailed','./autoHealHelper','safari','GWMoZ','TCG_REGION','getTestName','info','223622oyxxYO','XfavA','value','kyReJ','BrowserstackHealing.logData\x20method\x20timed\x20out','split','qPqAO','eHCRc','getProjectName','../../ai-sdk-node/bundle','browserstackSessionName','5715773xOghvf','nqADE','15DhhkQq','config','isSelfHealEnabled','2326320EZIQHZ','\x22}}}','handleSuccess','executeScript','TCG_URL','RebyB','debug','kVyuG','healFailure','getCommands','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','DJhMC','message','oQAnj','\x20command','edge','safariOptions_','capabilities_','BrowserstackHealing.pollResult\x20method\x20timed\x20out','path','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','name_','aiSdkWrapper','ZiiUJ','keys','bHEqj','eCXZv','then','DgGKc','getSession','replace','get','POLL_HEALING_RESULT_TIMEOUT','fromEntries','aiHeal_sessionToken','browserName','using','cancel','YUCZR','framework','aiHealing','\x22:\x20{\x22endpoint\x22:\x20\x22','microsoftedge','TbytJ','ufdWW','HEALING_FAILURE_TIMEOUT','setTcgToken','error','ddyrN','aiHeal_isGroupAIEnabled','3QCUTsu','ujHDr','../../bin/utils/constants','SWJAJ','getCapabilities','BrowserstackHealingHealFailureFailed','edgeOptions_','forEach','../../helpers/timeoutPromise','BrowserstackHealing.setToken\x20method\x20timed\x20out','s://','initializeHealingCapabilities','handleFailure','toLowerCase','bokgR','_handleEvent','10431584qxoaqf','BUVbA','1348832iXEotA','newCapabilities','parameters_','getGlobal','getId','../logger','join','SET_TCG_TOKEN_TIMEOUT','pGSOv','tPbAo','2687160HsmZeU','BrowserstackHealing','chrome','race','locatorType'];a59_0x2012=function(){return _0x42f483;};return a59_0x2012();}const path=require(a59_0x8d74a9(0x152)),{commandRepository}=require(a59_0x8d74a9(0x19b)),constants=require(a59_0x8d74a9(0x173)),logger=require(a59_0x8d74a9(0x188))[a59_0x8d74a9(0x193)],globals=require('../globals'),timeoutPromise=require(a59_0x8d74a9(0x179)),isUndefinedOrNull=_0x68b2b9=>_0x68b2b9===undefined||_0x68b2b9===null||_0x68b2b9==='',isNotUndefinedOrNull=_0x24e6f5=>!isUndefinedOrNull(_0x24e6f5),isString=_0x37e6b0=>isNotUndefinedOrNull(_0x37e6b0)&&typeof _0x37e6b0==='string';class AiSdkWrapper{constructor(){const _0x1f1930=a59_0x8d74a9,_0x89efc4={'SWJAJ':function(_0x32ac1c,_0x599a13){return _0x32ac1c(_0x599a13);},'OjiHj':_0x1f1930(0x137)};this[_0x1f1930(0x18e)]=undefined;try{this['BrowserstackHealing']=_0x89efc4[_0x1f1930(0x174)](require,path[_0x1f1930(0x189)](__dirname,_0x89efc4[_0x1f1930(0x198)]));}catch(_0x20c1fa){logger[_0x1f1930(0x16e)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x20c1fa&&_0x20c1fa['message']?_0x20c1fa[_0x1f1930(0x14b)]:''));}}[a59_0x8d74a9(0x17c)](_0x5b981a){const _0x6ab6a6=a59_0x8d74a9,_0x37c6fb={};_0x37c6fb[_0x6ab6a6(0x16a)]=_0x6ab6a6(0x184),_0x37c6fb['DgGKc']=function(_0x2ae808,_0x42c9a7){return _0x2ae808===_0x42c9a7;},_0x37c6fb['ujHDr']=_0x6ab6a6(0x18f),_0x37c6fb['BUVbA']='firefox',_0x37c6fb[_0x6ab6a6(0x18c)]=_0x6ab6a6(0x19c),_0x37c6fb[_0x6ab6a6(0x145)]=_0x6ab6a6(0x14e),_0x37c6fb[_0x6ab6a6(0x1a2)]=_0x6ab6a6(0x169),_0x37c6fb['RDtSN']=function(_0x3be967,_0x2b207c){return _0x3be967===_0x2b207c;};const _0x50f8b4=_0x37c6fb;try{const _0x1a73d7=this[_0x6ab6a6(0x18e)]['initializeCapabilities'](Object[_0x6ab6a6(0x160)](_0x5b981a[_0x6ab6a6(0x175)]()['map_']));console[_0x6ab6a6(0x195)](_0x50f8b4[_0x6ab6a6(0x16a)],_0x1a73d7);if(_0x50f8b4[_0x6ab6a6(0x15b)](_0x1a73d7?.[_0x6ab6a6(0x162)]?.[_0x6ab6a6(0x17e)](),_0x50f8b4[_0x6ab6a6(0x172)]))_0x5b981a['chromeOptions_']=_0x1a73d7;else{if(_0x50f8b4[_0x6ab6a6(0x15b)](_0x1a73d7?.['browserName']?.[_0x6ab6a6(0x17e)](),_0x50f8b4[_0x6ab6a6(0x182)]))_0x5b981a[_0x6ab6a6(0x194)]=_0x1a73d7;else{if(_0x50f8b4[_0x6ab6a6(0x15b)](_0x1a73d7?.[_0x6ab6a6(0x162)]?.[_0x6ab6a6(0x17e)](),_0x50f8b4['tPbAo']))_0x5b981a[_0x6ab6a6(0x14f)]=_0x1a73d7;else{if(_0x50f8b4[_0x6ab6a6(0x15b)](_0x1a73d7?.[_0x6ab6a6(0x162)]?.[_0x6ab6a6(0x17e)](),_0x50f8b4[_0x6ab6a6(0x145)])||_0x50f8b4[_0x6ab6a6(0x15b)](_0x1a73d7?.[_0x6ab6a6(0x162)]?.[_0x6ab6a6(0x17e)](),_0x50f8b4[_0x6ab6a6(0x1a2)]))_0x5b981a[_0x6ab6a6(0x177)]=_0x1a73d7;else _0x50f8b4['RDtSN'](_0x1a73d7?.[_0x6ab6a6(0x162)]?.[_0x6ab6a6(0x17e)](),'ie')&&(_0x5b981a['ieOptions_']=_0x1a73d7);}}}Object[_0x6ab6a6(0x157)](_0x1a73d7)[_0x6ab6a6(0x178)](_0x997538=>{const _0x2a9e0b=_0x6ab6a6,_0x3ce579=_0x5b981a[_0x2a9e0b(0x150)][_0x2a9e0b(0x15e)](_0x997538);_0x5b981a[_0x2a9e0b(0x150)]['set'](_0x997538,_0x1a73d7[_0x997538]);});}catch(_0x4504d6){logger[_0x6ab6a6(0x16e)](_0x6ab6a6(0x153)+(_0x4504d6&&_0x4504d6[_0x6ab6a6(0x14b)]?_0x4504d6[_0x6ab6a6(0x14b)]:''));}}async[a59_0x8d74a9(0x16d)](_0x12f03c){const _0x39873e=a59_0x8d74a9,_0x309996={'IYtWR':function(_0x1c92da,_0x534a83,_0x5dfc2a,_0x1e3c73,_0xe2fc54,_0x425eaf,_0xe7960d){return _0x1c92da(_0x534a83,_0x5dfc2a,_0x1e3c73,_0xe2fc54,_0x425eaf,_0xe7960d);},'YUCZR':_0x39873e(0x17a),'HMyyD':'BrowserstackHealingSetTcgTokenFailed','WYTvn':_0x39873e(0x161)},_0x5a27fb=new Date(),_0x329564=_0x309996['IYtWR'](timeoutPromise,constants[_0x39873e(0x18a)],_0x309996[_0x39873e(0x165)],_0x309996['HMyyD'],_0x5a27fb,this[_0x39873e(0x13c)],this['framework']);await Promise[_0x39873e(0x190)]([this[_0x39873e(0x18e)][_0x39873e(0x192)](_0x12f03c,globals['getGlobal'](_0x309996['WYTvn']),constants['TCG_URL'])[_0x39873e(0x15a)](()=>{const _0x184c40=_0x39873e;_0x329564[_0x184c40(0x164)]();}),_0x329564]);}async[a59_0x8d74a9(0x180)](_0x5a8383,_0x4e4cda,_0x25189c,_0x312c6b){const _0x32ff4a=a59_0x8d74a9,_0x15d9fe={'bHEqj':function(_0x33d6f4,_0x32f6b2){return _0x33d6f4===_0x32f6b2;},'ufdWW':function(_0x35594f,_0x2e6668){return _0x35594f(_0x2e6668);},'pGSOv':function(_0x16db56,_0x1689c0){return _0x16db56(_0x1689c0);},'ddyrN':function(_0x538803,_0x1b1e3a){return _0x538803(_0x1b1e3a);},'RebyB':function(_0x426ebb,_0x3c2202){return _0x426ebb(_0x3c2202);},'RlYDa':_0x32ff4a(0x17b),'nqADE':'aiHeal_userId','ZiiUJ':'aiHeal_groupId','eCXZv':_0x32ff4a(0x170),'qPqAO':function(_0x44abde,_0x5ea3ec,_0x2a471e,_0x1d9fab,_0x21dbef,_0x3557f6,_0x25b14d){return _0x44abde(_0x5ea3ec,_0x2a471e,_0x1d9fab,_0x21dbef,_0x3557f6,_0x25b14d);},'DJhMC':_0x32ff4a(0x1a5),'eHCRc':'BrowserstackHealingLogDataFailed','fwISJ':function(_0x499a5f,_0x4f3f68,_0x579cc7,_0xdea0f4,_0x3cfe28,_0x5690c1,_0x225682){return _0x499a5f(_0x4f3f68,_0x579cc7,_0xdea0f4,_0x3cfe28,_0x5690c1,_0x225682);},'kyReJ':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','bokgR':_0x32ff4a(0x176)},_0x134746=(await _0x4e4cda[_0x32ff4a(0x15c)]())[_0x32ff4a(0x187)]();let _0x1ccb56='';if(commandRepository['isSelfHealEnabled']()&&_0x15d9fe['bHEqj'](_0x312c6b,![])||_0x15d9fe[_0x32ff4a(0x158)](_0x312c6b,!![])){const _0x144b21=_0x15d9fe[_0x32ff4a(0x16b)](isNotUndefinedOrNull,_0x25189c['parameters_'][_0x32ff4a(0x163)])&&_0x15d9fe[_0x32ff4a(0x16b)](isString,_0x25189c[_0x32ff4a(0x185)]['using'])?_0x25189c[_0x32ff4a(0x185)]['using'][_0x32ff4a(0x15d)](/'/g,'\x5c\x27')[_0x32ff4a(0x15d)](/"/g,'\x5c\x22'):'',_0x7764e7=_0x15d9fe[_0x32ff4a(0x16b)](isNotUndefinedOrNull,_0x25189c[_0x32ff4a(0x185)][_0x32ff4a(0x163)])&&_0x15d9fe[_0x32ff4a(0x18b)](isString,_0x25189c[_0x32ff4a(0x185)][_0x32ff4a(0x1a3)])?_0x25189c[_0x32ff4a(0x185)][_0x32ff4a(0x1a3)][_0x32ff4a(0x15d)](/'/g,'\x5c\x27')[_0x32ff4a(0x15d)](/"/g,'\x5c\x22'):'',_0x1a798e=_0x15d9fe[_0x32ff4a(0x18b)](isNotUndefinedOrNull,commandRepository[_0x32ff4a(0x136)]())&&_0x15d9fe[_0x32ff4a(0x16f)](isString,commandRepository[_0x32ff4a(0x136)]())?commandRepository['getProjectName']()['replace'](/'/g,'\x5c\x27')[_0x32ff4a(0x15d)](/"/g,'\x5c\x22'):'';let _0x52d44e=_0x15d9fe[_0x32ff4a(0x18b)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x15d9fe[_0x32ff4a(0x143)](isString,global[_0x32ff4a(0x138)])?global[_0x32ff4a(0x138)]['replace'](/'/g,'\x5c\x27')[_0x32ff4a(0x15d)](/"/g,'\x5c\x22'):'';!_0x52d44e&&(_0x52d44e=_0x15d9fe[_0x32ff4a(0x18b)](isNotUndefinedOrNull,commandRepository[_0x32ff4a(0x19f)]())&&_0x15d9fe[_0x32ff4a(0x16f)](isString,commandRepository[_0x32ff4a(0x19f)]())?commandRepository['getTestName']()['replace'](/'/g,'\x5c\x27')[_0x32ff4a(0x15d)](/"/g,'\x5c\x22'):'');let _0x5cce54='{\x22region\x22:\x20\x22'+constants[_0x32ff4a(0x19e)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x32ff4a(0x19e)]+_0x32ff4a(0x168)+constants[_0x32ff4a(0x142)][_0x32ff4a(0x133)](_0x15d9fe['RlYDa'])[0x1]+_0x32ff4a(0x13f);_0x5cce54=_0x15d9fe[_0x32ff4a(0x18b)](isNotUndefinedOrNull,_0x5cce54)&&_0x15d9fe[_0x32ff4a(0x18b)](isString,_0x5cce54)?_0x5cce54[_0x32ff4a(0x15d)](/'/g,'\x5c\x27')[_0x32ff4a(0x15d)](/"/g,'\x5c\x22'):'';const _0x5c2ded=commandRepository[_0x32ff4a(0x147)](_0x134746),_0x19ffb7=globals[_0x32ff4a(0x186)](_0x15d9fe[_0x32ff4a(0x13a)]),_0x3d6fb9=globals[_0x32ff4a(0x186)](_0x15d9fe[_0x32ff4a(0x156)]),_0xa9e637=globals[_0x32ff4a(0x186)](_0x15d9fe[_0x32ff4a(0x159)]),_0xa0d02=![],_0x3a5f6f=new Date();if(_0x312c6b){const _0x5f2ca4=_0x15d9fe[_0x32ff4a(0x134)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x15d9fe[_0x32ff4a(0x14a)],_0x15d9fe[_0x32ff4a(0x135)],_0x3a5f6f,this[_0x32ff4a(0x13c)],this[_0x32ff4a(0x166)]);_0x1ccb56=await Promise[_0x32ff4a(0x190)]([this[_0x32ff4a(0x18e)]['logData'](_0x144b21,_0x7764e7,_0x1a798e,_0x52d44e,_0x3d6fb9,_0x134746,_0x5c2ded,_0x5cce54)['then'](_0x5f021a=>{return _0x5f2ca4['cancel'](),_0x5f021a;}),_0x5f2ca4]);}else{if(commandRepository[_0x32ff4a(0x13d)]()){const _0x2bfe48=_0x15d9fe[_0x32ff4a(0x196)](timeoutPromise,constants[_0x32ff4a(0x16c)],_0x15d9fe[_0x32ff4a(0x1a4)],_0x15d9fe[_0x32ff4a(0x17f)],_0x3a5f6f,this['config'],this[_0x32ff4a(0x166)]);_0x1ccb56=await Promise[_0x32ff4a(0x190)]([this[_0x32ff4a(0x18e)][_0x32ff4a(0x146)](_0x144b21,_0x7764e7,_0x1a798e,_0x52d44e,_0x19ffb7,_0x3d6fb9,_0x134746,_0x5c2ded,_0xa0d02,_0xa9e637,_0x5cce54)['then'](_0xada1d1=>{const _0x5bc690=_0x32ff4a;return _0x2bfe48[_0x5bc690(0x164)](),_0xada1d1;}),_0x2bfe48]);}}_0x1ccb56&&await _0x4e4cda[_0x32ff4a(0x141)](_0x1ccb56);}}async[a59_0x8d74a9(0x140)](_0x46047c,_0x120474,_0x4962bc){const _0x12c64c=a59_0x8d74a9;try{await this['_handleEvent'](_0x46047c,_0x120474,_0x4962bc,!![]);}catch(_0x4e2e9f){return logger[_0x12c64c(0x16e)](_0x12c64c(0x148)+(_0x4e2e9f&&_0x4e2e9f[_0x12c64c(0x14b)]?_0x4e2e9f[_0x12c64c(0x14b)]:'')),![];}return!![];}async[a59_0x8d74a9(0x17d)](_0x4ec291,_0x1458d4,_0x7669eb){const _0x3a6b97=a59_0x8d74a9,_0x497eb2={'rHsga':function(_0x26581d,_0x34d087,_0x12acfc,_0x2bd7af,_0xdf9105,_0x4c0484,_0x25b88e){return _0x26581d(_0x34d087,_0x12acfc,_0x2bd7af,_0xdf9105,_0x4c0484,_0x25b88e);},'GWMoZ':_0x3a6b97(0x151),'NVTcd':_0x3a6b97(0x19a),'oQAnj':'aiHeal_sessionToken'};try{await this[_0x3a6b97(0x180)](_0x4ec291,_0x1458d4,_0x7669eb,![]);const _0x3a9b55=(await _0x1458d4[_0x3a6b97(0x15c)]())['getId'](),_0x26a165=new Date(),_0x12434a=_0x497eb2['rHsga'](timeoutPromise,constants[_0x3a6b97(0x15f)],_0x497eb2[_0x3a6b97(0x19d)],_0x497eb2['NVTcd'],_0x26a165,this['config'],this[_0x3a6b97(0x166)]),_0x25b4eb=await Promise[_0x3a6b97(0x190)]([this[_0x3a6b97(0x18e)]['pollResult'](constants[_0x3a6b97(0x142)],_0x3a9b55,globals[_0x3a6b97(0x186)](_0x497eb2[_0x3a6b97(0x14c)]))[_0x3a6b97(0x15a)](_0x14ce9c=>{const _0x234d43=_0x3a6b97;return _0x12434a[_0x234d43(0x164)](),_0x14ce9c;}),_0x12434a]);if(_0x25b4eb&&_0x25b4eb[_0x3a6b97(0x199)]&&_0x25b4eb['value']){const _0x299ea1={};return _0x299ea1[_0x3a6b97(0x191)]=_0x25b4eb[_0x3a6b97(0x199)],_0x299ea1['locatorValue']=_0x25b4eb[_0x3a6b97(0x1a3)],_0x299ea1[_0x3a6b97(0x167)]=!![],_0x299ea1;}const _0x4d974e={};return _0x4d974e[_0x3a6b97(0x191)]=_0x7669eb[_0x3a6b97(0x185)][_0x3a6b97(0x163)],_0x4d974e['locatorValue']=_0x25b4eb[_0x3a6b97(0x1a3)],_0x4d974e['aiHealing']=!![],_0x4d974e;}catch(_0x1abd32){return logger[_0x3a6b97(0x144)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x1abd32&&_0x1abd32[_0x3a6b97(0x14b)]?_0x1abd32[_0x3a6b97(0x14b)]:'')),logger[_0x3a6b97(0x1a0)](_0x3a6b97(0x149)+_0x7669eb[_0x3a6b97(0x154)]+_0x3a6b97(0x14d)),_0x7669eb;}}}function a59_0x9622(_0x38b0fd,_0x55f616){const _0x2012b7=a59_0x2012();return a59_0x9622=function(_0x962247,_0x3e16a2){_0x962247=_0x962247-0x133;let _0x20265d=_0x2012b7[_0x962247];return _0x20265d;},a59_0x9622(_0x38b0fd,_0x55f616);}exports[a59_0x8d74a9(0x155)]=Object['freeze'](new AiSdkWrapper());