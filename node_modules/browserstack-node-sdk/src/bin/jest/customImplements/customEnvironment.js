const a16_0x179902=a16_0x2094;function a16_0x1e6d(){const _0x263cd4=['__platformCaps','418856vKKQxh','getInstance','handleTestEvent','lfuXT','testContext','RDdtC','HcGGO','28zqUrmU','default','30QQQssg','Builder','quit','__webdriver','__timeout','1136724cVASNy','2741495aYkZVx','../../../helpers/helper','skipSessionName','661068IUlpnD','framework','UeDrw','../../../helpers/testhub/utils','shouldProcessEventForTesthub','getTestEnvironment','split','FRAMEWORKS','percy','VvARc','__esModule','platformCaps','browserStackGlobals','hsNTl','jest-environment-node','../../../helpers/test-observability/requestQueueHandler','3ygtyTw','capability','../test-observability/obsReporter','requireModule','dkbxM','projectConfig','global','WMYIc','setup','cwd','ujdVE','2|7|0|6|3|8|9|5|4|1','Iovjv','JEST','shutdown','testEnvironmentOptions','34268QPCxHY','requireSeleniumWebdriver','resolveTestEnvironment','skipSessionStatus','GgEot','exports','1204357MXhWhb','browserStackPercyOptions','__driversArray','__skipSessionStatus','1lEuUOr','configuration','browserstackPercyBestPlatform','cleanup','9MBVDDl','nestedKeyValue','BSTACK_JEST_TEST_ENV','sessionNameProvided','percyCaptureMode','KEgVC','aGicZ','../../../index','registerListeners','node','kJQaA','__drivers','khQGR','browserstackPlatformIndex','isTrue','0|3|4|1|2','11839848YxGffb'];a16_0x1e6d=function(){return _0x263cd4;};return a16_0x1e6d();}(function(_0x6d43ce,_0x330891){const _0x5b8021=a16_0x2094,_0x3dd152=_0x6d43ce();while(!![]){try{const _0x6aa5be=-parseInt(_0x5b8021(0x18c))/0x1*(parseInt(_0x5b8021(0x1d4))/0x2)+parseInt(_0x5b8021(0x1c4))/0x3*(-parseInt(_0x5b8021(0x1b0))/0x4)+-parseInt(_0x5b8021(0x1b1))/0x5+parseInt(_0x5b8021(0x1b4))/0x6*(parseInt(_0x5b8021(0x1a9))/0x7)+parseInt(_0x5b8021(0x1a2))/0x8*(parseInt(_0x5b8021(0x190))/0x9)+parseInt(_0x5b8021(0x1ab))/0xa*(-parseInt(_0x5b8021(0x1da))/0xb)+parseInt(_0x5b8021(0x1a0))/0xc;if(_0x6aa5be===_0x330891)break;else _0x3dd152['push'](_0x3dd152['shift']());}catch(_0x2f2d99){_0x3dd152['push'](_0x3dd152['shift']());}}}(a16_0x1e6d,0x49a50));const helper=require(a16_0x179902(0x1b2)),constants=require('../../utils/constants'),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x179902(0x1c3)),ObservabilityReporter=require(a16_0x179902(0x1c6)),testhubUtils=require(a16_0x179902(0x1b7)),getTestEnvironment=((()=>{const _0x4b07b0=a16_0x179902,_0x42c6b6={};_0x42c6b6['oVHFM']='jest-resolve',_0x42c6b6[_0x4b07b0(0x1c8)]='jest-config';const _0x3fe81b=_0x42c6b6;try{const _0xa9fe34=helper[_0x4b07b0(0x1c7)](_0x3fe81b['oVHFM']);if(_0xa9fe34[_0x4b07b0(0x1d6)])return _0xa9fe34[_0x4b07b0(0x1d6)];const _0x2f03e9=helper[_0x4b07b0(0x1c7)](_0x3fe81b[_0x4b07b0(0x1c8)]);if(_0x2f03e9[_0x4b07b0(0x1b9)])return _0x2f03e9[_0x4b07b0(0x1b9)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x231662=a16_0x179902,_0x4ff1f9={'pdruM':function(_0x4f018d,_0x134e57){return _0x4f018d(_0x134e57);},'kJQaA':_0x231662(0x199),'GgEot':function(_0x1adaca,_0x5cb933){return _0x1adaca(_0x5cb933);},'RDdtC':_0x231662(0x1c2)},_0x234c44=_0x4ff1f9['pdruM'](getTestEnvironment,{'rootDir':process[_0x231662(0x1cd)](),'testEnvironment':process['env'][_0x231662(0x192)]||_0x4ff1f9[_0x231662(0x19a)]});if(!_0x234c44)return _0x4ff1f9[_0x231662(0x1d8)](_interopRequireDefault,helper[_0x231662(0x1c7)](_0x4ff1f9[_0x231662(0x1a7)]));return _0x4ff1f9['pdruM'](_interopRequireDefault,helper[_0x231662(0x1c7)](_0x234c44));})()),_seleniumWebdriver2=((()=>{const _0x35e5e=a16_0x179902,_0x515bc0={'pwUwF':function(_0x16f27e,_0x1347e5){return _0x16f27e(_0x1347e5);}};try{const _0x1c9b2d=helper[_0x35e5e(0x1d5)]();return helper['modifyCommand'](),_0x515bc0['pwUwF'](_interopRequireDefault,_0x1c9b2d);}catch{return null;}})());function _interopRequireDefault(_0x336bdc){const _0x4ef8ea=a16_0x179902;return _0x336bdc&&_0x336bdc[_0x4ef8ea(0x1be)]?_0x336bdc:{'default':_0x336bdc};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a16_0x179902(0x1ac)]:null;function a16_0x2094(_0x17c25d,_0x2952ef){const _0x1e6d93=a16_0x1e6d();return a16_0x2094=function(_0x2094f0,_0x8a4c68){_0x2094f0=_0x2094f0-0x18a;let _0x173e7d=_0x1e6d93[_0x2094f0];return _0x173e7d;},a16_0x2094(_0x17c25d,_0x2952ef);}class CustomEnvironment extends _jestUserEnvironment['default']{constructor(_0x3305f6){const _0x1cc35c=a16_0x179902,_0x52c610={'lfuXT':_0x1cc35c(0x1ad),'VvARc':_0x1cc35c(0x19f),'khQGR':function(_0x453098,_0xe5b66d){return _0x453098+_0xe5b66d;},'QusqR':_0x1cc35c(0x1cf),'aGicZ':_0x1cc35c(0x1d3),'Iovjv':_0x1cc35c(0x1db),'pIFsS':_0x1cc35c(0x1bc),'HcGGO':_0x1cc35c(0x18e),'WMYIc':function(_0x40f02a,_0x936c2f){return _0x40f02a(_0x936c2f);},'UeDrw':_0x1cc35c(0x197),'hsNTl':'percyCaptureMode','HcMXC':_0x1cc35c(0x1bf)};super(_0x3305f6),this[_0x1cc35c(0x1ca)][_0x1cc35c(0x1af)]=0x0,this[_0x1cc35c(0x18d)]={};!_0x3305f6['testEnvironmentOptions']&&(_0x3305f6[_0x1cc35c(0x1d3)]={});if(helper['isBrowserstackInfra']()){const _0x560d77=_0x52c610[_0x1cc35c(0x1bd)][_0x1cc35c(0x1ba)]('|');let _0x5bfec3=0x0;while(!![]){switch(_0x560d77[_0x5bfec3++]){case'0':_0x3305f6[_0x1cc35c(0x1d3)]=_0x3305f6[_0x1cc35c(0x1c9)]?_0x3305f6[_0x1cc35c(0x1c9)][_0x1cc35c(0x1d3)]:_0x3305f6[_0x1cc35c(0x1d3)];continue;case'1':this[_0x1cc35c(0x1c5)]=_0x3305f6[_0x1cc35c(0x1c9)]?_0x3305f6[_0x1cc35c(0x1c9)]['capability']:_0x3305f6[_0x1cc35c(0x1c5)];continue;case'2':this[_0x1cc35c(0x1ca)][_0x1cc35c(0x1af)]=_0x52c610[_0x1cc35c(0x19c)](this[_0x1cc35c(0x18d)]['timeout__'],constants['BSTACK_DELTA']);continue;case'3':this['builder']=new _seleniumWebdriver2[(_0x1cc35c(0x1aa))]['Builder']();continue;case'4':this[_0x1cc35c(0x18d)]=_0x3305f6[_0x1cc35c(0x1d3)];continue;}break;}}if(testhubUtils[_0x1cc35c(0x1b8)]()){const _0x4d1ab9=new ObservabilityReporter();_0x4d1ab9[_0x1cc35c(0x198)]();}this[_0x1cc35c(0x1ca)][_0x1cc35c(0x1c0)]={},this[_0x1cc35c(0x18d)][_0x1cc35c(0x1b5)]=constants[_0x1cc35c(0x1bb)][_0x1cc35c(0x1d1)];if(_seleniumWebdriver2){const _0xe84117=_0x52c610['QusqR'][_0x1cc35c(0x1ba)]('|');let _0x196029=0x0;while(!![]){switch(_0xe84117[_0x196029++]){case'0':this['global'][_0x1cc35c(0x19d)]=(_0x3305f6['projectConfig']?_0x3305f6[_0x1cc35c(0x1c9)]['browserstackPlatformIndex']:_0x3305f6[_0x1cc35c(0x19d)])||0x0;continue;case'1':this[_0x1cc35c(0x1ca)][_0x1cc35c(0x18f)]=async()=>{const _0x4427a2=_0x1cc35c;await this[_0x4427a2(0x1ca)]['driver'][_0x4427a2(0x1ad)](_0x52c610[_0x4427a2(0x1a5)]);};continue;case'2':this['global'][_0x1cc35c(0x19b)]=[];continue;case'3':this['global'][_0x1cc35c(0x1bc)]=helper[_0x1cc35c(0x191)](_0x3305f6,[_0x52c610[_0x1cc35c(0x196)],_0x52c610[_0x1cc35c(0x1d0)],_0x52c610['pIFsS']]);continue;case'4':this[_0x1cc35c(0x1ca)][_0x1cc35c(0x18b)]=helper[_0x1cc35c(0x19e)](this['configuration'][_0x1cc35c(0x1d7)]);continue;case'5':helper[_0x1cc35c(0x19e)](this[_0x1cc35c(0x18d)][_0x1cc35c(0x1b3)])?this[_0x1cc35c(0x1ca)][_0x1cc35c(0x193)]=!![]:this['global']['sessionNameProvided']=![];continue;case'6':this[_0x1cc35c(0x1ca)][_0x1cc35c(0x18e)]=helper[_0x1cc35c(0x191)](_0x3305f6,[_0x52c610[_0x1cc35c(0x196)],_0x52c610['Iovjv'],_0x52c610[_0x1cc35c(0x1a8)]]);continue;case'7':this['global']['__webdriver']=_0x52c610[_0x1cc35c(0x1cb)](require,_0x52c610[_0x1cc35c(0x1b6)])['browserstackAgentV2']({...this[_0x1cc35c(0x18d)],'capability':this[_0x1cc35c(0x1c5)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'8':this[_0x1cc35c(0x1ca)][_0x1cc35c(0x194)]=helper['nestedKeyValue'](_0x3305f6,[_0x52c610[_0x1cc35c(0x196)],_0x52c610[_0x1cc35c(0x1d0)],_0x52c610[_0x1cc35c(0x1c1)]]);continue;case'9':this[_0x1cc35c(0x1ca)][_0x1cc35c(0x1a1)]=helper[_0x1cc35c(0x191)](this[_0x1cc35c(0x18d)],[_0x52c610['HcMXC'],this[_0x1cc35c(0x1ca)]['browserstackPlatformIndex']])||{};continue;}break;}}}async['teardown'](){const _0x469990=a16_0x179902;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this['global'][_0x469990(0x18a)]),this[_0x469990(0x1ca)][_0x469990(0x1ae)][_0x469990(0x1ac)]=originalBuilder),await RequestQueueHandler[_0x469990(0x1a3)]()[_0x469990(0x1d2)]();}async[a16_0x179902(0x1cc)](){}async[a16_0x179902(0x1a4)](_0x72a5ad,_0x154f7c){const _0x4a4ba4=a16_0x179902,_0x451f7c={};_0x451f7c[_0x4a4ba4(0x195)]=function(_0x165d4c,_0x507e6a){return _0x165d4c===_0x507e6a;},_0x451f7c[_0x4a4ba4(0x1ce)]='test_start';const _0x501a6a=_0x451f7c,{name:_0x294a43}=_0x72a5ad;_0x501a6a['KEgVC'](_0x294a43,_0x501a6a[_0x4a4ba4(0x1ce)])&&(this[_0x4a4ba4(0x1ca)][_0x4a4ba4(0x1a6)]=_0x72a5ad['test']);}}module[a16_0x179902(0x1d9)]=CustomEnvironment;