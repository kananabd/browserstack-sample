function a55_0x3812(_0x4cf4d3,_0x2a0b39){const _0x19f7c7=a55_0x19f7();return a55_0x3812=function(_0x3812ef,_0x2161e2){_0x3812ef=_0x3812ef-0x122;let _0x374cb2=_0x19f7c7[_0x3812ef];return _0x374cb2;},a55_0x3812(_0x4cf4d3,_0x2a0b39);}const a55_0xd347c7=a55_0x3812;(function(_0x4a9c2b,_0xe8c809){const _0x4b3191=a55_0x3812,_0xa60d6=_0x4a9c2b();while(!![]){try{const _0x43092a=-parseInt(_0x4b3191(0x155))/0x1+parseInt(_0x4b3191(0x170))/0x2+parseInt(_0x4b3191(0x12f))/0x3+parseInt(_0x4b3191(0x1f4))/0x4*(-parseInt(_0x4b3191(0x176))/0x5)+parseInt(_0x4b3191(0x1d5))/0x6*(-parseInt(_0x4b3191(0x14a))/0x7)+parseInt(_0x4b3191(0x19a))/0x8+parseInt(_0x4b3191(0x206))/0x9;if(_0x43092a===_0xe8c809)break;else _0xa60d6['push'](_0xa60d6['shift']());}catch(_0x1586a0){_0xa60d6['push'](_0xa60d6['shift']());}}}(a55_0x19f7,0x2f2eb));const util=require(a55_0xd347c7(0x1b2)),os=require('os'),path=require('path'),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a55_0xd347c7(0x1a3)),{isTurboScaleSession}=require(a55_0xd347c7(0x1bc)),logger=require(a55_0xd347c7(0x1a0))[a55_0xd347c7(0x160)],helper=require(a55_0xd347c7(0x1e4)),utilities=require(a55_0xd347c7(0x200)),percyHelper=require(a55_0xd347c7(0x187)),hubAllocator=require(a55_0xd347c7(0x1ca)),PerformanceTester=require(a55_0xd347c7(0x186)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a55_0xd347c7(0x19b)),TestHubHandler=require(a55_0xd347c7(0x15a)),timeoutPromise=require(a55_0xd347c7(0x1ba));class BrowserStackSetup{constructor(_0x8472a4,_0x4bfa23){const _0x28fb2b=a55_0xd347c7,_0x3fb978={'YSBRR':'4|34|17|14|6|5|23|42|24|43|37|0|10|11|30|8|16|2|33|38|21|3|12|22|7|27|13|40|32|19|41|31|28|9|20|25|29|39|26|35|18|15|1|36','zYZgb':function(_0x20073b,_0x47d43b){return _0x20073b!==_0x47d43b;},'CfGwS':_0x28fb2b(0x218),'IBsyS':_0x28fb2b(0x12b),'Xxsyy':'SIGQUIT','pWjHR':_0x28fb2b(0x17c),'ZQnYS':_0x28fb2b(0x1c8),'FpApO':_0x28fb2b(0x1a5),'euXnu':function(_0x136b3d,_0x40d87f){return _0x136b3d<_0x40d87f;},'tDjdP':function(_0x454c5b,_0x2054e6){return _0x454c5b(_0x2054e6);},'YYBYx':'selenium-webdriver','HtOWx':function(_0x8b1dcd,_0x18049d){return _0x8b1dcd===_0x18049d;},'EGJjb':_0x28fb2b(0x16f),'OkeWa':function(_0x3fcf74){return _0x3fcf74();},'zLdxY':_0x28fb2b(0x1c3),'rcKGB':_0x28fb2b(0x1cd),'iWqwl':_0x28fb2b(0x16e),'doySZ':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','gyjyv':_0x28fb2b(0x1fe),'GOUeg':function(_0x6c8ce5,_0x49509c){return _0x6c8ce5===_0x49509c;},'GWbxK':_0x28fb2b(0x202),'fDUdg':_0x28fb2b(0x146),'LFowJ':_0x28fb2b(0x124)},_0x4eb8e6=_0x3fb978['YSBRR'][_0x28fb2b(0x17f)]('|');let _0x532e96=0x0;while(!![]){switch(_0x4eb8e6[_0x532e96++]){case'0':helper[_0x28fb2b(0x166)](this[_0x28fb2b(0x139)]);continue;case'1':_0x3fb978[_0x28fb2b(0x1a1)](process['platform'],_0x3fb978[_0x28fb2b(0x21a)])?(process['on'](_0x3fb978['IBsyS'],this[_0x28fb2b(0x1c1)]),process['on'](_0x3fb978[_0x28fb2b(0x1d8)],this['intExitHandler'])):process['on'](_0x3fb978[_0x28fb2b(0x1e0)],this[_0x28fb2b(0x1c1)]);continue;case'2':if(helper['isUndefined'](this['config']))throw new Error(_0x3fb978[_0x28fb2b(0x13b)]);continue;case'3':this[_0x28fb2b(0x139)][_0x28fb2b(0x156)][_0x28fb2b(0x197)]=!helper[_0x28fb2b(0x147)]()||helper[_0x28fb2b(0x1b8)](this[_0x28fb2b(0x139)][_0x28fb2b(0x156)][_0x28fb2b(0x197)]);continue;case'4':this[_0x28fb2b(0x1f5)]=[];continue;case'5':this[_0x28fb2b(0x139)]=helper[_0x28fb2b(0x215)](helper[_0x28fb2b(0x222)](_0x8472a4));continue;case'6':this[_0x28fb2b(0x1f7)]=null;continue;case'7':if(helper[_0x28fb2b(0x172)](helper[_0x28fb2b(0x1d9)](this[_0x28fb2b(0x139)]))||helper[_0x28fb2b(0x172)](helper['getAccessKey'](this[_0x28fb2b(0x139)])))throw new Error(_0x3fb978[_0x28fb2b(0x1e3)]);continue;case'8':global[_0x28fb2b(0x198)]=this[_0x28fb2b(0x198)];continue;case'9':helper['requireSeleniumWebdriverCheck'](_0x4bfa23)&&(_0x3fb978[_0x28fb2b(0x204)](_0x3fb978[_0x28fb2b(0x1c2)](parseInt,helper['getPackageVersion'](_0x3fb978[_0x28fb2b(0x1fd)])),0x3)&&(this[_0x28fb2b(0x139)]['useW3C']=![]),_0x3fb978[_0x28fb2b(0x194)](helper[_0x28fb2b(0x1b7)](helper[_0x28fb2b(0x1b1)](_0x3fb978[_0x28fb2b(0x1fd)]),_0x3fb978[_0x28fb2b(0x1f3)]),0x1)&&(this[_0x28fb2b(0x139)][_0x28fb2b(0x1b3)]=!![]));continue;case'10':this[_0x28fb2b(0x136)]=_0x4bfa23;continue;case'11':this[_0x28fb2b(0x198)]=_0x3fb978[_0x28fb2b(0x1e1)](uuidv4);continue;case'12':helper['getFinalCaps'](this[_0x28fb2b(0x139)],this[_0x28fb2b(0x1c5)],this['envConfig']);continue;case'13':this[_0x28fb2b(0x139)]['browserStackLocalOptions'][_0x28fb2b(0x1c7)]=helper[_0x28fb2b(0x1b8)](this[_0x28fb2b(0x139)]['browserStackLocalOptions'][_0x28fb2b(0x1c7)]);continue;case'14':this[_0x28fb2b(0x12a)]=null;continue;case'15':process['on'](_0x3fb978[_0x28fb2b(0x1ee)],this[_0x28fb2b(0x1c1)]);continue;case'16':logger[_0x28fb2b(0x219)](_0x28fb2b(0x182)+this[_0x28fb2b(0x198)]);continue;case'17':this[_0x28fb2b(0x18a)]=helper[_0x28fb2b(0x168)]();continue;case'18':process['on'](_0x3fb978[_0x28fb2b(0x1b0)],this[_0x28fb2b(0x1c1)]);continue;case'19':if(_0x3fb978[_0x28fb2b(0x194)](_0x4bfa23,_0x3fb978[_0x28fb2b(0x16b)]))return;continue;case'20':(helper[_0x28fb2b(0x172)](this[_0x28fb2b(0x139)][_0x28fb2b(0x191)])||helper['isUndefined'](this[_0x28fb2b(0x139)]['platforms'][_0x28fb2b(0x1ab)]))&&(helper[_0x28fb2b(0x172)](this[_0x28fb2b(0x139)]['parallelsPerPlatform'])?logger[_0x28fb2b(0x219)](_0x3fb978[_0x28fb2b(0x1a7)]):logger[_0x28fb2b(0x1d2)](_0x3fb978['gyjyv']),this['config'][_0x28fb2b(0x191)]=[]);continue;case'21':this['config'][_0x28fb2b(0x156)][_0x28fb2b(0x1e8)]=!helper[_0x28fb2b(0x147)]()||helper[_0x28fb2b(0x1b8)](this['config']['testContextOptions'][_0x28fb2b(0x1e8)]);continue;case'22':!this[_0x28fb2b(0x139)][_0x28fb2b(0x1af)]&&(this[_0x28fb2b(0x139)][_0x28fb2b(0x1af)]=this['config'][_0x28fb2b(0x17e)]||{});continue;case'23':this[_0x28fb2b(0x139)]['platforms']=this[_0x28fb2b(0x139)][_0x28fb2b(0x191)]||[];continue;case'24':this['errorMessage']={};continue;case'25':!this['config'][_0x28fb2b(0x156)]&&(this['config']['testContextOptions']={});continue;case'26':this['intExitHandler']=this[_0x28fb2b(0x1c1)][_0x28fb2b(0x1c4)](this);continue;case'27':helper[_0x28fb2b(0x16c)](this[_0x28fb2b(0x139)])&&helper[_0x28fb2b(0x172)](helper[_0x28fb2b(0x19f)](this[_0x28fb2b(0x139)]))&&(!helper[_0x28fb2b(0x172)](this[_0x28fb2b(0x139)][_0x28fb2b(0x1af)])&&_0x3fb978[_0x28fb2b(0x1b5)](this['config'][_0x28fb2b(0x1af)][_0x28fb2b(0x220)],Object)?!helper['isTrue'](this[_0x28fb2b(0x139)][_0x28fb2b(0x1af)][_0x28fb2b(0x1c7)])&&(this[_0x28fb2b(0x139)][_0x28fb2b(0x1af)][_0x28fb2b(0x1e6)]=helper[_0x28fb2b(0x1f2)]()):this[_0x28fb2b(0x139)]['browserStackLocalOptions']={'localIdentifier':helper['generateLocalIdentifier']()});continue;case'28':if(!helper[_0x28fb2b(0x147)]()){try{process[_0x28fb2b(0x173)]['FRAMEWORK']=_0x4bfa23,utilities[_0x28fb2b(0x135)](_0x3fb978[_0x28fb2b(0x1ef)],{},this[_0x28fb2b(0x139)],this[_0x28fb2b(0x136)]);}catch(_0x45c4cf){logger[_0x28fb2b(0x127)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x45c4cf);}return;}continue;case'29':try{process[_0x28fb2b(0x173)][_0x28fb2b(0x205)]=_0x8472a4['_'][0x0],utilities[_0x28fb2b(0x135)](_0x3fb978[_0x28fb2b(0x1ef)],{},this[_0x28fb2b(0x139)],this[_0x28fb2b(0x136)]);}catch(_0x5c2cac){logger[_0x28fb2b(0x127)](_0x28fb2b(0x1cc)+_0x5c2cac);}continue;case'30':this[_0x28fb2b(0x1a4)]=null;continue;case'31':process[_0x28fb2b(0x173)]['BROWSERSTACK_TURBOSCALE']&&(this['config'][_0x28fb2b(0x17b)]=helper['isTrue'](process[_0x28fb2b(0x173)][_0x28fb2b(0x18d)]),this['config'][_0x28fb2b(0x18b)]=this['config'][_0x28fb2b(0x18b)]||{});continue;case'32':helper[_0x28fb2b(0x152)](this[_0x28fb2b(0x139)]);continue;case'33':if(this[_0x28fb2b(0x139)][_0x28fb2b(0x138)])throw new Error(this[_0x28fb2b(0x139)]['error']);continue;case'34':this[_0x28fb2b(0x1c5)]=helper[_0x28fb2b(0x1b6)](_0x8472a4);continue;case'35':process['on'](_0x3fb978[_0x28fb2b(0x1e2)],this['intExitHandler']);continue;case'36':process['on'](_0x3fb978[_0x28fb2b(0x126)],this['exitHandler']());continue;case'37':global[_0x28fb2b(0x136)]=_0x4bfa23;continue;case'38':helper[_0x28fb2b(0x190)](this[_0x28fb2b(0x139)],this[_0x28fb2b(0x1c5)]);continue;case'39':!this[_0x28fb2b(0x139)][_0x28fb2b(0x179)]&&logger[_0x28fb2b(0x219)](constants[_0x28fb2b(0x1de)]);continue;case'40':helper['setLogLevel'](this['config'],this[_0x28fb2b(0x1c5)],this[_0x28fb2b(0x18a)]);continue;case'41':this[_0x28fb2b(0x1e7)]();continue;case'42':this[_0x28fb2b(0x139)]['testContextOptions']=this['config'][_0x28fb2b(0x156)]||{};continue;case'43':global[_0x28fb2b(0x139)]=this['config'];continue;}break;}}async[a55_0xd347c7(0x1df)](){const _0x5bc78f=a55_0xd347c7,_0x505460={'WAuAw':function(_0x47419a,_0x374ddd){return _0x47419a(_0x374ddd);},'zBysI':'ats-repeater','rKTef':_0x5bc78f(0x1eb),'FzTMN':'true','IjcVy':function(_0xd18aca,_0x2fc55f){return _0xd18aca===_0x2fc55f;},'fbjhN':_0x5bc78f(0x207),'stcHO':function(_0x21f8da,_0x49b496){return _0x21f8da+_0x49b496;},'mhsiR':_0x5bc78f(0x153),'woWFb':function(_0x2a1d53,_0xcdf3e7){return _0x2a1d53(_0xcdf3e7);},'fEHBW':_0x5bc78f(0x12c)};if(_0x505460[_0x5bc78f(0x193)](isTurboScaleSession,this[_0x5bc78f(0x139)])){const _0x100bde=await helper[_0x5bc78f(0x15e)](this['config']);this[_0x5bc78f(0x139)][_0x5bc78f(0x163)]=_0x100bde,_0x100bde[_0x5bc78f(0x140)]&&(this['config'][_0x5bc78f(0x12a)]=!![],this['config']['browserStackLocalOptions']['localIdentifier']=_0x505460[_0x5bc78f(0x214)],this['config'][_0x5bc78f(0x1af)][_0x505460[_0x5bc78f(0x1be)]]=_0x100bde[_0x5bc78f(0x1bb)][_0x5bc78f(0x183)](','),this[_0x5bc78f(0x139)]['browserStackLocalOptions'][_0x5bc78f(0x1c0)]=_0x505460[_0x5bc78f(0x174)]),this['config'][_0x5bc78f(0x1e5)]=_0x100bde[_0x5bc78f(0x125)],this[_0x5bc78f(0x136)]&&_0x505460[_0x5bc78f(0x1fa)](this[_0x5bc78f(0x136)][_0x5bc78f(0x130)](),_0x505460[_0x5bc78f(0x18c)])&&(this[_0x5bc78f(0x139)]['turboScaleUrl']=_0x505460[_0x5bc78f(0x21f)](_0x100bde[_0x5bc78f(0x12d)],_0x505460[_0x5bc78f(0x1dc)])),constants[_0x5bc78f(0x21d)]=helper[_0x5bc78f(0x167)](this[_0x5bc78f(0x139)]),logger['debug'](_0x5bc78f(0x180)+constants[_0x5bc78f(0x21d)]);}helper[_0x5bc78f(0x1a6)](this[_0x5bc78f(0x139)]),this[_0x5bc78f(0x20c)](),_0x505460['woWFb'](setPercyFlag,this),await this[_0x5bc78f(0x128)](),![_0x505460['fEHBW']]['includes'](this[_0x5bc78f(0x136)])&&!_0x505460[_0x5bc78f(0x213)](isTurboScaleSession,this['config'])&&!process[_0x5bc78f(0x173)][_0x5bc78f(0x16a)]&&await this[_0x5bc78f(0x1b4)]();}async[a55_0xd347c7(0x223)](){const _0x2c4781=a55_0xd347c7,_0x44c237={};_0x44c237['YhuJc']=function(_0x309ee5,_0x2c806e){return _0x309ee5===_0x2c806e;},_0x44c237[_0x2c4781(0x14f)]=_0x2c4781(0x12e),_0x44c237['KZyxH']=_0x2c4781(0x150),_0x44c237['WIStH']=_0x2c4781(0x196),_0x44c237[_0x2c4781(0x216)]=_0x2c4781(0x148),_0x44c237[_0x2c4781(0x1ed)]='beforeExit';const _0x4b1944=_0x44c237;if(helper[_0x2c4781(0x1b8)](this[_0x2c4781(0x139)]['percy'])&&(!this[_0x2c4781(0x1f7)]||!this['percy'][_0x2c4781(0x13a)]()))try{this[_0x2c4781(0x1f7)]=await percyHelper[_0x2c4781(0x1c9)](this['config']);if(!this[_0x2c4781(0x1f7)]){process['env'][_0x2c4781(0x1fc)]=_0x4b1944[_0x2c4781(0x14f)];throw new Error(_0x4b1944[_0x2c4781(0x1a8)]);}logger[_0x2c4781(0x219)](_0x4b1944[_0x2c4781(0x122)]),process[_0x2c4781(0x173)][_0x2c4781(0x1fc)]=_0x4b1944[_0x2c4781(0x216)];let _0x1bb53b=0x0;const _0x2b01c0=async()=>{const _0x1bf77f=_0x2c4781;_0x1bb53b++,_0x4b1944[_0x1bf77f(0x20a)](_0x1bb53b,0x1)&&await this[_0x1bf77f(0x1dd)]();};process['on'](_0x4b1944[_0x2c4781(0x1ed)],_0x2b01c0);}catch(_0x12075a){process[_0x2c4781(0x173)][_0x2c4781(0x1fc)]=_0x4b1944[_0x2c4781(0x14f)],logger[_0x2c4781(0x127)](_0x2c4781(0x210)+_0x12075a);throw new Error(_0x12075a[_0x2c4781(0x221)]());}}async[a55_0xd347c7(0x1dd)](){const _0x3ad3bf=a55_0xd347c7,_0x2bceee={};_0x2bceee['QmHKy']=_0x3ad3bf(0x131),_0x2bceee[_0x3ad3bf(0x1f6)]='Error\x20occured\x20while\x20stopping\x20percy';const _0x20feea=_0x2bceee;if(this[_0x3ad3bf(0x1f7)]&&this[_0x3ad3bf(0x1f7)]['isRunning']())try{await percyHelper['stopPercy'](this[_0x3ad3bf(0x1f7)]),logger[_0x3ad3bf(0x219)](_0x20feea['QmHKy']);}catch(_0x3bbfe6){logger['error'](_0x20feea[_0x3ad3bf(0x1f6)],_0x3bbfe6['message']);}}async[a55_0xd347c7(0x128)](){const _0x372ef0=a55_0xd347c7,_0x2abc4c={};_0x2abc4c['LsKuv']=_0x372ef0(0x18e),_0x2abc4c[_0x372ef0(0x1ac)]='Local\x20binary\x20started\x20successfully';const _0x1cd563=_0x2abc4c;if(helper['isBrowserstackInfra']()&&helper[_0x372ef0(0x1b8)](this[_0x372ef0(0x139)]['browserstackLocal'])&&(!this[_0x372ef0(0x12a)]||!this['browserstackLocal'][_0x372ef0(0x13a)]()))try{if(this[_0x372ef0(0x139)][_0x372ef0(0x1af)][_0x372ef0(0x1c7)]){logger[_0x372ef0(0x127)](_0x1cd563[_0x372ef0(0x1d1)]);return;}this[_0x372ef0(0x12a)]=await helper[_0x372ef0(0x14b)](this[_0x372ef0(0x139)]),logger[_0x372ef0(0x219)](_0x1cd563[_0x372ef0(0x1ac)]);}catch(_0x23b64f){logger[_0x372ef0(0x127)](_0x23b64f);throw new Error(_0x23b64f[_0x372ef0(0x221)]());}}async[a55_0xd347c7(0x185)](){const _0x27d77d=a55_0xd347c7,_0x100688={};_0x100688[_0x27d77d(0x14d)]=_0x27d77d(0x1ad),_0x100688[_0x27d77d(0x199)]=_0x27d77d(0x1f0);const _0x5940be=_0x100688;if(this[_0x27d77d(0x12a)]&&this[_0x27d77d(0x12a)][_0x27d77d(0x13a)]())try{await helper[_0x27d77d(0x1cb)](this[_0x27d77d(0x12a)]),logger[_0x27d77d(0x219)](_0x5940be['iNfMq']);}catch(_0x1e167f){logger[_0x27d77d(0x138)](_0x5940be[_0x27d77d(0x199)],_0x1e167f[_0x27d77d(0x1a2)]);}}async[a55_0xd347c7(0x1b4)](){const _0x3145f6=a55_0xd347c7;return PerformanceTester[_0x3145f6(0x145)](PerformanceAutEvents[_0x3145f6(0x175)],async()=>{const _0x50ec7f=_0x3145f6;await hubAllocator[_0x50ec7f(0x161)](this['config']);})();}async[a55_0xd347c7(0x137)](){const _0x13561e=a55_0xd347c7,_0x15d690={'nHXWp':function(_0x72e7a5,_0x16d6f4){return _0x72e7a5(_0x16d6f4);},'yKfBU':_0x13561e(0x1bf),'TNqDT':function(_0x4cce3e,_0x220cc7,_0x2223cb,_0x475fb6,_0x1d0965,_0x4b8113,_0x5c89b2){return _0x4cce3e(_0x220cc7,_0x2223cb,_0x475fb6,_0x1d0965,_0x4b8113,_0x5c89b2);},'ntMhZ':'BrowserstackHealing.init\x20method\x20timed\x20out','WifxF':_0x13561e(0x159),'WeQzN':_0x13561e(0x1ce),'QGjmy':'BrowserstackHealing.init','ocxhL':function(_0x265aed,_0xfcbcf3){return _0x265aed===_0xfcbcf3;},'WaZKg':_0x13561e(0x148),'RQWjk':function(_0x576dc3,_0x30397a){return _0x576dc3===_0x30397a;},'vjpUg':function(_0x559070,_0x1d1ac5){return _0x559070===_0x1d1ac5;},'YXpiC':_0x13561e(0x17d),'DLSlH':function(_0x3aad7e,_0x54aa52){return _0x3aad7e===_0x54aa52;},'CibBh':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','RUnle':_0x13561e(0x178),'VusBw':_0x13561e(0x13e),'vBXng':function(_0x52dddd,_0x472f6a){return _0x52dddd>=_0x472f6a;},'GNpfS':function(_0x215ad0,_0x6b29a5){return _0x215ad0<_0x6b29a5;},'jPrzs':_0x13561e(0x15c),'aEdpo':_0x13561e(0x212),'hoGxW':function(_0x290135){return _0x290135();}},_0x458eb9=PerformanceTester[_0x13561e(0x145)](_0x15d690[_0x13561e(0x16d)],async()=>{const _0x2c390a=_0x13561e;try{const _0xb686c8=new Date(),_0x2a8e0a=helper[_0x2c390a(0x1d0)](this['config']),_0x245301=_0x15d690[_0x2c390a(0x1ae)](require,path[_0x2c390a(0x183)](__dirname,_0x15d690['yKfBU'])),_0x526d8a=_0x15d690[_0x2c390a(0x217)](timeoutPromise,constants[_0x2c390a(0x144)],_0x15d690[_0x2c390a(0x13d)],_0x15d690[_0x2c390a(0x13c)],_0xb686c8,this[_0x2c390a(0x139)],this[_0x2c390a(0x136)]),_0x2c0907={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x15d690[_0x2c390a(0x1ae)](require,_0x15d690['WeQzN'])['version'],'methodUsed':_0x15d690[_0x2c390a(0x19c)],'proxyConfig':_0x2a8e0a,'os':os[_0x2c390a(0x15f)]()};if(_0x2a8e0a&&_0x2a8e0a['proxyUrl']){utilities[_0x2c390a(0x135)](constants['AI_PROXY_FAILURE'],_0x2c0907,this[_0x2c390a(0x139)],this[_0x2c390a(0x136)]);return;}const _0x229f00={};_0x229f00[_0x2c390a(0x154)]=_0x2a8e0a;const _0x32f025=await Promise[_0x2c390a(0x177)]([_0x245301['init'](this[_0x2c390a(0x139)][_0x2c390a(0x129)],this['config'][_0x2c390a(0x20e)],constants[_0x2c390a(0x20f)],_0x15d690[_0x2c390a(0x1ae)](require,_0x15d690[_0x2c390a(0x151)])[_0x2c390a(0x13f)],_0x229f00)[_0x2c390a(0x211)](_0xac820b=>{return _0x526d8a['cancel'](),_0xac820b;}),_0x526d8a]);_0x32f025[_0x2c390a(0x17a)]=_0x15d690['ocxhL'](_0x32f025[_0x2c390a(0x17a)],_0x15d690[_0x2c390a(0x21c)])||_0x15d690['RQWjk'](_0x32f025[_0x2c390a(0x17a)],!![]);const _0x2bee21=_0x15d690[_0x2c390a(0x1d7)](this[_0x2c390a(0x139)][_0x2c390a(0x192)],!![])||_0x15d690[_0x2c390a(0x181)](this['config'][_0x2c390a(0x192)],_0x15d690['WaZKg']);if(_0x15d690['RQWjk'](_0x32f025[_0x2c390a(0x1a2)],constants[_0x2c390a(0x1d6)])&&_0x2bee21)logger['info'](_0x15d690['YXpiC']);else{if(!_0x32f025[_0x2c390a(0x157)]&&_0x15d690[_0x2c390a(0x14e)](_0x32f025[_0x2c390a(0x1d4)],0x1f7)&&_0x2bee21)logger[_0x2c390a(0x219)](_0x15d690['CibBh']),utilities['fireFunnelTestEvent'](constants[_0x2c390a(0x209)],_0x2c0907,this['config'],this['framework']);else{if(!_0x32f025[_0x2c390a(0x157)]&&_0x2bee21){logger[_0x2c390a(0x219)](_0x15d690[_0x2c390a(0x133)]);const _0x2543d4={'tcgUrl':constants[_0x2c390a(0x20f)],'sdkVersion':_0x15d690[_0x2c390a(0x1ae)](require,_0x15d690['WeQzN'])[_0x2c390a(0x13f)],'methodUsed':_0x15d690[_0x2c390a(0x19c)],'proxyConfig':_0x2a8e0a,'os':os[_0x2c390a(0x15f)]()};utilities[_0x2c390a(0x135)](constants[_0x2c390a(0x201)],_0x2543d4,this['config'],this[_0x2c390a(0x136)]);}else{if(_0x32f025[_0x2c390a(0x157)]&&!_0x32f025['isHealingEnabled']&&_0x2bee21)logger['info'](_0x15d690[_0x2c390a(0x189)]);else{if(_0x15d690[_0x2c390a(0x18f)](_0x32f025[_0x2c390a(0x1d4)],0xc8)&&_0x15d690[_0x2c390a(0x134)](_0x32f025[_0x2c390a(0x1d4)],0x12c))utilities[_0x2c390a(0x135)](constants[_0x2c390a(0x188)],_0x2c0907,this['config'],this[_0x2c390a(0x136)]);else{if(_0x15d690[_0x2c390a(0x18f)](_0x32f025[_0x2c390a(0x1d4)],0x190))_0x2c0907[_0x2c390a(0x1d4)]=_0x32f025[_0x2c390a(0x1d4)],utilities['fireFunnelTestEvent'](constants[_0x2c390a(0x1da)],_0x2c0907,this[_0x2c390a(0x139)],this[_0x2c390a(0x136)]);else!_0x32f025['status']&&utilities[_0x2c390a(0x135)](constants[_0x2c390a(0x1b9)],_0x2c0907,this[_0x2c390a(0x139)],this[_0x2c390a(0x136)]);}}}}}if(_0x32f025[_0x2c390a(0x157)]&&_0x32f025[_0x2c390a(0x17a)]){const _0x2d120c={};_0x2d120c[_0x2c390a(0x1a9)]=_0x32f025;const _0xb13f88=_0x2d120c;_0x2a8e0a&&(_0xb13f88[_0x2c390a(0x1c6)]=_0x2a8e0a),_0xb13f88[_0x2c390a(0x136)]=this['framework'],_0xb13f88[_0x2c390a(0x20b)]=this[_0x2c390a(0x139)],helper['setupTcgConfigFile'](_0xb13f88),logger['debug'](_0x15d690[_0x2c390a(0x164)]);}}catch(_0x4fda19){logger[_0x2c390a(0x127)]('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x4fda19[_0x2c390a(0x1a2)]?_0x4fda19['message']:''));}});await _0x15d690['hoGxW'](_0x458eb9);}[a55_0xd347c7(0x20c)](){const _0x3582a3=a55_0xd347c7,_0x1c1ff3={'mFQAX':function(_0x4654f7,_0x39110c){return _0x4654f7(_0x39110c);},'ZYtHf':_0x3582a3(0x15b)};_0x1c1ff3[_0x3582a3(0x123)](require,_0x1c1ff3[_0x3582a3(0x21b)])();}['handleExceptions'](){const _0x48786a=a55_0xd347c7,_0x3502dc={};_0x3502dc[_0x48786a(0x1f9)]='unhandledRejection',_0x3502dc[_0x48786a(0x171)]=_0x48786a(0x1db);const _0x3787f6=_0x3502dc,_0x2739a2=_0x586968=>{const _0x262b61=_0x48786a;logger[_0x262b61(0x138)](_0x586968[_0x262b61(0x1a2)]),logger[_0x262b61(0x127)](util[_0x262b61(0x15d)](_0x586968)),this[_0x262b61(0x1f5)]['push'](util[_0x262b61(0x15d)]('%j',_0x586968)),PerformanceTester[_0x262b61(0x1e9)](_0x586968);};process['on'](_0x3787f6[_0x48786a(0x1f9)],_0x2739a2),process['on'](_0x3787f6['dXzDq'],_0x2739a2);}async['intExitHandler'](_0x2f8f41){const _0x2b673d=a55_0xd347c7,_0x49f9dd={};_0x49f9dd[_0x2b673d(0x1fb)]=_0x2b673d(0x1f8),_0x49f9dd['wdLLr']=function(_0x205c5b,_0x5acc64){return _0x205c5b+_0x5acc64;},_0x49f9dd[_0x2b673d(0x132)]=_0x2b673d(0x14c),_0x49f9dd[_0x2b673d(0x1ea)]=_0x2b673d(0x1aa);const _0x1a7d98=_0x49f9dd,_0x529e89=_0x1a7d98[_0x2b673d(0x1fb)]['split']('|');let _0x1321e4=0x0;while(!![]){switch(_0x529e89[_0x1321e4++]){case'0':this[_0x1a7d98[_0x2b673d(0x20d)](_0x1a7d98[_0x2b673d(0x132)],_0x2f8f41)]=!![];continue;case'1':this[_0x2b673d(0x1a4)]=_0x2f8f41;continue;case'2':await TestHubHandler[_0x2b673d(0x19e)](_0x2f8f41);continue;case'3':if(this[_0x1a7d98[_0x2b673d(0x20d)](_0x1a7d98['cTibq'],_0x2f8f41)])return;continue;case'4':logger[_0x2b673d(0x219)](_0x1a7d98[_0x2b673d(0x20d)](_0x1a7d98[_0x2b673d(0x1ea)],_0x2f8f41));continue;}break;}}[a55_0xd347c7(0x208)](){const _0x3e609f=a55_0xd347c7,_0x18d734={};_0x18d734[_0x3e609f(0x158)]=function(_0x3550fb,_0x313c7f){return _0x3550fb===_0x313c7f;},_0x18d734[_0x3e609f(0x203)]='Calling\x20Build\x20Stop\x20from\x20ExitHandler',_0x18d734['DShrW']=function(_0x2a2683,_0x36aabe){return _0x2a2683>_0x36aabe;},_0x18d734[_0x3e609f(0x1bd)]=_0x3e609f(0x169);const _0x2bfaf8=_0x18d734;let _0x4fa662=0x0;return async()=>{const _0x29d5a8=_0x3e609f;_0x4fa662++;if(_0x2bfaf8[_0x29d5a8(0x158)](_0x4fa662,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0x29d5a8(0x136)])&&await this['stopBrowserstackLocal']();try{logger['debug'](_0x2bfaf8['xWgrX']),await TestHubHandler[_0x29d5a8(0x19e)](_0x4fa662);}catch(_0x229750){logger[_0x29d5a8(0x127)](_0x29d5a8(0x165)+util[_0x29d5a8(0x15d)](_0x229750));}PerformanceTester[_0x29d5a8(0x1cf)](PerformanceEvents[_0x29d5a8(0x1ec)]);if(PerformanceTester[_0x29d5a8(0x1ff)]()){const {measures:_0x12812e,errors:_0x2d3109}=await PerformanceTester[_0x29d5a8(0x19d)](),_0x5e3d58={};if(_0x12812e&&_0x2bfaf8['DShrW'](_0x12812e[_0x29d5a8(0x1ab)],0x0)||_0x2d3109&&_0x2bfaf8['DShrW'](_0x2d3109[_0x29d5a8(0x1ab)],0x0)){const _0x1e56f6={};_0x1e56f6[_0x29d5a8(0x141)]=_0x12812e,_0x1e56f6['exceptions']=_0x2d3109,Object[_0x29d5a8(0x149)](_0x5e3d58,_0x1e56f6);}try{const _0x1fe59c=await helper[_0x29d5a8(0x142)](_0x5e3d58,this['config']);logger['debug']('Data\x20sent\x20successfully\x20to\x20'+constants[_0x29d5a8(0x195)]+_0x29d5a8(0x21e)+_0x1fe59c[_0x29d5a8(0x184)]);}catch(_0x30027a){logger[_0x29d5a8(0x127)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x29d5a8(0x195)]+_0x29d5a8(0x1f1)+util[_0x29d5a8(0x15d)](_0x30027a));}try{fs['writeFileSync'](_0x2bfaf8['egFGR'],JSON[_0x29d5a8(0x162)](_0x5e3d58));}catch(_0x5351b7){logger[_0x29d5a8(0x127)](_0x29d5a8(0x1d3)+_0x5351b7);}}}};}}exports[a55_0xd347c7(0x143)]=BrowserStackSetup;function a55_0x19f7(){const _0x19b6d7=['GNpfS','fireFunnelTestEvent','framework','setupTCGAuth','error','config','isRunning','ZQnYS','WifxF','ntMhZ','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','version','isTrialGrid','measures','sendToEDS','default','TCG_AUTH_TIMEOUT','measureWrapper','SIGTERM','isBrowserstackInfra','true','assign','1867782rVdAcd','startLocalBinary','handled','iNfMq','DLSlH','SbJov','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','WeQzN','setHandlePWError','?caps=','proxy','192871pCZytD','testContextOptions','isAuthenticated','BsOJc','BrowserstackHealingInitFailed','./testhub/testhubHandler','./setKeepAlive','tcg\x20config\x20setup\x20successful.','format','getTurboScaleGridDetails','platform','winstonLogger','allocateHub','stringify','turboScaleGridDetails','jPrzs','Error\x20in\x20sending\x20testhub\x20stop:\x20','sanitizeCaps','getHubUrl','setEnvCaps','log/events.json','BROWSERSTACK_CENTRAL_USER','iWqwl','getLocalConfig','aEdpo','integrations','4.5.0','644614DFNEjB','dXzDq','isUndefined','env','FzTMN','HUB_MANAGEMENT','1175970TxQeUs','race','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','disableAutoCaptureLogs','isHealingEnabled','turboScale','SIGBREAK','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','localOptions','split','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','RQWjk','SDK\x20run\x20started\x20with\x20id:\x20','join','statusCode','stopBrowserstackLocal','./performance/performance-tester','./percy/utils','AI_INIT_SUCCESSFUL','VusBw','envConfig','turboScaleOptions','fbjhN','BROWSERSTACK_TURBOSCALE','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','vBXng','setBrowserstackInfraFromConfig','platforms','selfHeal','WAuAw','HtOWx','EDS_URL','Percy\x20started\x20successfully','skipSessionName','sdkRunID','oEoqd','1805752rdrzRg','./testhub/utils','QGjmy','finalize','stop','getLocalIdentifier','./logger','zYZgb','message','../bin/utils/constants','killSignal','userName\x20or\x20accessKey\x20is\x20not\x20defined','setProxySettings','doySZ','KZyxH','tcgAuthConfig','Shutdown\x20triggered\x20by\x20','length','mxjsS','Local\x20binary\x20stopped','nHXWp','browserStackLocalOptions','rcKGB','getPackageVersion','util','useW3C','setUpHubUrl','GOUeg','setCLICaps','compareVersions','isTrue','INVALID_INIT_RESP_WITH_USER_IMPACT','./timeoutPromise','customRepeaters','./ats/helper','egFGR','rKTef','../ai-sdk-node/bundle','forceLocal','intExitHandler','tDjdP','SIGHUP','bind','cliConfig','proxyConfig','skipBinaryInitialisation','No\x20config\x20provided.','startPercy','../hubAllocationMethods','stopLocalBinary','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','SIGINT','../../package.json','end','getProxyConfigForTcg','LsKuv','warn','Error\x20in\x20writing\x20events\x20to\x20file\x20','status','6RsLwGc','UPGRADE_REQUIRED','vjpUg','Xxsyy','getUserName','AI_INIT_FAILURE','uncaughtException','mhsiR','stopPercy','AUTOLOGCAPTURE_NOTIFICATION','initialize','pWjHR','OkeWa','fDUdg','FpApO','./helper','turboScaleUrl','localIdentifier','handleExceptions','skipSessionStatus','captureError','XxFTc','custom-repeater','SDK_CLEANUP','gGkrZ','zLdxY','GWbxK','Error\x20occured\x20while\x20stopping\x20local\x20binary','\x20with\x20error\x20','generateLocalIdentifier','EGJjb','4WiwAVI','unhandledErrors','dPtTY','percy','3|0|4|1|2','veQZR','IjcVy','FNQkO','BROWSERSTACK_PERCY','YYBYx','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','isEnabled','./utilities','TCG_AUTH_FAILURE','SDKTestAttempted','xWgrX','euXnu','FRAMEWORK','1029402qnojor','playwright','exitHandler','TCG_DOWN','YhuJc','bstackConfig','setupKeepAlive','wdLLr','userName','TCG_URL','Error\x20in\x20percy\x20setup\x20','then','aiHeal:tcgAuth','woWFb','zBysI','readConfig','LnjML','TNqDT','win32','info','CfGwS','ZYtHf','WaZKg','hubUrl','\x20with\x20response\x20','stcHO','constructor','toString','getConfigPath','setupPercy','WIStH','mFQAX','beforeExit','url','LFowJ','debug','setupBrowserstackLocal','accessKey','browserstackLocal','SIGABRT','codeceptjs','playwrightUrl','false','677238ocJNSK','toLowerCase','Percy\x20stopped','cTibq','RUnle'];a55_0x19f7=function(){return _0x19b6d7;};return a55_0x19f7();}