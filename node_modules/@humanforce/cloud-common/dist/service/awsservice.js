"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AWSService = void 0;
const client_sts_1 = require("@aws-sdk/client-sts");
class AWSService {
    constructor() {
        this.sts = new client_sts_1.STSClient();
    }
    async assumeRole(roleArn) {
        const cmd = new client_sts_1.AssumeRoleCommand({
            RoleArn: roleArn,
            RoleSessionName: `LambdaAssumeRoleSession-${(new Date()).getTime()}`
        });
        const response = await this.sts.send(cmd);
        this.credentials = {
            accessKeyId: response.Credentials?.AccessKeyId,
            secretAccessKey: response.Credentials?.SecretAccessKey,
            sessionToken: response.Credentials?.SessionToken
        };
    }
    getAWSCredentials() {
        return this.credentials;
    }
}
exports.AWSService = AWSService;
