const a92_0x59b6d1=a92_0x5944;function a92_0x5944(_0x4eb64c,_0x5dbcd3){const _0xc0cdd7=a92_0xc0cd();return a92_0x5944=function(_0x5944f3,_0xe48514){_0x5944f3=_0x5944f3-0xd5;let _0x130625=_0xc0cdd7[_0x5944f3];return _0x130625;},a92_0x5944(_0x4eb64c,_0x5dbcd3);}(function(_0x27255f,_0xafea5){const _0x463c40=a92_0x5944,_0x36e09b=_0x27255f();while(!![]){try{const _0x225946=-parseInt(_0x463c40(0xe1))/0x1*(-parseInt(_0x463c40(0x114))/0x2)+-parseInt(_0x463c40(0x159))/0x3+parseInt(_0x463c40(0x10d))/0x4*(parseInt(_0x463c40(0x155))/0x5)+parseInt(_0x463c40(0xf4))/0x6+parseInt(_0x463c40(0xef))/0x7*(parseInt(_0x463c40(0xe5))/0x8)+parseInt(_0x463c40(0xea))/0x9*(-parseInt(_0x463c40(0x158))/0xa)+parseInt(_0x463c40(0x147))/0xb*(-parseInt(_0x463c40(0xed))/0xc);if(_0x225946===_0xafea5)break;else _0x36e09b['push'](_0x36e09b['shift']());}catch(_0x5d31fd){_0x36e09b['push'](_0x36e09b['shift']());}}}(a92_0xc0cd,0x3f4d1));function a92_0xc0cd(){const _0x5ea511=['zjjCV','_buildHashedId','SDK\x20run\x20ended\x20for\x20id:\x20','winstonLogger','isBrowserstackInfra','BROWSERSTACK_TESTHUB_UUID','finishedMetadata','ZCtEf','../bin/utils/constants','all','fireFunnelTestEvent','nodeRequest','13452wFkSEI','deviceName','getSessionsList','sanitizeBrowserStackConfig','./testhub/utils','browserStackConfig','env','19914rOEjrX','APP_AUTOMATE_PRODUCTS','DFLGm','lXakH','type','source','POST','finalExecution','assign','ZIzNd','hSRsE','../helpers/testhub/constants','unhandledErrors','gyluh','buildName','./ats/helper','browserVersion','browser','QySVE','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','FUNNEL_INSTRUMENTATION_API_URL','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','requirePWModule','./logger','nodejs','ENV_VAR','\x20:\x20',',\x20testhub\x20id:\x20','globalException','FizxQ','sdkRunID','[REDACTED]','user_killed','event_properties','playwrightVersion','getNodeAgent','util','getAccessKey','cPsxM','IiSts','info','error','undefined','apply','wOXeJ','WJijO','./helper','content-type','length','framework','vSWhI','7120663ZdAkTi','Error\x20in\x20firing\x20request\x20to\x20','kiFfm','split','selenium-webdriver','stopPercy','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','DUgZx','join','keys','version','values','getUserName','getOptimalHubUrl','720suJdYI','format','pNFtb','28050dSuWhm','1268547gDHVYN','getGlobal','MsAPo','cKirF','tests','./globals','name','notifyUpdate','SDKTestSuccessful','unknown','getTurboScaleBuildLink','sdkRunId','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','parse','killSignal','45EudTWU','bykGL','hoMWE','JArWb','3004600WWmKgB','YmNbg','getTurboScaleSessionsList','null','APP_AUTOMATE','990hMwTII','getTestFrameworkDetails','forEach','12udbVwX','AUTOMATE_PRODUCTS','7ACfNSi','getPackageVersion','stringify','config','cOXod','1980606dgFRvb','\x20response\x20-\x20','../bin/playwright/reporter/pwUtils','getBuildLink','codeceptjs','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','debug','body','errorMessage','osVersion','NVkLk','push','app'];a92_0xc0cd=function(){return _0x5ea511;};return a92_0xc0cd();}const os=require('os'),util=require(a92_0x59b6d1(0x138)),{getProductMap}=require(a92_0x59b6d1(0x111)),logger=require(a92_0x59b6d1(0x12b))[a92_0x59b6d1(0x104)],constants=require(a92_0x59b6d1(0x109)),testHubConstants=require(a92_0x59b6d1(0x11f)),{getTransformPath}=require(a92_0x59b6d1(0xf6)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a92_0x59b6d1(0x109)),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require('./performance/performance-tester'),globals=require(a92_0x59b6d1(0xd7)),{isTurboScaleSession}=require(a92_0x59b6d1(0x123)),helper=require(a92_0x59b6d1(0x142)),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x3c0d22,_0x1a988c={},_0x11dd7b,_0x3b8918)=>{const _0x44bc0d=a92_0x59b6d1,_0x42e39f={'pNFtb':function(_0x1e94dc,_0x3b9de0){return _0x1e94dc===_0x3b9de0;},'ZCtEf':'object','bykGL':function(_0x27ff0d,_0x11555f){return _0x27ff0d>_0x11555f;},'vSWhI':'tests','NVkLk':function(_0x15d6dc){return _0x15d6dc();},'hSRsE':function(_0x4dd70e){return _0x4dd70e();},'pFhFg':function(_0xc22119,_0x5a67c0){return _0xc22119==_0x5a67c0;},'FizxQ':_0x44bc0d(0xe8),'ZIzNd':_0x44bc0d(0x13e),'cKirF':function(_0x2d03d3,_0x1de693){return _0x2d03d3===_0x1de693;},'cPsxM':_0x44bc0d(0xf8),'hoMWE':function(_0x4db9ce,_0x19740e){return _0x4db9ce>_0x19740e;},'cOkQs':function(_0x4c39d6,_0x32f40d){return _0x4c39d6!==_0x32f40d;},'wOXeJ':'Playwright','CbzVF':function(_0x17e17a,_0xf845aa){return _0x17e17a===_0xf845aa;},'DFLGm':_0x44bc0d(0x13d),'KguFp':function(_0x3ff155,_0x358967){return _0x3ff155+_0x358967;},'JArWb':_0x44bc0d(0x14d),'gyluh':_0x44bc0d(0x102),'zjjCV':function(_0x18d24e,_0x56a10c){return _0x18d24e(_0x56a10c);},'Wtnag':function(_0x59761d,_0x50d96a){return _0x59761d(_0x50d96a);},'cOXod':_0x44bc0d(0xdb),'bxdpT':_0x44bc0d(0x12c),'YmNbg':function(_0x281065,_0xd53d72){return _0x281065===_0xd53d72;},'wSeQp':'SDKTestSuccessful','ncHDw':_0x44bc0d(0x14b),'SUJVy':'application/json','DUgZx':_0x44bc0d(0x133),'MsAPo':_0x44bc0d(0x11a)};let _0x3d3c0d=[];if(helper['isBrowserstackInfra']()&&_0x42e39f[_0x44bc0d(0xfe)](isTestObservabilitySession))_0x3d3c0d=_0x11dd7b[_0x44bc0d(0x100)]?constants[_0x44bc0d(0x115)]:constants[_0x44bc0d(0xee)];else{if(_0x42e39f[_0x44bc0d(0x11e)](isTestObservabilitySession))_0x3d3c0d=constants[_0x44bc0d(0xde)];else helper[_0x44bc0d(0x105)]()&&(_0x3d3c0d=_0x11dd7b[_0x44bc0d(0x100)]?constants[_0x44bc0d(0xe9)]:constants['AUTOMATE']);}let _0x56e029=_0x11dd7b['buildIdentifier'];if(_0x42e39f['pFhFg'](_0x56e029,null))_0x56e029=_0x42e39f[_0x44bc0d(0x131)];else _0x42e39f[_0x44bc0d(0x157)](_0x56e029,undefined)&&(_0x56e029=_0x42e39f[_0x44bc0d(0x11d)]);unhandledErrors&&_0x42e39f[_0x44bc0d(0xe2)](unhandledErrors[_0x44bc0d(0x144)],0x0)&&(_0x1a988c[_0x44bc0d(0x130)]=unhandledErrors);global[_0x44bc0d(0x132)]&&(_0x1a988c[_0x44bc0d(0xdd)]=global[_0x44bc0d(0x132)]);try{if(_0x1a988c['error']){if(_0x42e39f[_0x44bc0d(0xd5)](_0x3b8918,_0x42e39f[_0x44bc0d(0x13a)])&&_0x42e39f[_0x44bc0d(0xe3)](_0x1a988c[_0x44bc0d(0x13d)]['length'],0x0)){const _0x25a310={};_0x25a310['os']='',_0x25a310[_0x44bc0d(0xfd)]='',_0x25a310[_0x44bc0d(0x125)]='',_0x25a310[_0x44bc0d(0x124)]='';const _0x593660=_0x25a310;let _0x5d6191={};const _0x3e9027=_0x1a988c[_0x44bc0d(0x13d)];_0x5d6191=_0x3e9027['reduce']((_0x519809,_0x5d2564)=>{for(const _0x4d0c89 in _0x5d2564){_0x519809[_0x4d0c89]=_0x5d2564[_0x4d0c89];}return _0x519809;},{});const _0x230063={};_0x230063[_0x44bc0d(0xd6)]=_0x5d6191,_0x1a988c[_0x44bc0d(0x13d)]=[Object[_0x44bc0d(0x11c)]({},_0x593660,_0x230063)];}else{let _0x10685c=0x0;const _0x10eb32=_0x42e39f['cOkQs'](_0x3b8918,_0x42e39f[_0x44bc0d(0x140)])?JSON[_0x44bc0d(0xdf)](_0x1a988c['error']):_0x1a988c[_0x44bc0d(0x13d)],_0x517443=Object[_0x44bc0d(0x152)](_0x10eb32);_0x517443[_0x44bc0d(0xec)](_0x4e777d=>{const _0xe8d345=_0x44bc0d;if(_0x42e39f[_0xe8d345(0x157)](typeof _0x4e777d,_0x42e39f[_0xe8d345(0x108)])){const _0x4d8e11=Object[_0xe8d345(0x152)](_0x4e777d);!_0x4d8e11['every'](_0x427611=>_0x427611===null||_0x427611===undefined||_0x427611==='')&&(_0x10685c+=0x1);}});if(_0x42e39f['CbzVF'](_0x10685c,0x0))delete _0x1a988c[_0x42e39f[_0x44bc0d(0x116)]];else{const _0x186007=[];Object[_0x44bc0d(0x150)](_0x10eb32)[_0x44bc0d(0xec)](_0x15ee65=>{const _0x49d4f6=_0x44bc0d,[_0x28bebc,_0x47feb6,_0x4d467e,_0x19e5b3]=_0x15ee65[_0x49d4f6(0x14a)](',\x20');let _0x559241={};if(!_0x19e5b3){const _0x202305={};_0x202305[_0x49d4f6(0x10e)]=_0x28bebc,_0x202305[_0x49d4f6(0xfd)]=_0x47feb6,_0x202305[_0x49d4f6(0x125)]=_0x4d467e,_0x559241=_0x202305;}else{const _0x4838a6={};_0x4838a6['os']=_0x28bebc,_0x4838a6[_0x49d4f6(0xfd)]=_0x47feb6,_0x4838a6[_0x49d4f6(0x125)]=_0x4d467e,_0x4838a6[_0x49d4f6(0x124)]=_0x19e5b3,_0x559241=_0x4838a6;}const _0x3b4d63={},_0x424105=_0x10eb32[_0x15ee65];Object[_0x49d4f6(0x150)](_0x424105)[_0x49d4f6(0xec)](_0x335c49=>{const _0xbce667=_0x49d4f6;_0x42e39f[_0xbce667(0xe2)](_0x424105[_0x335c49][_0xbce667(0x144)],0x0)&&(_0x3b4d63[_0x335c49]=_0x424105[_0x335c49]);}),_0x42e39f[_0x49d4f6(0xe2)](Object[_0x49d4f6(0x150)](_0x3b4d63)[_0x49d4f6(0x144)],0x0)&&(_0x559241[_0x42e39f[_0x49d4f6(0x146)]]=_0x3b4d63,_0x186007[_0x49d4f6(0xff)](_0x559241));}),_0x42e39f[_0x44bc0d(0xe2)](_0x186007['length'],0x0)?_0x1a988c['error']=_0x186007:delete _0x1a988c[_0x42e39f[_0x44bc0d(0x116)]];}}}}catch(_0x3bc17a){delete _0x1a988c[_0x42e39f[_0x44bc0d(0x116)]],logger[_0x44bc0d(0xfa)](_0x42e39f['KguFp'](_0x42e39f[_0x44bc0d(0xe4)],_0x3bc17a));}const _0x4c4696=helper[_0x44bc0d(0xeb)](_0x11dd7b,_0x11dd7b[_0x44bc0d(0x145)]),_0x43e111={'userName':helper['getUserName'](_0x11dd7b),'accessKey':helper[_0x44bc0d(0x139)](_0x11dd7b),'event_type':_0x3c0d22,'detectedFramework':_0x3b8918,'buildHashedId':globals[_0x44bc0d(0x15a)](_0x42e39f[_0x44bc0d(0x121)]),'optimalHubUrl':helper[_0x44bc0d(0x154)](),'event_properties':{'testhub_uuid':process[_0x44bc0d(0x113)][testHubConstants[_0x44bc0d(0x12d)][_0x44bc0d(0x106)]]||'','sdkRunId':global[_0x44bc0d(0x132)],'product_map':_0x42e39f[_0x44bc0d(0x101)](getProductMap,_0x11dd7b),'productMap':_0x42e39f['Wtnag'](getProductMap,_0x11dd7b),'language_framework':_0x11dd7b[_0x44bc0d(0x119)]||_0x42e39f[_0x44bc0d(0xf3)],'referrer':helper[_0x44bc0d(0x137)](_0x3b8918),'framework':_0x11dd7b[_0x44bc0d(0x145)],'frameworkVersion':helper['getFrameworkVersion'](_0x3b8918),'automationFramework':_0x4c4696[_0x44bc0d(0xd8)],'automationFrameworkVersion':_0x4c4696[_0x44bc0d(0x151)],'language':_0x42e39f['bxdpT'],'languageVersion':process[_0x44bc0d(0x151)],'product':_0x3d3c0d,'buildName':_0x11dd7b[_0x44bc0d(0x122)]||_0x42e39f['ZIzNd'],'buildIdentifier':_0x56e029,'os':os[_0x44bc0d(0x118)]()||_0x42e39f[_0x44bc0d(0xf3)],'hostname':os['hostname']()||_0x42e39f['cOXod'],..._0x1a988c}};try{_0x42e39f[_0x44bc0d(0xe6)](_0x3c0d22,_0x42e39f['wSeQp'])&&(_0x43e111[_0x44bc0d(0x135)][_0x44bc0d(0x112)]=helper[_0x44bc0d(0x110)](_0x11dd7b)),_0x42e39f[_0x44bc0d(0x157)](_0x3b8918,_0x42e39f[_0x44bc0d(0x140)])?_0x43e111[_0x44bc0d(0x135)][_0x44bc0d(0x136)]=helper[_0x44bc0d(0x12a)][_0x44bc0d(0x13f)](null,_0x42e39f[_0x44bc0d(0xfe)](getTransformPath),!![]):_0x43e111[_0x44bc0d(0x135)]['seleniumVersion']=helper[_0x44bc0d(0xf0)](_0x42e39f['ncHDw']);}catch(_0x4da786){logger['debug'](_0x44bc0d(0x127)+_0x4da786);}const _0x3e829e={};_0x3e829e[_0x44bc0d(0x143)]=_0x42e39f['SUJVy'];const _0x19f762={'headers':_0x3e829e,'body':_0x43e111,'auth':{'user':helper['getUserName'](_0x11dd7b),'pass':helper[_0x44bc0d(0x139)](_0x11dd7b)},'json':!![]};logger[_0x44bc0d(0xfa)](_0x44bc0d(0x129)+JSON[_0x44bc0d(0xf1)](_0x19f762[_0x44bc0d(0xfb)])['replace'](new RegExp(helper[_0x44bc0d(0x153)](_0x11dd7b),'g'),_0x42e39f['DUgZx'])['replace'](new RegExp(helper['getAccessKey'](_0x11dd7b),'g'),_0x42e39f[_0x44bc0d(0x14e)]));try{const _0x2feae9=await helper[_0x44bc0d(0x10c)](_0x42e39f[_0x44bc0d(0x15b)],constants[_0x44bc0d(0x128)],_0x19f762,_0x11dd7b);logger[_0x44bc0d(0xfa)]('API\x20Event\x20'+_0x3c0d22+_0x44bc0d(0xf5)+util[_0x44bc0d(0x156)]('%j',_0x2feae9));}catch(_0x5e436d){logger[_0x44bc0d(0xfa)](_0x44bc0d(0x148)+FUNNEL_INSTRUMENTATION_API_URL+_0x44bc0d(0x12e)+util[_0x44bc0d(0x156)](_0x5e436d));}},exports[a92_0x59b6d1(0x11b)]=async _0x4261c3=>{const _0x21eb71=a92_0x59b6d1,_0x5c9d39={'jrJlC':function(_0x1a6a42){return _0x1a6a42();},'kiFfm':_0x21eb71(0x107),'IKzDx':_0x21eb71(0x134),'WJijO':function(_0x50ded0,_0x37053e){return _0x50ded0(_0x37053e);},'lXakH':_0x21eb71(0xda),'spKBV':function(_0x3adb6f,_0xe38e0d,_0x324863){return _0x3adb6f(_0xe38e0d,_0x324863);},'QySVE':function(_0x54ba0a,_0x3be825){return _0x54ba0a+_0x3be825;},'IiSts':_0x21eb71(0xf9)};try{await _0x4261c3[_0x21eb71(0x14c)](),_0x5c9d39['jrJlC'](printNudgeLocalNotSetError);const _0x23a3e2={};_0x23a3e2[_0x21eb71(0x13d)]=_0x4261c3['errorMessage']?_0x4261c3[_0x21eb71(0xfc)]:'{}';const _0x736a58=_0x23a3e2,_0x1ec6bc=Object['assign']({},_0x736a58);!!_0x4261c3[_0x21eb71(0xe0)]&&(_0x1ec6bc[_0x5c9d39[_0x21eb71(0x149)]]={'reason':_0x5c9d39['IKzDx'],'signal':_0x4261c3[_0x21eb71(0xe0)]});unhandledErrors=_0x4261c3[_0x21eb71(0x120)][_0x21eb71(0x14f)]('\x0a');let _0x38d5ee,_0x42db92,_0x4cfa5f;_0x5c9d39[_0x21eb71(0x141)](isTurboScaleSession,_0x4261c3[_0x21eb71(0xf2)])?([_0x38d5ee,_0x42db92]=await helper[_0x21eb71(0xdc)](_0x4261c3[_0x21eb71(0xf2)]),[_0x4cfa5f]=await Promise[_0x21eb71(0x10a)]([helper[_0x21eb71(0xe7)](_0x38d5ee,_0x4261c3[_0x21eb71(0xf2)]),exports[_0x21eb71(0x10b)](_0x5c9d39[_0x21eb71(0x117)],_0x1ec6bc,_0x4261c3['config'],_0x4261c3[_0x21eb71(0x145)])])):([_0x38d5ee,_0x42db92]=await helper[_0x21eb71(0xf7)](_0x4261c3[_0x21eb71(0xf2)]),[_0x4cfa5f]=await Promise['all']([helper[_0x21eb71(0x10f)](_0x38d5ee,_0x4261c3[_0x21eb71(0xf2)]),exports[_0x21eb71(0x10b)](_0x5c9d39[_0x21eb71(0x117)],_0x1ec6bc,_0x4261c3['config'],_0x4261c3[_0x21eb71(0x145)])])),_0x4cfa5f&&await _0x5c9d39['spKBV'](generateCIArtifacts,_0x4cfa5f,_0x42db92),logger[_0x21eb71(0x13c)](_0x21eb71(0x103)+_0x4261c3[_0x21eb71(0x132)]+_0x21eb71(0x12f)+process[_0x21eb71(0x113)][_0x21eb71(0x106)]),await helper['sendLogs'](_0x4261c3[_0x21eb71(0xf2)]);}catch(_0x174e4c){logger['debug'](_0x5c9d39[_0x21eb71(0x126)](_0x5c9d39[_0x21eb71(0x13b)],_0x174e4c));}helper[_0x21eb71(0xd9)]();};